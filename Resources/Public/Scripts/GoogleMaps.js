(()=>{var y=window.name=="neos-content-main",L=document,O=L.documentElement,_=window.matchMedia("(prefers-color-scheme: dark)");function A(e){return[...e.querySelectorAll(".carbon-geomap-coordinate")].map(t=>{let o=t.dataset,n=JSON.parse(o?.coordinate||null);return n?{element:t,html:t.outerHTML,popup:!!t.innerHTML,lat:n.lat,lng:n.lng,pinColor:o?.pinColor||"red"}:null}).filter(t=>t!==null)}function M(e){return e.querySelector(".carbon-geomap__canvas")}function k(e,t){[...L.querySelectorAll(`.carbon-geomap.jonnitto-maps--${e.toLowerCase()}`)].forEach(o=>{o.querySelector(".carbon-geomap__reload-button")?.remove(),!o.classList.contains("jonnitto-maps--done")&&(o.classList.add("jonnitto-maps--done"),t(o))})}function F(e,t,o=!0){if(!(!o||typeof e!="function")){if(t){new MutationObserver(i=>{i.forEach(function(r){r.type==="attributes"&&r.attributeName==="class"&&e()})}).observe(O,{attributes:!0});return}_.addEventListener("change",e)}}function $(e){return!!(!e&&_.matches||e&&O.classList.contains("dark"))}function q(e){return e?.basedOn==="class"}function J(e){return!!(typeof e=="object"&&e?.light&&e?.dark)}function T(e){if(!J(e))return;let t=()=>{let n=$(o)?e.dark:e.light;[...document.querySelectorAll(".jonnitto-maps .carbon-geomap__canvas")].forEach(i=>{i.dataset.effect=n})},o=q(e);F(t,o),t()}async function I(){return await fetch("/maps-settings.json").then(e=>e.json())}function D(e){return Object.fromEntries(Object.entries(e).filter(([t,o])=>o!=null))}function P(e){e(),window.addEventListener("jonnitto-maps:init",e,!0)}function U(e,t){e.src=t}var V=e=>{var t,o,n,i="The Google Maps JavaScript API",r="google",b="importLibrary",w="__ib__",l=document,f=window,s=f[r]||(f[r]={}),u=s.maps||(s.maps={}),E=new Set,p=new URLSearchParams,h=()=>t||(t=new Promise(async(d,m)=>{await(o=l.createElement("script")),p.set("libraries",[...E]+"");for(n in e)p.set(n.replace(/[A-Z]/g,a=>"_"+a[0].toLowerCase()),e[n]);p.set("callback",r+".maps."+w),U(o,"https://maps.googleapis.com/maps/api/js?"+p),u[w]=d,o.onerror=()=>t=m(Error(i+" could not load.")),o.nonce=l.querySelector("script[nonce]")?.nonce||"",l.head.append(o)}));u[b]?console.warn(i+" only loads once. Ignoring:",e):u[b]=(d,...m)=>E.add(d)&&h().then(()=>u[b](d,...m))};var z=e=>`The setOptions() function should only be called once. The options passed to the additional call (${JSON.stringify(e)}) will be ignored.`,W=e=>`The google.maps.importLibrary() function is already defined, and @googlemaps/js-api-loader will use the existing function instead of overwriting it. The options passed to setOptions (${JSON.stringify(e)}) will be ignored.`,K="No options were set before calling importLibrary. Make sure to configure the loader using setOptions().";var C=()=>{},H=()=>{};var S=!1;function N(e){if(S){C(z(e));return}X(e),S=!0}async function R(e){if(S||C(K),!window?.google?.maps?.importLibrary)throw new Error("google.maps.importLibrary is not installed.");return await google.maps.importLibrary(e)}function X(e){let t=!!window.google?.maps?.importLibrary;t&&H(W(e)),t||V(e)}var j="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var x=(e=21)=>{let t="",o=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=j[o[e]&63];return t};var Y=[],c=null;function Z({element:e,service:t}){c||(c=window.google.maps);let o=M(e),n=[],i=A(e),r=i.length,b=JSON.parse(e.dataset?.center||null),w=t.options?.enableDirections||!1,l=D(t.options?.mapOptions||{}),f=parseInt(e.dataset?.zoom)||l.zoom||14;l.center=b??{lat:0,lng:0},l.zoom=f,l.mapId=l.mapId||`map-${x(10)}`;let s=new c.Map(o,l),u=new c.InfoWindow({maxWidth:500}),E=w?new c.DirectionsService:null,p=w?new c.DirectionsRenderer({map:s,suppressMarkers:!0}):null,h=0,d=0,m=0;if(p&&p.setMap(s),i.forEach(a=>{let v=new c.marker.PinElement({background:a.pinColor,glyphColor:"#fff",borderColor:"rgb(0 0 0 / 50%)"}),g=new c.marker.AdvancedMarkerElement({position:{lat:a.lat,lng:a.lng},map:s,draggable:!1,content:v.element,zIndex:-20});p&&!y&&g.addListener("click",()=>{if(h++,h==1){d=g.position;return}h==3&&(p.set("directions",null),d=m,h=2),m=g.position,ee(E,p,d,m)}),a.html&&g.addListener("click",()=>{u.setContent(a.html),u.open({anchor:g,map:s})}),y&&g.addListener("click",()=>{window.addressElement=a.element,["mousedown","mouseup"].forEach(B=>a.element.dispatchEvent(new Event(B,{bubbles:!0})))}),n.push(g)}),r>1){let a=new c.LatLngBounds;n.forEach(v=>{a.extend(v.getPosition())}),s.fitBounds(a),setTimeout(()=>{s.getZoom()>f&&s.setZoom(f)},200)}document.dispatchEvent(new CustomEvent("initializedJonnittoMaps",{detail:{element:e,service:t,map:s,markers:n}})),Y.push(s)}async function Q(){let{service:e,effect:t}=await I(),o=e.options.apiKey;if(!o){console.error("No API key found");return}let n=["maps","marker"];e?.options?.enableDirections&&n.push("places"),N({key:o,v:"weekly",libraries:n}),await Promise.all(n.map(r=>R(r))),P(()=>{T(t),k(e.name,r=>{Z({element:r,service:e})})})}var G=Q;function ee(e,t,o,n){e.route({origin:o,destination:n,travelMode:c.TravelMode.DRIVING},function(i,r){r==c.DirectionsStatus.OK&&t.setDirections(i)})}G();})();
