{
  "version": 3,
  "sources": ["../../../node_modules/.pnpm/protomaps-leaflet@1.24.2/node_modules/protomaps-leaflet/dist/protomaps-leaflet.module.js", "../../Private/Assets/Protomaps-Leaflet.js"],
  "sourcesContent": ["var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __pow = Math.pow;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a2, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a2, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a2, prop, b[prop]);\n    }\n  return a2;\n};\nvar __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step2(generator.next(value));\n      } catch (e2) {\n        reject(e2);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step2(generator.throw(value));\n      } catch (e2) {\n        reject(e2);\n      }\n    };\n    var step2 = (x2) => x2.done ? resolve(x2.value) : Promise.resolve(x2.value).then(fulfilled, rejected);\n    step2((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n// node_modules/@mapbox/point-geometry/index.js\nvar require_point_geometry = __commonJS({\n  \"node_modules/@mapbox/point-geometry/index.js\"(exports, module) {\n    \"use strict\";\n    module.exports = Point9;\n    function Point9(x2, y) {\n      this.x = x2;\n      this.y = y;\n    }\n    Point9.prototype = {\n      clone: function() {\n        return new Point9(this.x, this.y);\n      },\n      add: function(p2) {\n        return this.clone()._add(p2);\n      },\n      sub: function(p2) {\n        return this.clone()._sub(p2);\n      },\n      multByPoint: function(p2) {\n        return this.clone()._multByPoint(p2);\n      },\n      divByPoint: function(p2) {\n        return this.clone()._divByPoint(p2);\n      },\n      mult: function(k) {\n        return this.clone()._mult(k);\n      },\n      div: function(k) {\n        return this.clone()._div(k);\n      },\n      rotate: function(a2) {\n        return this.clone()._rotate(a2);\n      },\n      rotateAround: function(a2, p2) {\n        return this.clone()._rotateAround(a2, p2);\n      },\n      matMult: function(m) {\n        return this.clone()._matMult(m);\n      },\n      unit: function() {\n        return this.clone()._unit();\n      },\n      perp: function() {\n        return this.clone()._perp();\n      },\n      round: function() {\n        return this.clone()._round();\n      },\n      mag: function() {\n        return Math.sqrt(this.x * this.x + this.y * this.y);\n      },\n      equals: function(other) {\n        return this.x === other.x && this.y === other.y;\n      },\n      dist: function(p2) {\n        return Math.sqrt(this.distSqr(p2));\n      },\n      distSqr: function(p2) {\n        var dx = p2.x - this.x, dy = p2.y - this.y;\n        return dx * dx + dy * dy;\n      },\n      angle: function() {\n        return Math.atan2(this.y, this.x);\n      },\n      angleTo: function(b) {\n        return Math.atan2(this.y - b.y, this.x - b.x);\n      },\n      angleWith: function(b) {\n        return this.angleWithSep(b.x, b.y);\n      },\n      angleWithSep: function(x2, y) {\n        return Math.atan2(\n          this.x * y - this.y * x2,\n          this.x * x2 + this.y * y\n        );\n      },\n      _matMult: function(m) {\n        var x2 = m[0] * this.x + m[1] * this.y, y = m[2] * this.x + m[3] * this.y;\n        this.x = x2;\n        this.y = y;\n        return this;\n      },\n      _add: function(p2) {\n        this.x += p2.x;\n        this.y += p2.y;\n        return this;\n      },\n      _sub: function(p2) {\n        this.x -= p2.x;\n        this.y -= p2.y;\n        return this;\n      },\n      _mult: function(k) {\n        this.x *= k;\n        this.y *= k;\n        return this;\n      },\n      _div: function(k) {\n        this.x /= k;\n        this.y /= k;\n        return this;\n      },\n      _multByPoint: function(p2) {\n        this.x *= p2.x;\n        this.y *= p2.y;\n        return this;\n      },\n      _divByPoint: function(p2) {\n        this.x /= p2.x;\n        this.y /= p2.y;\n        return this;\n      },\n      _unit: function() {\n        this._div(this.mag());\n        return this;\n      },\n      _perp: function() {\n        var y = this.y;\n        this.y = this.x;\n        this.x = -y;\n        return this;\n      },\n      _rotate: function(angle) {\n        var cos = Math.cos(angle), sin = Math.sin(angle), x2 = cos * this.x - sin * this.y, y = sin * this.x + cos * this.y;\n        this.x = x2;\n        this.y = y;\n        return this;\n      },\n      _rotateAround: function(angle, p2) {\n        var cos = Math.cos(angle), sin = Math.sin(angle), x2 = p2.x + cos * (this.x - p2.x) - sin * (this.y - p2.y), y = p2.y + sin * (this.x - p2.x) + cos * (this.y - p2.y);\n        this.x = x2;\n        this.y = y;\n        return this;\n      },\n      _round: function() {\n        this.x = Math.round(this.x);\n        this.y = Math.round(this.y);\n        return this;\n      }\n    };\n    Point9.convert = function(a2) {\n      if (a2 instanceof Point9) {\n        return a2;\n      }\n      if (Array.isArray(a2)) {\n        return new Point9(a2[0], a2[1]);\n      }\n      return a2;\n    };\n  }\n});\n\n// node_modules/@mapbox/unitbezier/index.js\nvar require_unitbezier = __commonJS({\n  \"node_modules/@mapbox/unitbezier/index.js\"(exports, module) {\n    module.exports = UnitBezier2;\n    function UnitBezier2(p1x, p1y, p2x, p2y) {\n      this.cx = 3 * p1x;\n      this.bx = 3 * (p2x - p1x) - this.cx;\n      this.ax = 1 - this.cx - this.bx;\n      this.cy = 3 * p1y;\n      this.by = 3 * (p2y - p1y) - this.cy;\n      this.ay = 1 - this.cy - this.by;\n      this.p1x = p1x;\n      this.p1y = p2y;\n      this.p2x = p2x;\n      this.p2y = p2y;\n    }\n    UnitBezier2.prototype.sampleCurveX = function(t2) {\n      return ((this.ax * t2 + this.bx) * t2 + this.cx) * t2;\n    };\n    UnitBezier2.prototype.sampleCurveY = function(t2) {\n      return ((this.ay * t2 + this.by) * t2 + this.cy) * t2;\n    };\n    UnitBezier2.prototype.sampleCurveDerivativeX = function(t2) {\n      return (3 * this.ax * t2 + 2 * this.bx) * t2 + this.cx;\n    };\n    UnitBezier2.prototype.solveCurveX = function(x2, epsilon) {\n      if (typeof epsilon === \"undefined\")\n        epsilon = 1e-6;\n      var t0, t1, t2, x22, i3;\n      for (t2 = x2, i3 = 0; i3 < 8; i3++) {\n        x22 = this.sampleCurveX(t2) - x2;\n        if (Math.abs(x22) < epsilon)\n          return t2;\n        var d2 = this.sampleCurveDerivativeX(t2);\n        if (Math.abs(d2) < 1e-6)\n          break;\n        t2 = t2 - x22 / d2;\n      }\n      t0 = 0;\n      t1 = 1;\n      t2 = x2;\n      if (t2 < t0)\n        return t0;\n      if (t2 > t1)\n        return t1;\n      while (t0 < t1) {\n        x22 = this.sampleCurveX(t2);\n        if (Math.abs(x22 - x2) < epsilon)\n          return t2;\n        if (x2 > x22) {\n          t0 = t2;\n        } else {\n          t1 = t2;\n        }\n        t2 = (t1 - t0) * 0.5 + t0;\n      }\n      return t2;\n    };\n    UnitBezier2.prototype.solve = function(x2, epsilon) {\n      return this.sampleCurveY(this.solveCurveX(x2, epsilon));\n    };\n  }\n});\n\n// node_modules/tinyqueue/tinyqueue.js\nvar require_tinyqueue = __commonJS({\n  \"node_modules/tinyqueue/tinyqueue.js\"(exports, module) {\n    (function(global, factory) {\n      typeof exports === \"object\" && typeof module !== \"undefined\" ? module.exports = factory() : typeof define === \"function\" && define.amd ? define(factory) : (global = global || self, global.TinyQueue = factory());\n    })(exports, function() {\n      \"use strict\";\n      var TinyQueue = function TinyQueue2(data, compare2) {\n        if (data === void 0)\n          data = [];\n        if (compare2 === void 0)\n          compare2 = defaultCompare;\n        this.data = data;\n        this.length = this.data.length;\n        this.compare = compare2;\n        if (this.length > 0) {\n          for (var i3 = (this.length >> 1) - 1; i3 >= 0; i3--) {\n            this._down(i3);\n          }\n        }\n      };\n      TinyQueue.prototype.push = function push(item) {\n        this.data.push(item);\n        this.length++;\n        this._up(this.length - 1);\n      };\n      TinyQueue.prototype.pop = function pop() {\n        if (this.length === 0) {\n          return void 0;\n        }\n        var top = this.data[0];\n        var bottom = this.data.pop();\n        this.length--;\n        if (this.length > 0) {\n          this.data[0] = bottom;\n          this._down(0);\n        }\n        return top;\n      };\n      TinyQueue.prototype.peek = function peek() {\n        return this.data[0];\n      };\n      TinyQueue.prototype._up = function _up(pos) {\n        var ref = this;\n        var data = ref.data;\n        var compare2 = ref.compare;\n        var item = data[pos];\n        while (pos > 0) {\n          var parent = pos - 1 >> 1;\n          var current = data[parent];\n          if (compare2(item, current) >= 0) {\n            break;\n          }\n          data[pos] = current;\n          pos = parent;\n        }\n        data[pos] = item;\n      };\n      TinyQueue.prototype._down = function _down(pos) {\n        var ref = this;\n        var data = ref.data;\n        var compare2 = ref.compare;\n        var halfLength = this.length >> 1;\n        var item = data[pos];\n        while (pos < halfLength) {\n          var left = (pos << 1) + 1;\n          var best = data[left];\n          var right = left + 1;\n          if (right < this.length && compare2(data[right], best) < 0) {\n            left = right;\n            best = data[right];\n          }\n          if (compare2(best, item) >= 0) {\n            break;\n          }\n          data[pos] = best;\n          pos = left;\n        }\n        data[pos] = item;\n      };\n      function defaultCompare(a2, b) {\n        return a2 < b ? -1 : a2 > b ? 1 : 0;\n      }\n      return TinyQueue;\n    });\n  }\n});\n\n// node_modules/polylabel/polylabel.js\nvar require_polylabel = __commonJS({\n  \"node_modules/polylabel/polylabel.js\"(exports, module) {\n    \"use strict\";\n    var Queue = require_tinyqueue();\n    if (Queue.default)\n      Queue = Queue.default;\n    module.exports = polylabel2;\n    module.exports.default = polylabel2;\n    function polylabel2(polygon, precision, debug) {\n      precision = precision || 1;\n      var minX, minY, maxX, maxY;\n      for (var i3 = 0; i3 < polygon[0].length; i3++) {\n        var p2 = polygon[0][i3];\n        if (!i3 || p2[0] < minX)\n          minX = p2[0];\n        if (!i3 || p2[1] < minY)\n          minY = p2[1];\n        if (!i3 || p2[0] > maxX)\n          maxX = p2[0];\n        if (!i3 || p2[1] > maxY)\n          maxY = p2[1];\n      }\n      var width = maxX - minX;\n      var height = maxY - minY;\n      var cellSize = Math.min(width, height);\n      var h = cellSize / 2;\n      if (cellSize === 0) {\n        var degeneratePoleOfInaccessibility = [minX, minY];\n        degeneratePoleOfInaccessibility.distance = 0;\n        return degeneratePoleOfInaccessibility;\n      }\n      var cellQueue = new Queue(void 0, compareMax);\n      for (var x2 = minX; x2 < maxX; x2 += cellSize) {\n        for (var y = minY; y < maxY; y += cellSize) {\n          cellQueue.push(new Cell(x2 + h, y + h, h, polygon));\n        }\n      }\n      var bestCell = getCentroidCell(polygon);\n      var bboxCell = new Cell(minX + width / 2, minY + height / 2, 0, polygon);\n      if (bboxCell.d > bestCell.d)\n        bestCell = bboxCell;\n      var numProbes = cellQueue.length;\n      while (cellQueue.length) {\n        var cell = cellQueue.pop();\n        if (cell.d > bestCell.d) {\n          bestCell = cell;\n          if (debug)\n            console.log(\"found best %d after %d probes\", Math.round(1e4 * cell.d) / 1e4, numProbes);\n        }\n        if (cell.max - bestCell.d <= precision)\n          continue;\n        h = cell.h / 2;\n        cellQueue.push(new Cell(cell.x - h, cell.y - h, h, polygon));\n        cellQueue.push(new Cell(cell.x + h, cell.y - h, h, polygon));\n        cellQueue.push(new Cell(cell.x - h, cell.y + h, h, polygon));\n        cellQueue.push(new Cell(cell.x + h, cell.y + h, h, polygon));\n        numProbes += 4;\n      }\n      if (debug) {\n        console.log(\"num probes: \" + numProbes);\n        console.log(\"best distance: \" + bestCell.d);\n      }\n      var poleOfInaccessibility = [bestCell.x, bestCell.y];\n      poleOfInaccessibility.distance = bestCell.d;\n      return poleOfInaccessibility;\n    }\n    function compareMax(a2, b) {\n      return b.max - a2.max;\n    }\n    function Cell(x2, y, h, polygon) {\n      this.x = x2;\n      this.y = y;\n      this.h = h;\n      this.d = pointToPolygonDist(x2, y, polygon);\n      this.max = this.d + this.h * Math.SQRT2;\n    }\n    function pointToPolygonDist(x2, y, polygon) {\n      var inside = false;\n      var minDistSq = Infinity;\n      for (var k = 0; k < polygon.length; k++) {\n        var ring = polygon[k];\n        for (var i3 = 0, len = ring.length, j = len - 1; i3 < len; j = i3++) {\n          var a2 = ring[i3];\n          var b = ring[j];\n          if (a2[1] > y !== b[1] > y && x2 < (b[0] - a2[0]) * (y - a2[1]) / (b[1] - a2[1]) + a2[0])\n            inside = !inside;\n          minDistSq = Math.min(minDistSq, getSegDistSq(x2, y, a2, b));\n        }\n      }\n      return minDistSq === 0 ? 0 : (inside ? 1 : -1) * Math.sqrt(minDistSq);\n    }\n    function getCentroidCell(polygon) {\n      var area = 0;\n      var x2 = 0;\n      var y = 0;\n      var points = polygon[0];\n      for (var i3 = 0, len = points.length, j = len - 1; i3 < len; j = i3++) {\n        var a2 = points[i3];\n        var b = points[j];\n        var f2 = a2[0] * b[1] - b[0] * a2[1];\n        x2 += (a2[0] + b[0]) * f2;\n        y += (a2[1] + b[1]) * f2;\n        area += f2 * 3;\n      }\n      if (area === 0)\n        return new Cell(points[0][0], points[0][1], 0, polygon);\n      return new Cell(x2 / area, y / area, 0, polygon);\n    }\n    function getSegDistSq(px, py, a2, b) {\n      var x2 = a2[0];\n      var y = a2[1];\n      var dx = b[0] - x2;\n      var dy = b[1] - y;\n      if (dx !== 0 || dy !== 0) {\n        var t2 = ((px - x2) * dx + (py - y) * dy) / (dx * dx + dy * dy);\n        if (t2 > 1) {\n          x2 = b[0];\n          y = b[1];\n        } else if (t2 > 0) {\n          x2 += dx * t2;\n          y += dy * t2;\n        }\n      }\n      dx = px - x2;\n      dy = py - y;\n      return dx * dx + dy * dy;\n    }\n  }\n});\n\n// node_modules/@mapbox/vector-tile/lib/vectortilefeature.js\nvar require_vectortilefeature = __commonJS({\n  \"node_modules/@mapbox/vector-tile/lib/vectortilefeature.js\"(exports, module) {\n    \"use strict\";\n    var Point9 = require_point_geometry();\n    module.exports = VectorTileFeature;\n    function VectorTileFeature(pbf, end, extent, keys, values) {\n      this.properties = {};\n      this.extent = extent;\n      this.type = 0;\n      this._pbf = pbf;\n      this._geometry = -1;\n      this._keys = keys;\n      this._values = values;\n      pbf.readFields(readFeature, this, end);\n    }\n    function readFeature(tag, feature, pbf) {\n      if (tag == 1)\n        feature.id = pbf.readVarint();\n      else if (tag == 2)\n        readTag(pbf, feature);\n      else if (tag == 3)\n        feature.type = pbf.readVarint();\n      else if (tag == 4)\n        feature._geometry = pbf.pos;\n    }\n    function readTag(pbf, feature) {\n      var end = pbf.readVarint() + pbf.pos;\n      while (pbf.pos < end) {\n        var key = feature._keys[pbf.readVarint()], value = feature._values[pbf.readVarint()];\n        feature.properties[key] = value;\n      }\n    }\n    VectorTileFeature.types = [\"Unknown\", \"Point\", \"LineString\", \"Polygon\"];\n    VectorTileFeature.prototype.loadGeometry = function() {\n      var pbf = this._pbf;\n      pbf.pos = this._geometry;\n      var end = pbf.readVarint() + pbf.pos, cmd = 1, length = 0, x2 = 0, y = 0, lines = [], line;\n      while (pbf.pos < end) {\n        if (length <= 0) {\n          var cmdLen = pbf.readVarint();\n          cmd = cmdLen & 7;\n          length = cmdLen >> 3;\n        }\n        length--;\n        if (cmd === 1 || cmd === 2) {\n          x2 += pbf.readSVarint();\n          y += pbf.readSVarint();\n          if (cmd === 1) {\n            if (line)\n              lines.push(line);\n            line = [];\n          }\n          line.push(new Point9(x2, y));\n        } else if (cmd === 7) {\n          if (line) {\n            line.push(line[0].clone());\n          }\n        } else {\n          throw new Error(\"unknown command \" + cmd);\n        }\n      }\n      if (line)\n        lines.push(line);\n      return lines;\n    };\n    VectorTileFeature.prototype.bbox = function() {\n      var pbf = this._pbf;\n      pbf.pos = this._geometry;\n      var end = pbf.readVarint() + pbf.pos, cmd = 1, length = 0, x2 = 0, y = 0, x1 = Infinity, x22 = -Infinity, y1 = Infinity, y2 = -Infinity;\n      while (pbf.pos < end) {\n        if (length <= 0) {\n          var cmdLen = pbf.readVarint();\n          cmd = cmdLen & 7;\n          length = cmdLen >> 3;\n        }\n        length--;\n        if (cmd === 1 || cmd === 2) {\n          x2 += pbf.readSVarint();\n          y += pbf.readSVarint();\n          if (x2 < x1)\n            x1 = x2;\n          if (x2 > x22)\n            x22 = x2;\n          if (y < y1)\n            y1 = y;\n          if (y > y2)\n            y2 = y;\n        } else if (cmd !== 7) {\n          throw new Error(\"unknown command \" + cmd);\n        }\n      }\n      return [x1, y1, x22, y2];\n    };\n    VectorTileFeature.prototype.toGeoJSON = function(x2, y, z2) {\n      var size = this.extent * Math.pow(2, z2), x0 = this.extent * x2, y0 = this.extent * y, coords = this.loadGeometry(), type = VectorTileFeature.types[this.type], i3, j;\n      function project3(line) {\n        for (var j2 = 0; j2 < line.length; j2++) {\n          var p2 = line[j2], y2 = 180 - (p2.y + y0) * 360 / size;\n          line[j2] = [\n            (p2.x + x0) * 360 / size - 180,\n            360 / Math.PI * Math.atan(Math.exp(y2 * Math.PI / 180)) - 90\n          ];\n        }\n      }\n      switch (this.type) {\n        case 1:\n          var points = [];\n          for (i3 = 0; i3 < coords.length; i3++) {\n            points[i3] = coords[i3][0];\n          }\n          coords = points;\n          project3(coords);\n          break;\n        case 2:\n          for (i3 = 0; i3 < coords.length; i3++) {\n            project3(coords[i3]);\n          }\n          break;\n        case 3:\n          coords = classifyRings(coords);\n          for (i3 = 0; i3 < coords.length; i3++) {\n            for (j = 0; j < coords[i3].length; j++) {\n              project3(coords[i3][j]);\n            }\n          }\n          break;\n      }\n      if (coords.length === 1) {\n        coords = coords[0];\n      } else {\n        type = \"Multi\" + type;\n      }\n      var result = {\n        type: \"Feature\",\n        geometry: {\n          type,\n          coordinates: coords\n        },\n        properties: this.properties\n      };\n      if (\"id\" in this) {\n        result.id = this.id;\n      }\n      return result;\n    };\n    function classifyRings(rings) {\n      var len = rings.length;\n      if (len <= 1)\n        return [rings];\n      var polygons = [], polygon, ccw;\n      for (var i3 = 0; i3 < len; i3++) {\n        var area = signedArea(rings[i3]);\n        if (area === 0)\n          continue;\n        if (ccw === void 0)\n          ccw = area < 0;\n        if (ccw === area < 0) {\n          if (polygon)\n            polygons.push(polygon);\n          polygon = [rings[i3]];\n        } else {\n          polygon.push(rings[i3]);\n        }\n      }\n      if (polygon)\n        polygons.push(polygon);\n      return polygons;\n    }\n    function signedArea(ring) {\n      var sum = 0;\n      for (var i3 = 0, len = ring.length, j = len - 1, p1, p2; i3 < len; j = i3++) {\n        p1 = ring[i3];\n        p2 = ring[j];\n        sum += (p2.x - p1.x) * (p1.y + p2.y);\n      }\n      return sum;\n    }\n  }\n});\n\n// node_modules/@mapbox/vector-tile/lib/vectortilelayer.js\nvar require_vectortilelayer = __commonJS({\n  \"node_modules/@mapbox/vector-tile/lib/vectortilelayer.js\"(exports, module) {\n    \"use strict\";\n    var VectorTileFeature = require_vectortilefeature();\n    module.exports = VectorTileLayer;\n    function VectorTileLayer(pbf, end) {\n      this.version = 1;\n      this.name = null;\n      this.extent = 4096;\n      this.length = 0;\n      this._pbf = pbf;\n      this._keys = [];\n      this._values = [];\n      this._features = [];\n      pbf.readFields(readLayer, this, end);\n      this.length = this._features.length;\n    }\n    function readLayer(tag, layer, pbf) {\n      if (tag === 15)\n        layer.version = pbf.readVarint();\n      else if (tag === 1)\n        layer.name = pbf.readString();\n      else if (tag === 5)\n        layer.extent = pbf.readVarint();\n      else if (tag === 2)\n        layer._features.push(pbf.pos);\n      else if (tag === 3)\n        layer._keys.push(pbf.readString());\n      else if (tag === 4)\n        layer._values.push(readValueMessage(pbf));\n    }\n    function readValueMessage(pbf) {\n      var value = null, end = pbf.readVarint() + pbf.pos;\n      while (pbf.pos < end) {\n        var tag = pbf.readVarint() >> 3;\n        value = tag === 1 ? pbf.readString() : tag === 2 ? pbf.readFloat() : tag === 3 ? pbf.readDouble() : tag === 4 ? pbf.readVarint64() : tag === 5 ? pbf.readVarint() : tag === 6 ? pbf.readSVarint() : tag === 7 ? pbf.readBoolean() : null;\n      }\n      return value;\n    }\n    VectorTileLayer.prototype.feature = function(i3) {\n      if (i3 < 0 || i3 >= this._features.length)\n        throw new Error(\"feature index out of bounds\");\n      this._pbf.pos = this._features[i3];\n      var end = this._pbf.readVarint() + this._pbf.pos;\n      return new VectorTileFeature(this._pbf, end, this.extent, this._keys, this._values);\n    };\n  }\n});\n\n// node_modules/@mapbox/vector-tile/lib/vectortile.js\nvar require_vectortile = __commonJS({\n  \"node_modules/@mapbox/vector-tile/lib/vectortile.js\"(exports, module) {\n    \"use strict\";\n    var VectorTileLayer = require_vectortilelayer();\n    module.exports = VectorTile2;\n    function VectorTile2(pbf, end) {\n      this.layers = pbf.readFields(readTile, {}, end);\n    }\n    function readTile(tag, layers, pbf) {\n      if (tag === 3) {\n        var layer = new VectorTileLayer(pbf, pbf.readVarint() + pbf.pos);\n        if (layer.length)\n          layers[layer.name] = layer;\n      }\n    }\n  }\n});\n\n// node_modules/@mapbox/vector-tile/index.js\nvar require_vector_tile = __commonJS({\n  \"node_modules/@mapbox/vector-tile/index.js\"(exports, module) {\n    module.exports.VectorTile = require_vectortile();\n    module.exports.VectorTileFeature = require_vectortilefeature();\n    module.exports.VectorTileLayer = require_vectortilelayer();\n  }\n});\n\n// node_modules/ieee754/index.js\nvar require_ieee754 = __commonJS({\n  \"node_modules/ieee754/index.js\"(exports) {\n    exports.read = function(buffer, offset, isLE, mLen, nBytes) {\n      var e2, m;\n      var eLen = nBytes * 8 - mLen - 1;\n      var eMax = (1 << eLen) - 1;\n      var eBias = eMax >> 1;\n      var nBits = -7;\n      var i3 = isLE ? nBytes - 1 : 0;\n      var d = isLE ? -1 : 1;\n      var s2 = buffer[offset + i3];\n      i3 += d;\n      e2 = s2 & (1 << -nBits) - 1;\n      s2 >>= -nBits;\n      nBits += eLen;\n      for (; nBits > 0; e2 = e2 * 256 + buffer[offset + i3], i3 += d, nBits -= 8) {\n      }\n      m = e2 & (1 << -nBits) - 1;\n      e2 >>= -nBits;\n      nBits += mLen;\n      for (; nBits > 0; m = m * 256 + buffer[offset + i3], i3 += d, nBits -= 8) {\n      }\n      if (e2 === 0) {\n        e2 = 1 - eBias;\n      } else if (e2 === eMax) {\n        return m ? NaN : (s2 ? -1 : 1) * Infinity;\n      } else {\n        m = m + Math.pow(2, mLen);\n        e2 = e2 - eBias;\n      }\n      return (s2 ? -1 : 1) * m * Math.pow(2, e2 - mLen);\n    };\n    exports.write = function(buffer, value, offset, isLE, mLen, nBytes) {\n      var e2, m, c2;\n      var eLen = nBytes * 8 - mLen - 1;\n      var eMax = (1 << eLen) - 1;\n      var eBias = eMax >> 1;\n      var rt = mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0;\n      var i3 = isLE ? 0 : nBytes - 1;\n      var d = isLE ? 1 : -1;\n      var s2 = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n      value = Math.abs(value);\n      if (isNaN(value) || value === Infinity) {\n        m = isNaN(value) ? 1 : 0;\n        e2 = eMax;\n      } else {\n        e2 = Math.floor(Math.log(value) / Math.LN2);\n        if (value * (c2 = Math.pow(2, -e2)) < 1) {\n          e2--;\n          c2 *= 2;\n        }\n        if (e2 + eBias >= 1) {\n          value += rt / c2;\n        } else {\n          value += rt * Math.pow(2, 1 - eBias);\n        }\n        if (value * c2 >= 2) {\n          e2++;\n          c2 /= 2;\n        }\n        if (e2 + eBias >= eMax) {\n          m = 0;\n          e2 = eMax;\n        } else if (e2 + eBias >= 1) {\n          m = (value * c2 - 1) * Math.pow(2, mLen);\n          e2 = e2 + eBias;\n        } else {\n          m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n          e2 = 0;\n        }\n      }\n      for (; mLen >= 8; buffer[offset + i3] = m & 255, i3 += d, m /= 256, mLen -= 8) {\n      }\n      e2 = e2 << mLen | m;\n      eLen += mLen;\n      for (; eLen > 0; buffer[offset + i3] = e2 & 255, i3 += d, e2 /= 256, eLen -= 8) {\n      }\n      buffer[offset + i3 - d] |= s2 * 128;\n    };\n  }\n});\n\n// node_modules/pbf/index.js\nvar require_pbf = __commonJS({\n  \"node_modules/pbf/index.js\"(exports, module) {\n    \"use strict\";\n    module.exports = Pbf;\n    var ieee754 = require_ieee754();\n    function Pbf(buf) {\n      this.buf = ArrayBuffer.isView && ArrayBuffer.isView(buf) ? buf : new Uint8Array(buf || 0);\n      this.pos = 0;\n      this.type = 0;\n      this.length = this.buf.length;\n    }\n    Pbf.Varint = 0;\n    Pbf.Fixed64 = 1;\n    Pbf.Bytes = 2;\n    Pbf.Fixed32 = 5;\n    var SHIFT_LEFT_32 = (1 << 16) * (1 << 16);\n    var SHIFT_RIGHT_32 = 1 / SHIFT_LEFT_32;\n    var TEXT_DECODER_MIN_LENGTH = 12;\n    var utf8TextDecoder = typeof TextDecoder === \"undefined\" ? null : new TextDecoder(\"utf8\");\n    Pbf.prototype = {\n      destroy: function() {\n        this.buf = null;\n      },\n      readFields: function(readField, result, end) {\n        end = end || this.length;\n        while (this.pos < end) {\n          var val = this.readVarint(), tag = val >> 3, startPos = this.pos;\n          this.type = val & 7;\n          readField(tag, result, this);\n          if (this.pos === startPos)\n            this.skip(val);\n        }\n        return result;\n      },\n      readMessage: function(readField, result) {\n        return this.readFields(readField, result, this.readVarint() + this.pos);\n      },\n      readFixed32: function() {\n        var val = readUInt32(this.buf, this.pos);\n        this.pos += 4;\n        return val;\n      },\n      readSFixed32: function() {\n        var val = readInt32(this.buf, this.pos);\n        this.pos += 4;\n        return val;\n      },\n      readFixed64: function() {\n        var val = readUInt32(this.buf, this.pos) + readUInt32(this.buf, this.pos + 4) * SHIFT_LEFT_32;\n        this.pos += 8;\n        return val;\n      },\n      readSFixed64: function() {\n        var val = readUInt32(this.buf, this.pos) + readInt32(this.buf, this.pos + 4) * SHIFT_LEFT_32;\n        this.pos += 8;\n        return val;\n      },\n      readFloat: function() {\n        var val = ieee754.read(this.buf, this.pos, true, 23, 4);\n        this.pos += 4;\n        return val;\n      },\n      readDouble: function() {\n        var val = ieee754.read(this.buf, this.pos, true, 52, 8);\n        this.pos += 8;\n        return val;\n      },\n      readVarint: function(isSigned) {\n        var buf = this.buf, val, b;\n        b = buf[this.pos++];\n        val = b & 127;\n        if (b < 128)\n          return val;\n        b = buf[this.pos++];\n        val |= (b & 127) << 7;\n        if (b < 128)\n          return val;\n        b = buf[this.pos++];\n        val |= (b & 127) << 14;\n        if (b < 128)\n          return val;\n        b = buf[this.pos++];\n        val |= (b & 127) << 21;\n        if (b < 128)\n          return val;\n        b = buf[this.pos];\n        val |= (b & 15) << 28;\n        return readVarintRemainder2(val, isSigned, this);\n      },\n      readVarint64: function() {\n        return this.readVarint(true);\n      },\n      readSVarint: function() {\n        var num = this.readVarint();\n        return num % 2 === 1 ? (num + 1) / -2 : num / 2;\n      },\n      readBoolean: function() {\n        return Boolean(this.readVarint());\n      },\n      readString: function() {\n        var end = this.readVarint() + this.pos;\n        var pos = this.pos;\n        this.pos = end;\n        if (end - pos >= TEXT_DECODER_MIN_LENGTH && utf8TextDecoder) {\n          return readUtf8TextDecoder(this.buf, pos, end);\n        }\n        return readUtf8(this.buf, pos, end);\n      },\n      readBytes: function() {\n        var end = this.readVarint() + this.pos, buffer = this.buf.subarray(this.pos, end);\n        this.pos = end;\n        return buffer;\n      },\n      readPackedVarint: function(arr2, isSigned) {\n        if (this.type !== Pbf.Bytes)\n          return arr2.push(this.readVarint(isSigned));\n        var end = readPackedEnd(this);\n        arr2 = arr2 || [];\n        while (this.pos < end)\n          arr2.push(this.readVarint(isSigned));\n        return arr2;\n      },\n      readPackedSVarint: function(arr2) {\n        if (this.type !== Pbf.Bytes)\n          return arr2.push(this.readSVarint());\n        var end = readPackedEnd(this);\n        arr2 = arr2 || [];\n        while (this.pos < end)\n          arr2.push(this.readSVarint());\n        return arr2;\n      },\n      readPackedBoolean: function(arr2) {\n        if (this.type !== Pbf.Bytes)\n          return arr2.push(this.readBoolean());\n        var end = readPackedEnd(this);\n        arr2 = arr2 || [];\n        while (this.pos < end)\n          arr2.push(this.readBoolean());\n        return arr2;\n      },\n      readPackedFloat: function(arr2) {\n        if (this.type !== Pbf.Bytes)\n          return arr2.push(this.readFloat());\n        var end = readPackedEnd(this);\n        arr2 = arr2 || [];\n        while (this.pos < end)\n          arr2.push(this.readFloat());\n        return arr2;\n      },\n      readPackedDouble: function(arr2) {\n        if (this.type !== Pbf.Bytes)\n          return arr2.push(this.readDouble());\n        var end = readPackedEnd(this);\n        arr2 = arr2 || [];\n        while (this.pos < end)\n          arr2.push(this.readDouble());\n        return arr2;\n      },\n      readPackedFixed32: function(arr2) {\n        if (this.type !== Pbf.Bytes)\n          return arr2.push(this.readFixed32());\n        var end = readPackedEnd(this);\n        arr2 = arr2 || [];\n        while (this.pos < end)\n          arr2.push(this.readFixed32());\n        return arr2;\n      },\n      readPackedSFixed32: function(arr2) {\n        if (this.type !== Pbf.Bytes)\n          return arr2.push(this.readSFixed32());\n        var end = readPackedEnd(this);\n        arr2 = arr2 || [];\n        while (this.pos < end)\n          arr2.push(this.readSFixed32());\n        return arr2;\n      },\n      readPackedFixed64: function(arr2) {\n        if (this.type !== Pbf.Bytes)\n          return arr2.push(this.readFixed64());\n        var end = readPackedEnd(this);\n        arr2 = arr2 || [];\n        while (this.pos < end)\n          arr2.push(this.readFixed64());\n        return arr2;\n      },\n      readPackedSFixed64: function(arr2) {\n        if (this.type !== Pbf.Bytes)\n          return arr2.push(this.readSFixed64());\n        var end = readPackedEnd(this);\n        arr2 = arr2 || [];\n        while (this.pos < end)\n          arr2.push(this.readSFixed64());\n        return arr2;\n      },\n      skip: function(val) {\n        var type = val & 7;\n        if (type === Pbf.Varint)\n          while (this.buf[this.pos++] > 127) {\n          }\n        else if (type === Pbf.Bytes)\n          this.pos = this.readVarint() + this.pos;\n        else if (type === Pbf.Fixed32)\n          this.pos += 4;\n        else if (type === Pbf.Fixed64)\n          this.pos += 8;\n        else\n          throw new Error(\"Unimplemented type: \" + type);\n      },\n      writeTag: function(tag, type) {\n        this.writeVarint(tag << 3 | type);\n      },\n      realloc: function(min) {\n        var length = this.length || 16;\n        while (length < this.pos + min)\n          length *= 2;\n        if (length !== this.length) {\n          var buf = new Uint8Array(length);\n          buf.set(this.buf);\n          this.buf = buf;\n          this.length = length;\n        }\n      },\n      finish: function() {\n        this.length = this.pos;\n        this.pos = 0;\n        return this.buf.subarray(0, this.length);\n      },\n      writeFixed32: function(val) {\n        this.realloc(4);\n        writeInt32(this.buf, val, this.pos);\n        this.pos += 4;\n      },\n      writeSFixed32: function(val) {\n        this.realloc(4);\n        writeInt32(this.buf, val, this.pos);\n        this.pos += 4;\n      },\n      writeFixed64: function(val) {\n        this.realloc(8);\n        writeInt32(this.buf, val & -1, this.pos);\n        writeInt32(this.buf, Math.floor(val * SHIFT_RIGHT_32), this.pos + 4);\n        this.pos += 8;\n      },\n      writeSFixed64: function(val) {\n        this.realloc(8);\n        writeInt32(this.buf, val & -1, this.pos);\n        writeInt32(this.buf, Math.floor(val * SHIFT_RIGHT_32), this.pos + 4);\n        this.pos += 8;\n      },\n      writeVarint: function(val) {\n        val = +val || 0;\n        if (val > 268435455 || val < 0) {\n          writeBigVarint(val, this);\n          return;\n        }\n        this.realloc(4);\n        this.buf[this.pos++] = val & 127 | (val > 127 ? 128 : 0);\n        if (val <= 127)\n          return;\n        this.buf[this.pos++] = (val >>>= 7) & 127 | (val > 127 ? 128 : 0);\n        if (val <= 127)\n          return;\n        this.buf[this.pos++] = (val >>>= 7) & 127 | (val > 127 ? 128 : 0);\n        if (val <= 127)\n          return;\n        this.buf[this.pos++] = val >>> 7 & 127;\n      },\n      writeSVarint: function(val) {\n        this.writeVarint(val < 0 ? -val * 2 - 1 : val * 2);\n      },\n      writeBoolean: function(val) {\n        this.writeVarint(Boolean(val));\n      },\n      writeString: function(str) {\n        str = String(str);\n        this.realloc(str.length * 4);\n        this.pos++;\n        var startPos = this.pos;\n        this.pos = writeUtf8(this.buf, str, this.pos);\n        var len = this.pos - startPos;\n        if (len >= 128)\n          makeRoomForExtraLength(startPos, len, this);\n        this.pos = startPos - 1;\n        this.writeVarint(len);\n        this.pos += len;\n      },\n      writeFloat: function(val) {\n        this.realloc(4);\n        ieee754.write(this.buf, val, this.pos, true, 23, 4);\n        this.pos += 4;\n      },\n      writeDouble: function(val) {\n        this.realloc(8);\n        ieee754.write(this.buf, val, this.pos, true, 52, 8);\n        this.pos += 8;\n      },\n      writeBytes: function(buffer) {\n        var len = buffer.length;\n        this.writeVarint(len);\n        this.realloc(len);\n        for (var i3 = 0; i3 < len; i3++)\n          this.buf[this.pos++] = buffer[i3];\n      },\n      writeRawMessage: function(fn, obj) {\n        this.pos++;\n        var startPos = this.pos;\n        fn(obj, this);\n        var len = this.pos - startPos;\n        if (len >= 128)\n          makeRoomForExtraLength(startPos, len, this);\n        this.pos = startPos - 1;\n        this.writeVarint(len);\n        this.pos += len;\n      },\n      writeMessage: function(tag, fn, obj) {\n        this.writeTag(tag, Pbf.Bytes);\n        this.writeRawMessage(fn, obj);\n      },\n      writePackedVarint: function(tag, arr2) {\n        if (arr2.length)\n          this.writeMessage(tag, writePackedVarint, arr2);\n      },\n      writePackedSVarint: function(tag, arr2) {\n        if (arr2.length)\n          this.writeMessage(tag, writePackedSVarint, arr2);\n      },\n      writePackedBoolean: function(tag, arr2) {\n        if (arr2.length)\n          this.writeMessage(tag, writePackedBoolean, arr2);\n      },\n      writePackedFloat: function(tag, arr2) {\n        if (arr2.length)\n          this.writeMessage(tag, writePackedFloat, arr2);\n      },\n      writePackedDouble: function(tag, arr2) {\n        if (arr2.length)\n          this.writeMessage(tag, writePackedDouble, arr2);\n      },\n      writePackedFixed32: function(tag, arr2) {\n        if (arr2.length)\n          this.writeMessage(tag, writePackedFixed32, arr2);\n      },\n      writePackedSFixed32: function(tag, arr2) {\n        if (arr2.length)\n          this.writeMessage(tag, writePackedSFixed32, arr2);\n      },\n      writePackedFixed64: function(tag, arr2) {\n        if (arr2.length)\n          this.writeMessage(tag, writePackedFixed64, arr2);\n      },\n      writePackedSFixed64: function(tag, arr2) {\n        if (arr2.length)\n          this.writeMessage(tag, writePackedSFixed64, arr2);\n      },\n      writeBytesField: function(tag, buffer) {\n        this.writeTag(tag, Pbf.Bytes);\n        this.writeBytes(buffer);\n      },\n      writeFixed32Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed32);\n        this.writeFixed32(val);\n      },\n      writeSFixed32Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed32);\n        this.writeSFixed32(val);\n      },\n      writeFixed64Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed64);\n        this.writeFixed64(val);\n      },\n      writeSFixed64Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed64);\n        this.writeSFixed64(val);\n      },\n      writeVarintField: function(tag, val) {\n        this.writeTag(tag, Pbf.Varint);\n        this.writeVarint(val);\n      },\n      writeSVarintField: function(tag, val) {\n        this.writeTag(tag, Pbf.Varint);\n        this.writeSVarint(val);\n      },\n      writeStringField: function(tag, str) {\n        this.writeTag(tag, Pbf.Bytes);\n        this.writeString(str);\n      },\n      writeFloatField: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed32);\n        this.writeFloat(val);\n      },\n      writeDoubleField: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed64);\n        this.writeDouble(val);\n      },\n      writeBooleanField: function(tag, val) {\n        this.writeVarintField(tag, Boolean(val));\n      }\n    };\n    function readVarintRemainder2(l2, s2, p2) {\n      var buf = p2.buf, h, b;\n      b = buf[p2.pos++];\n      h = (b & 112) >> 4;\n      if (b < 128)\n        return toNum2(l2, h, s2);\n      b = buf[p2.pos++];\n      h |= (b & 127) << 3;\n      if (b < 128)\n        return toNum2(l2, h, s2);\n      b = buf[p2.pos++];\n      h |= (b & 127) << 10;\n      if (b < 128)\n        return toNum2(l2, h, s2);\n      b = buf[p2.pos++];\n      h |= (b & 127) << 17;\n      if (b < 128)\n        return toNum2(l2, h, s2);\n      b = buf[p2.pos++];\n      h |= (b & 127) << 24;\n      if (b < 128)\n        return toNum2(l2, h, s2);\n      b = buf[p2.pos++];\n      h |= (b & 1) << 31;\n      if (b < 128)\n        return toNum2(l2, h, s2);\n      throw new Error(\"Expected varint not more than 10 bytes\");\n    }\n    function readPackedEnd(pbf) {\n      return pbf.type === Pbf.Bytes ? pbf.readVarint() + pbf.pos : pbf.pos + 1;\n    }\n    function toNum2(low, high, isSigned) {\n      if (isSigned) {\n        return high * 4294967296 + (low >>> 0);\n      }\n      return (high >>> 0) * 4294967296 + (low >>> 0);\n    }\n    function writeBigVarint(val, pbf) {\n      var low, high;\n      if (val >= 0) {\n        low = val % 4294967296 | 0;\n        high = val / 4294967296 | 0;\n      } else {\n        low = ~(-val % 4294967296);\n        high = ~(-val / 4294967296);\n        if (low ^ 4294967295) {\n          low = low + 1 | 0;\n        } else {\n          low = 0;\n          high = high + 1 | 0;\n        }\n      }\n      if (val >= 18446744073709552e3 || val < -18446744073709552e3) {\n        throw new Error(\"Given varint doesn't fit into 10 bytes\");\n      }\n      pbf.realloc(10);\n      writeBigVarintLow(low, high, pbf);\n      writeBigVarintHigh(high, pbf);\n    }\n    function writeBigVarintLow(low, high, pbf) {\n      pbf.buf[pbf.pos++] = low & 127 | 128;\n      low >>>= 7;\n      pbf.buf[pbf.pos++] = low & 127 | 128;\n      low >>>= 7;\n      pbf.buf[pbf.pos++] = low & 127 | 128;\n      low >>>= 7;\n      pbf.buf[pbf.pos++] = low & 127 | 128;\n      low >>>= 7;\n      pbf.buf[pbf.pos] = low & 127;\n    }\n    function writeBigVarintHigh(high, pbf) {\n      var lsb = (high & 7) << 4;\n      pbf.buf[pbf.pos++] |= lsb | ((high >>>= 3) ? 128 : 0);\n      if (!high)\n        return;\n      pbf.buf[pbf.pos++] = high & 127 | ((high >>>= 7) ? 128 : 0);\n      if (!high)\n        return;\n      pbf.buf[pbf.pos++] = high & 127 | ((high >>>= 7) ? 128 : 0);\n      if (!high)\n        return;\n      pbf.buf[pbf.pos++] = high & 127 | ((high >>>= 7) ? 128 : 0);\n      if (!high)\n        return;\n      pbf.buf[pbf.pos++] = high & 127 | ((high >>>= 7) ? 128 : 0);\n      if (!high)\n        return;\n      pbf.buf[pbf.pos++] = high & 127;\n    }\n    function makeRoomForExtraLength(startPos, len, pbf) {\n      var extraLen = len <= 16383 ? 1 : len <= 2097151 ? 2 : len <= 268435455 ? 3 : Math.floor(Math.log(len) / (Math.LN2 * 7));\n      pbf.realloc(extraLen);\n      for (var i3 = pbf.pos - 1; i3 >= startPos; i3--)\n        pbf.buf[i3 + extraLen] = pbf.buf[i3];\n    }\n    function writePackedVarint(arr2, pbf) {\n      for (var i3 = 0; i3 < arr2.length; i3++)\n        pbf.writeVarint(arr2[i3]);\n    }\n    function writePackedSVarint(arr2, pbf) {\n      for (var i3 = 0; i3 < arr2.length; i3++)\n        pbf.writeSVarint(arr2[i3]);\n    }\n    function writePackedFloat(arr2, pbf) {\n      for (var i3 = 0; i3 < arr2.length; i3++)\n        pbf.writeFloat(arr2[i3]);\n    }\n    function writePackedDouble(arr2, pbf) {\n      for (var i3 = 0; i3 < arr2.length; i3++)\n        pbf.writeDouble(arr2[i3]);\n    }\n    function writePackedBoolean(arr2, pbf) {\n      for (var i3 = 0; i3 < arr2.length; i3++)\n        pbf.writeBoolean(arr2[i3]);\n    }\n    function writePackedFixed32(arr2, pbf) {\n      for (var i3 = 0; i3 < arr2.length; i3++)\n        pbf.writeFixed32(arr2[i3]);\n    }\n    function writePackedSFixed32(arr2, pbf) {\n      for (var i3 = 0; i3 < arr2.length; i3++)\n        pbf.writeSFixed32(arr2[i3]);\n    }\n    function writePackedFixed64(arr2, pbf) {\n      for (var i3 = 0; i3 < arr2.length; i3++)\n        pbf.writeFixed64(arr2[i3]);\n    }\n    function writePackedSFixed64(arr2, pbf) {\n      for (var i3 = 0; i3 < arr2.length; i3++)\n        pbf.writeSFixed64(arr2[i3]);\n    }\n    function readUInt32(buf, pos) {\n      return (buf[pos] | buf[pos + 1] << 8 | buf[pos + 2] << 16) + buf[pos + 3] * 16777216;\n    }\n    function writeInt32(buf, val, pos) {\n      buf[pos] = val;\n      buf[pos + 1] = val >>> 8;\n      buf[pos + 2] = val >>> 16;\n      buf[pos + 3] = val >>> 24;\n    }\n    function readInt32(buf, pos) {\n      return (buf[pos] | buf[pos + 1] << 8 | buf[pos + 2] << 16) + (buf[pos + 3] << 24);\n    }\n    function readUtf8(buf, pos, end) {\n      var str = \"\";\n      var i3 = pos;\n      while (i3 < end) {\n        var b0 = buf[i3];\n        var c2 = null;\n        var bytesPerSequence = b0 > 239 ? 4 : b0 > 223 ? 3 : b0 > 191 ? 2 : 1;\n        if (i3 + bytesPerSequence > end)\n          break;\n        var b1, b2, b3;\n        if (bytesPerSequence === 1) {\n          if (b0 < 128) {\n            c2 = b0;\n          }\n        } else if (bytesPerSequence === 2) {\n          b1 = buf[i3 + 1];\n          if ((b1 & 192) === 128) {\n            c2 = (b0 & 31) << 6 | b1 & 63;\n            if (c2 <= 127) {\n              c2 = null;\n            }\n          }\n        } else if (bytesPerSequence === 3) {\n          b1 = buf[i3 + 1];\n          b2 = buf[i3 + 2];\n          if ((b1 & 192) === 128 && (b2 & 192) === 128) {\n            c2 = (b0 & 15) << 12 | (b1 & 63) << 6 | b2 & 63;\n            if (c2 <= 2047 || c2 >= 55296 && c2 <= 57343) {\n              c2 = null;\n            }\n          }\n        } else if (bytesPerSequence === 4) {\n          b1 = buf[i3 + 1];\n          b2 = buf[i3 + 2];\n          b3 = buf[i3 + 3];\n          if ((b1 & 192) === 128 && (b2 & 192) === 128 && (b3 & 192) === 128) {\n            c2 = (b0 & 15) << 18 | (b1 & 63) << 12 | (b2 & 63) << 6 | b3 & 63;\n            if (c2 <= 65535 || c2 >= 1114112) {\n              c2 = null;\n            }\n          }\n        }\n        if (c2 === null) {\n          c2 = 65533;\n          bytesPerSequence = 1;\n        } else if (c2 > 65535) {\n          c2 -= 65536;\n          str += String.fromCharCode(c2 >>> 10 & 1023 | 55296);\n          c2 = 56320 | c2 & 1023;\n        }\n        str += String.fromCharCode(c2);\n        i3 += bytesPerSequence;\n      }\n      return str;\n    }\n    function readUtf8TextDecoder(buf, pos, end) {\n      return utf8TextDecoder.decode(buf.subarray(pos, end));\n    }\n    function writeUtf8(buf, str, pos) {\n      for (var i3 = 0, c2, lead; i3 < str.length; i3++) {\n        c2 = str.charCodeAt(i3);\n        if (c2 > 55295 && c2 < 57344) {\n          if (lead) {\n            if (c2 < 56320) {\n              buf[pos++] = 239;\n              buf[pos++] = 191;\n              buf[pos++] = 189;\n              lead = c2;\n              continue;\n            } else {\n              c2 = lead - 55296 << 10 | c2 - 56320 | 65536;\n              lead = null;\n            }\n          } else {\n            if (c2 > 56319 || i3 + 1 === str.length) {\n              buf[pos++] = 239;\n              buf[pos++] = 191;\n              buf[pos++] = 189;\n            } else {\n              lead = c2;\n            }\n            continue;\n          }\n        } else if (lead) {\n          buf[pos++] = 239;\n          buf[pos++] = 191;\n          buf[pos++] = 189;\n          lead = null;\n        }\n        if (c2 < 128) {\n          buf[pos++] = c2;\n        } else {\n          if (c2 < 2048) {\n            buf[pos++] = c2 >> 6 | 192;\n          } else {\n            if (c2 < 65536) {\n              buf[pos++] = c2 >> 12 | 224;\n            } else {\n              buf[pos++] = c2 >> 18 | 240;\n              buf[pos++] = c2 >> 12 & 63 | 128;\n            }\n            buf[pos++] = c2 >> 6 & 63 | 128;\n          }\n          buf[pos++] = c2 & 63 | 128;\n        }\n      }\n      return pos;\n    }\n  }\n});\n\n// node_modules/rbush/rbush.min.js\nvar require_rbush_min = __commonJS({\n  \"node_modules/rbush/rbush.min.js\"(exports, module) {\n    !function(t2, i3) {\n      \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = i3() : \"function\" == typeof define && define.amd ? define(i3) : (t2 = t2 || self).RBush = i3();\n    }(exports, function() {\n      \"use strict\";\n      function t2(t3, r3, e3, a3, h2) {\n        !function t4(n3, r4, e4, a4, h3) {\n          for (; a4 > e4; ) {\n            if (a4 - e4 > 600) {\n              var o3 = a4 - e4 + 1, s3 = r4 - e4 + 1, l3 = Math.log(o3), f3 = 0.5 * Math.exp(2 * l3 / 3), u3 = 0.5 * Math.sqrt(l3 * f3 * (o3 - f3) / o3) * (s3 - o3 / 2 < 0 ? -1 : 1), m2 = Math.max(e4, Math.floor(r4 - s3 * f3 / o3 + u3)), c3 = Math.min(a4, Math.floor(r4 + (o3 - s3) * f3 / o3 + u3));\n              t4(n3, r4, m2, c3, h3);\n            }\n            var p3 = n3[r4], d2 = e4, x2 = a4;\n            for (i3(n3, e4, r4), h3(n3[a4], p3) > 0 && i3(n3, e4, a4); d2 < x2; ) {\n              for (i3(n3, d2, x2), d2++, x2--; h3(n3[d2], p3) < 0; )\n                d2++;\n              for (; h3(n3[x2], p3) > 0; )\n                x2--;\n            }\n            0 === h3(n3[e4], p3) ? i3(n3, e4, x2) : i3(n3, ++x2, a4), x2 <= r4 && (e4 = x2 + 1), r4 <= x2 && (a4 = x2 - 1);\n          }\n        }(t3, r3, e3 || 0, a3 || t3.length - 1, h2 || n2);\n      }\n      function i3(t3, i4, n3) {\n        var r3 = t3[i4];\n        t3[i4] = t3[n3], t3[n3] = r3;\n      }\n      function n2(t3, i4) {\n        return t3 < i4 ? -1 : t3 > i4 ? 1 : 0;\n      }\n      var r2 = function(t3) {\n        void 0 === t3 && (t3 = 9), this._maxEntries = Math.max(4, t3), this._minEntries = Math.max(2, Math.ceil(0.4 * this._maxEntries)), this.clear();\n      };\n      function e2(t3, i4, n3) {\n        if (!n3)\n          return i4.indexOf(t3);\n        for (var r3 = 0; r3 < i4.length; r3++)\n          if (n3(t3, i4[r3]))\n            return r3;\n        return -1;\n      }\n      function a2(t3, i4) {\n        h(t3, 0, t3.children.length, i4, t3);\n      }\n      function h(t3, i4, n3, r3, e3) {\n        e3 || (e3 = p2(null)), e3.minX = 1 / 0, e3.minY = 1 / 0, e3.maxX = -1 / 0, e3.maxY = -1 / 0;\n        for (var a3 = i4; a3 < n3; a3++) {\n          var h2 = t3.children[a3];\n          o2(e3, t3.leaf ? r3(h2) : h2);\n        }\n        return e3;\n      }\n      function o2(t3, i4) {\n        return t3.minX = Math.min(t3.minX, i4.minX), t3.minY = Math.min(t3.minY, i4.minY), t3.maxX = Math.max(t3.maxX, i4.maxX), t3.maxY = Math.max(t3.maxY, i4.maxY), t3;\n      }\n      function s2(t3, i4) {\n        return t3.minX - i4.minX;\n      }\n      function l2(t3, i4) {\n        return t3.minY - i4.minY;\n      }\n      function f2(t3) {\n        return (t3.maxX - t3.minX) * (t3.maxY - t3.minY);\n      }\n      function u2(t3) {\n        return t3.maxX - t3.minX + (t3.maxY - t3.minY);\n      }\n      function m(t3, i4) {\n        return t3.minX <= i4.minX && t3.minY <= i4.minY && i4.maxX <= t3.maxX && i4.maxY <= t3.maxY;\n      }\n      function c2(t3, i4) {\n        return i4.minX <= t3.maxX && i4.minY <= t3.maxY && i4.maxX >= t3.minX && i4.maxY >= t3.minY;\n      }\n      function p2(t3) {\n        return { children: t3, height: 1, leaf: true, minX: 1 / 0, minY: 1 / 0, maxX: -1 / 0, maxY: -1 / 0 };\n      }\n      function d(i4, n3, r3, e3, a3) {\n        for (var h2 = [n3, r3]; h2.length; )\n          if (!((r3 = h2.pop()) - (n3 = h2.pop()) <= e3)) {\n            var o3 = n3 + Math.ceil((r3 - n3) / e3 / 2) * e3;\n            t2(i4, o3, n3, r3, a3), h2.push(n3, o3, o3, r3);\n          }\n      }\n      return r2.prototype.all = function() {\n        return this._all(this.data, []);\n      }, r2.prototype.search = function(t3) {\n        var i4 = this.data, n3 = [];\n        if (!c2(t3, i4))\n          return n3;\n        for (var r3 = this.toBBox, e3 = []; i4; ) {\n          for (var a3 = 0; a3 < i4.children.length; a3++) {\n            var h2 = i4.children[a3], o3 = i4.leaf ? r3(h2) : h2;\n            c2(t3, o3) && (i4.leaf ? n3.push(h2) : m(t3, o3) ? this._all(h2, n3) : e3.push(h2));\n          }\n          i4 = e3.pop();\n        }\n        return n3;\n      }, r2.prototype.collides = function(t3) {\n        var i4 = this.data;\n        if (!c2(t3, i4))\n          return false;\n        for (var n3 = []; i4; ) {\n          for (var r3 = 0; r3 < i4.children.length; r3++) {\n            var e3 = i4.children[r3], a3 = i4.leaf ? this.toBBox(e3) : e3;\n            if (c2(t3, a3)) {\n              if (i4.leaf || m(t3, a3))\n                return true;\n              n3.push(e3);\n            }\n          }\n          i4 = n3.pop();\n        }\n        return false;\n      }, r2.prototype.load = function(t3) {\n        if (!t3 || !t3.length)\n          return this;\n        if (t3.length < this._minEntries) {\n          for (var i4 = 0; i4 < t3.length; i4++)\n            this.insert(t3[i4]);\n          return this;\n        }\n        var n3 = this._build(t3.slice(), 0, t3.length - 1, 0);\n        if (this.data.children.length)\n          if (this.data.height === n3.height)\n            this._splitRoot(this.data, n3);\n          else {\n            if (this.data.height < n3.height) {\n              var r3 = this.data;\n              this.data = n3, n3 = r3;\n            }\n            this._insert(n3, this.data.height - n3.height - 1, true);\n          }\n        else\n          this.data = n3;\n        return this;\n      }, r2.prototype.insert = function(t3) {\n        return t3 && this._insert(t3, this.data.height - 1), this;\n      }, r2.prototype.clear = function() {\n        return this.data = p2([]), this;\n      }, r2.prototype.remove = function(t3, i4) {\n        if (!t3)\n          return this;\n        for (var n3, r3, a3, h2 = this.data, o3 = this.toBBox(t3), s3 = [], l3 = []; h2 || s3.length; ) {\n          if (h2 || (h2 = s3.pop(), r3 = s3[s3.length - 1], n3 = l3.pop(), a3 = true), h2.leaf) {\n            var f3 = e2(t3, h2.children, i4);\n            if (-1 !== f3)\n              return h2.children.splice(f3, 1), s3.push(h2), this._condense(s3), this;\n          }\n          a3 || h2.leaf || !m(h2, o3) ? r3 ? (n3++, h2 = r3.children[n3], a3 = false) : h2 = null : (s3.push(h2), l3.push(n3), n3 = 0, r3 = h2, h2 = h2.children[0]);\n        }\n        return this;\n      }, r2.prototype.toBBox = function(t3) {\n        return t3;\n      }, r2.prototype.compareMinX = function(t3, i4) {\n        return t3.minX - i4.minX;\n      }, r2.prototype.compareMinY = function(t3, i4) {\n        return t3.minY - i4.minY;\n      }, r2.prototype.toJSON = function() {\n        return this.data;\n      }, r2.prototype.fromJSON = function(t3) {\n        return this.data = t3, this;\n      }, r2.prototype._all = function(t3, i4) {\n        for (var n3 = []; t3; )\n          t3.leaf ? i4.push.apply(i4, t3.children) : n3.push.apply(n3, t3.children), t3 = n3.pop();\n        return i4;\n      }, r2.prototype._build = function(t3, i4, n3, r3) {\n        var e3, h2 = n3 - i4 + 1, o3 = this._maxEntries;\n        if (h2 <= o3)\n          return a2(e3 = p2(t3.slice(i4, n3 + 1)), this.toBBox), e3;\n        r3 || (r3 = Math.ceil(Math.log(h2) / Math.log(o3)), o3 = Math.ceil(h2 / Math.pow(o3, r3 - 1))), (e3 = p2([])).leaf = false, e3.height = r3;\n        var s3 = Math.ceil(h2 / o3), l3 = s3 * Math.ceil(Math.sqrt(o3));\n        d(t3, i4, n3, l3, this.compareMinX);\n        for (var f3 = i4; f3 <= n3; f3 += l3) {\n          var u3 = Math.min(f3 + l3 - 1, n3);\n          d(t3, f3, u3, s3, this.compareMinY);\n          for (var m2 = f3; m2 <= u3; m2 += s3) {\n            var c3 = Math.min(m2 + s3 - 1, u3);\n            e3.children.push(this._build(t3, m2, c3, r3 - 1));\n          }\n        }\n        return a2(e3, this.toBBox), e3;\n      }, r2.prototype._chooseSubtree = function(t3, i4, n3, r3) {\n        for (; r3.push(i4), !i4.leaf && r3.length - 1 !== n3; ) {\n          for (var e3 = 1 / 0, a3 = 1 / 0, h2 = void 0, o3 = 0; o3 < i4.children.length; o3++) {\n            var s3 = i4.children[o3], l3 = f2(s3), u3 = (m2 = t3, c3 = s3, (Math.max(c3.maxX, m2.maxX) - Math.min(c3.minX, m2.minX)) * (Math.max(c3.maxY, m2.maxY) - Math.min(c3.minY, m2.minY)) - l3);\n            u3 < a3 ? (a3 = u3, e3 = l3 < e3 ? l3 : e3, h2 = s3) : u3 === a3 && l3 < e3 && (e3 = l3, h2 = s3);\n          }\n          i4 = h2 || i4.children[0];\n        }\n        var m2, c3;\n        return i4;\n      }, r2.prototype._insert = function(t3, i4, n3) {\n        var r3 = n3 ? t3 : this.toBBox(t3), e3 = [], a3 = this._chooseSubtree(r3, this.data, i4, e3);\n        for (a3.children.push(t3), o2(a3, r3); i4 >= 0 && e3[i4].children.length > this._maxEntries; )\n          this._split(e3, i4), i4--;\n        this._adjustParentBBoxes(r3, e3, i4);\n      }, r2.prototype._split = function(t3, i4) {\n        var n3 = t3[i4], r3 = n3.children.length, e3 = this._minEntries;\n        this._chooseSplitAxis(n3, e3, r3);\n        var h2 = this._chooseSplitIndex(n3, e3, r3), o3 = p2(n3.children.splice(h2, n3.children.length - h2));\n        o3.height = n3.height, o3.leaf = n3.leaf, a2(n3, this.toBBox), a2(o3, this.toBBox), i4 ? t3[i4 - 1].children.push(o3) : this._splitRoot(n3, o3);\n      }, r2.prototype._splitRoot = function(t3, i4) {\n        this.data = p2([t3, i4]), this.data.height = t3.height + 1, this.data.leaf = false, a2(this.data, this.toBBox);\n      }, r2.prototype._chooseSplitIndex = function(t3, i4, n3) {\n        for (var r3, e3, a3, o3, s3, l3, u3, m2 = 1 / 0, c3 = 1 / 0, p3 = i4; p3 <= n3 - i4; p3++) {\n          var d2 = h(t3, 0, p3, this.toBBox), x2 = h(t3, p3, n3, this.toBBox), v = (e3 = d2, a3 = x2, o3 = void 0, s3 = void 0, l3 = void 0, u3 = void 0, o3 = Math.max(e3.minX, a3.minX), s3 = Math.max(e3.minY, a3.minY), l3 = Math.min(e3.maxX, a3.maxX), u3 = Math.min(e3.maxY, a3.maxY), Math.max(0, l3 - o3) * Math.max(0, u3 - s3)), M = f2(d2) + f2(x2);\n          v < m2 ? (m2 = v, r3 = p3, c3 = M < c3 ? M : c3) : v === m2 && M < c3 && (c3 = M, r3 = p3);\n        }\n        return r3 || n3 - i4;\n      }, r2.prototype._chooseSplitAxis = function(t3, i4, n3) {\n        var r3 = t3.leaf ? this.compareMinX : s2, e3 = t3.leaf ? this.compareMinY : l2;\n        this._allDistMargin(t3, i4, n3, r3) < this._allDistMargin(t3, i4, n3, e3) && t3.children.sort(r3);\n      }, r2.prototype._allDistMargin = function(t3, i4, n3, r3) {\n        t3.children.sort(r3);\n        for (var e3 = this.toBBox, a3 = h(t3, 0, i4, e3), s3 = h(t3, n3 - i4, n3, e3), l3 = u2(a3) + u2(s3), f3 = i4; f3 < n3 - i4; f3++) {\n          var m2 = t3.children[f3];\n          o2(a3, t3.leaf ? e3(m2) : m2), l3 += u2(a3);\n        }\n        for (var c3 = n3 - i4 - 1; c3 >= i4; c3--) {\n          var p3 = t3.children[c3];\n          o2(s3, t3.leaf ? e3(p3) : p3), l3 += u2(s3);\n        }\n        return l3;\n      }, r2.prototype._adjustParentBBoxes = function(t3, i4, n3) {\n        for (var r3 = n3; r3 >= 0; r3--)\n          o2(i4[r3], t3);\n      }, r2.prototype._condense = function(t3) {\n        for (var i4 = t3.length - 1, n3 = void 0; i4 >= 0; i4--)\n          0 === t3[i4].children.length ? i4 > 0 ? (n3 = t3[i4 - 1].children).splice(n3.indexOf(t3[i4]), 1) : this.clear() : a2(t3[i4], this.toBBox);\n      }, r2;\n    });\n  }\n});\n\n// src/frontends/static.ts\nvar import_point_geometry7 = __toESM(require_point_geometry());\n\n// src/default_style/dark.ts\nvar dark = {\n  earth: \"#151515\",\n  glacier: \"#1c1c1c\",\n  residential: \"#252B2F\",\n  hospital: \"#3E2C2C\",\n  cemetery: \"#36483D\",\n  school: \"#2C3440\",\n  industrial: \"#33312C\",\n  wood: \"#3A3E38\",\n  grass: \"#4E604D\",\n  park: \"#2C4034\",\n  water: \"#4D5B73\",\n  sand: \"#777777\",\n  buildings: \"#464545\",\n  highwayCasing: \"#000000\",\n  majorRoadCasing: \"#1C1B1B\",\n  mediumRoadCasing: \"#3E3E3E\",\n  minorRoadCasing: \"#000000\",\n  highway: \"#5B5B5B\",\n  majorRoad: \"#595959\",\n  mediumRoad: \"#4F4F4F\",\n  minorRoad: \"#393939\",\n  boundaries: \"#666666\",\n  mask: \"#dddddd\",\n  countryLabel: \"#ffffff\",\n  cityLabel: \"#FFFFFF\",\n  stateLabel: \"#ffffff\",\n  neighbourhoodLabel: \"#FDFDFD\",\n  landuseLabel: \"#DDDDDD\",\n  waterLabel: \"#707E95\",\n  naturalLabel: \"#4c4c4c\",\n  roadsLabel: \"#C4C4C4\",\n  poisLabel: \"#959393\"\n};\n\n// src/default_style/light.ts\nvar light = {\n  earth: \"#FFFBF6\",\n  glacier: \"#ffffff\",\n  residential: \"#F4F4F8\",\n  hospital: \"#FFF6F6\",\n  cemetery: \"#EFF2EE\",\n  school: \"#F7F6FF\",\n  industrial: \"#FFF9EF\",\n  wood: \"#F4F9EF\",\n  grass: \"#EBF9E3\",\n  park: \"#E5F9D5\",\n  water: \"#B7DFF2\",\n  sand: \"#ebebeb\",\n  buildings: \"#F2EDE8\",\n  highwayCasing: \"#FFC3C3\",\n  majorRoadCasing: \"#FFB9B9\",\n  mediumRoadCasing: \"#FFCE8E\",\n  minorRoadCasing: \"#cccccc\",\n  highway: \"#FFCEBB\",\n  majorRoad: \"#FFE4B3\",\n  mediumRoad: \"#FFF2C8\",\n  minorRoad: \"#ffffff\",\n  boundaries: \"#9e9e9e\",\n  mask: \"#dddddd\",\n  countryLabel: \"#aaaaaa\",\n  cityLabel: \"#6C6C6C\",\n  stateLabel: \"#999999\",\n  neighbourhoodLabel: \"#888888\",\n  landuseLabel: \"#898989\",\n  waterLabel: \"#41ABDC\",\n  naturalLabel: \"#4B8F14\",\n  roadsLabel: \"#888888\",\n  poisLabel: \"#606060\"\n};\n\n// node_modules/color2k/dist/index.module.js\nfunction t(t2, n2, r2) {\n  return Math.min(Math.max(t2, r2), n2);\n}\nvar n = class extends Error {\n  constructor(t2) {\n    super(`Failed to parse color: \"${t2}\"`);\n  }\n};\nfunction r(r2) {\n  if (\"string\" != typeof r2)\n    throw new n(r2);\n  if (\"transparent\" === r2.trim().toLowerCase())\n    return [0, 0, 0, 0];\n  let e2 = r2.trim();\n  e2 = u.test(r2) ? function(t2) {\n    const r3 = t2.toLowerCase().trim(), e3 = o[function(t3) {\n      let n2 = 5381, r4 = t3.length;\n      for (; r4; )\n        n2 = 33 * n2 ^ t3.charCodeAt(--r4);\n      return (n2 >>> 0) % 2341;\n    }(r3)];\n    if (!e3)\n      throw new n(t2);\n    return `#${e3}`;\n  }(r2) : r2;\n  const f2 = s.exec(e2);\n  if (f2) {\n    const t2 = Array.from(f2).slice(1);\n    return [...t2.slice(0, 3).map((t3) => parseInt(_(t3, 2), 16)), parseInt(_(t2[3] || \"f\", 2), 16) / 255];\n  }\n  const p2 = i.exec(e2);\n  if (p2) {\n    const t2 = Array.from(p2).slice(1);\n    return [...t2.slice(0, 3).map((t3) => parseInt(t3, 16)), parseInt(t2[3] || \"ff\", 16) / 255];\n  }\n  const z2 = a.exec(e2);\n  if (z2) {\n    const t2 = Array.from(z2).slice(1);\n    return [...t2.slice(0, 3).map((t3) => parseInt(t3, 10)), parseFloat(t2[3] || \"1\")];\n  }\n  const h = c.exec(e2);\n  if (h) {\n    const [e3, o2, _2, s2] = Array.from(h).slice(1).map(parseFloat);\n    if (t(0, 100, o2) !== o2)\n      throw new n(r2);\n    if (t(0, 100, _2) !== _2)\n      throw new n(r2);\n    return [...l(e3, o2, _2), s2 || 1];\n  }\n  throw new n(r2);\n}\nvar e = (t2) => parseInt(t2.replace(/_/g, \"\"), 36);\nvar o = \"1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm\".split(\" \").reduce((t2, n2) => {\n  const r2 = e(n2.substring(0, 3)), o2 = e(n2.substring(3)).toString(16);\n  let _2 = \"\";\n  for (let t3 = 0; t3 < 6 - o2.length; t3++)\n    _2 += \"0\";\n  return t2[r2] = `${_2}${o2}`, t2;\n}, {});\nvar _ = (t2, n2) => Array.from(Array(n2)).map(() => t2).join(\"\");\nvar s = new RegExp(`^#${_(\"([a-f0-9])\", 3)}([a-f0-9])?$`, \"i\");\nvar i = new RegExp(`^#${_(\"([a-f0-9]{2})\", 3)}([a-f0-9]{2})?$`, \"i\");\nvar a = new RegExp(`^rgba?\\\\(\\\\s*(\\\\d+)\\\\s*${_(\",\\\\s*(\\\\d+)\\\\s*\", 2)}(?:,\\\\s*([\\\\d.]+))?\\\\s*\\\\)$`, \"i\");\nvar c = /^hsla?\\(\\s*([\\d.]+)\\s*,\\s*([\\d.]+)%\\s*,\\s*([\\d.]+)%(?:\\s*,\\s*([\\d.]+))?\\s*\\)$/i;\nvar u = /^[a-z]+$/i;\nvar f = (t2) => Math.round(255 * t2);\nvar l = (t2, n2, r2) => {\n  let e2 = r2 / 100;\n  if (0 === n2)\n    return [e2, e2, e2].map(f);\n  const o2 = (t2 % 360 + 360) % 360 / 60, _2 = (1 - Math.abs(2 * e2 - 1)) * (n2 / 100), s2 = _2 * (1 - Math.abs(o2 % 2 - 1));\n  let i3 = 0, a2 = 0, c2 = 0;\n  o2 >= 0 && o2 < 1 ? (i3 = _2, a2 = s2) : o2 >= 1 && o2 < 2 ? (i3 = s2, a2 = _2) : o2 >= 2 && o2 < 3 ? (a2 = _2, c2 = s2) : o2 >= 3 && o2 < 4 ? (a2 = s2, c2 = _2) : o2 >= 4 && o2 < 5 ? (i3 = s2, c2 = _2) : o2 >= 5 && o2 < 6 && (i3 = _2, c2 = s2);\n  const u2 = e2 - _2 / 2;\n  return [i3 + u2, a2 + u2, c2 + u2].map(f);\n};\nfunction p(t2) {\n  const [n2, e2, o2, _2] = r(t2).map((t3, n3) => 3 === n3 ? t3 : t3 / 255), s2 = Math.max(n2, e2, o2), i3 = Math.min(n2, e2, o2), a2 = (s2 + i3) / 2;\n  if (s2 === i3)\n    return [0, 0, a2, _2];\n  const c2 = s2 - i3;\n  return [60 * (n2 === s2 ? (e2 - o2) / c2 + (e2 < o2 ? 6 : 0) : e2 === s2 ? (o2 - n2) / c2 + 2 : (n2 - e2) / c2 + 4), a2 > 0.5 ? c2 / (2 - s2 - i3) : c2 / (s2 + i3), a2, _2];\n}\nfunction z(n2, r2, e2, o2) {\n  return `hsla(${(n2 % 360).toFixed()}, ${t(0, 100, 100 * r2).toFixed()}%, ${t(0, 100, 100 * e2).toFixed()}%, ${parseFloat(t(0, 1, o2).toFixed(3))})`;\n}\n\n// src/symbolizer.ts\nvar import_point_geometry3 = __toESM(require_point_geometry());\nvar import_unitbezier = __toESM(require_unitbezier());\nvar import_polylabel = __toESM(require_polylabel());\n\n// src/attribute.ts\nvar StringAttr = class {\n  constructor(c2, defaultValue) {\n    this.str = c2 != null ? c2 : defaultValue;\n    this.per_feature = typeof this.str === \"function\" && this.str.length === 2;\n  }\n  get(z2, f2) {\n    if (typeof this.str === \"function\") {\n      return this.str(z2, f2);\n    }\n    return this.str;\n  }\n};\nvar NumberAttr = class {\n  constructor(c2, defaultValue = 1) {\n    this.value = c2 != null ? c2 : defaultValue;\n    this.per_feature = typeof this.value === \"function\" && this.value.length === 2;\n  }\n  get(z2, f2) {\n    if (typeof this.value === \"function\") {\n      return this.value(z2, f2);\n    }\n    return this.value;\n  }\n};\nvar TextAttr = class {\n  constructor(options) {\n    var _a2;\n    this.label_props = (_a2 = options == null ? void 0 : options.label_props) != null ? _a2 : [\"name\"];\n    this.textTransform = options == null ? void 0 : options.textTransform;\n  }\n  get(z2, f2) {\n    let retval;\n    let label_props;\n    if (typeof this.label_props === \"function\") {\n      label_props = this.label_props(z2, f2);\n    } else {\n      label_props = this.label_props;\n    }\n    for (const property of label_props) {\n      if (f2.props.hasOwnProperty(property) && typeof f2.props[property] === \"string\") {\n        retval = f2.props[property];\n        break;\n      }\n    }\n    let transform;\n    if (typeof this.textTransform === \"function\") {\n      transform = this.textTransform(z2, f2);\n    } else {\n      transform = this.textTransform;\n    }\n    if (retval && transform === \"uppercase\")\n      retval = retval.toUpperCase();\n    else if (retval && transform === \"lowercase\")\n      retval = retval.toLowerCase();\n    else if (retval && transform === \"capitalize\") {\n      const wordsArray = retval.toLowerCase().split(\" \");\n      const capsArray = wordsArray.map((word) => {\n        return word[0].toUpperCase() + word.slice(1);\n      });\n      retval = capsArray.join(\" \");\n    }\n    return retval;\n  }\n};\nvar FontAttr = class {\n  constructor(options) {\n    var _a2, _b2;\n    if (options == null ? void 0 : options.font) {\n      this.font = options.font;\n    } else {\n      this.family = (_a2 = options == null ? void 0 : options.fontFamily) != null ? _a2 : \"sans-serif\";\n      this.size = (_b2 = options == null ? void 0 : options.fontSize) != null ? _b2 : 12;\n      this.weight = options == null ? void 0 : options.fontWeight;\n      this.style = options == null ? void 0 : options.fontStyle;\n    }\n  }\n  get(z2, f2) {\n    if (this.font) {\n      if (typeof this.font === \"function\") {\n        return this.font(z2, f2);\n      }\n      return this.font;\n    }\n    let style = \"\";\n    if (this.style) {\n      if (typeof this.style === \"function\") {\n        style = `${this.style(z2, f2)} `;\n      } else {\n        style = `${this.style} `;\n      }\n    }\n    let weight = \"\";\n    if (this.weight) {\n      if (typeof this.weight === \"function\") {\n        weight = `${this.weight(z2, f2)} `;\n      } else {\n        weight = `${this.weight} `;\n      }\n    }\n    let size;\n    if (typeof this.size === \"function\") {\n      size = this.size(z2, f2);\n    } else {\n      size = this.size;\n    }\n    let family;\n    if (typeof this.family === \"function\") {\n      family = this.family(z2, f2);\n    } else {\n      family = this.family;\n    }\n    return `${style}${weight}${size}px ${family}`;\n  }\n};\nvar ArrayAttr = class {\n  constructor(c2, defaultValue = []) {\n    this.value = c2 != null ? c2 : defaultValue;\n    this.per_feature = typeof this.value === \"function\" && this.value.length === 2;\n  }\n  get(z2, f2) {\n    if (typeof this.value === \"function\") {\n      return this.value(z2, f2);\n    }\n    return this.value;\n  }\n};\n\n// src/line.ts\nvar import_point_geometry = __toESM(require_point_geometry());\nvar linelabel = (pts, max_angle_delta, targetLen) => {\n  const chunks = [];\n  let a2;\n  let b;\n  let c2;\n  let i3 = 0;\n  let n2 = 0;\n  let d = 0;\n  let abmag = 0;\n  let bcmag = 0;\n  let abx = 0;\n  let aby = 0;\n  let bcx = 0;\n  let bcy = 0;\n  let dt = 0;\n  let i_start = 0;\n  let d_start = 0;\n  if (pts.length < 2)\n    return [];\n  if (pts.length === 2) {\n    d = Math.sqrt(__pow(pts[1].x - pts[0].x, 2) + __pow(pts[1].y - pts[0].y, 2));\n    return [\n      {\n        length: d,\n        beginIndex: 0,\n        beginDistance: 0,\n        endIndex: 2,\n        endDistance: d\n      }\n    ];\n  }\n  abmag = Math.sqrt(__pow(pts[1].x - pts[0].x, 2) + __pow(pts[1].y - pts[0].y, 2));\n  for (i3 = 1, n2 = pts.length - 1; i3 < n2; i3++) {\n    a2 = pts[i3 - 1];\n    b = pts[i3];\n    c2 = pts[i3 + 1];\n    abx = b.x - a2.x;\n    aby = b.y - a2.y;\n    bcx = c2.x - b.x;\n    bcy = c2.y - b.y;\n    bcmag = Math.sqrt(bcx * bcx + bcy * bcy);\n    d += abmag;\n    dt = Math.acos((abx * bcx + aby * bcy) / (abmag * bcmag));\n    if (dt > max_angle_delta || d - d_start > targetLen) {\n      chunks.push({\n        length: d - d_start,\n        beginDistance: d_start,\n        beginIndex: i_start,\n        endIndex: i3 + 1,\n        endDistance: d\n      });\n      i_start = i3;\n      d_start = d;\n    }\n    abmag = bcmag;\n  }\n  if (i3 - i_start > 0) {\n    chunks.push({\n      length: d - d_start + bcmag,\n      beginIndex: i_start,\n      beginDistance: d_start,\n      endIndex: i3 + 1,\n      endDistance: d + bcmag\n    });\n  }\n  return chunks;\n};\nfunction simpleLabel(mls, minimum, repeatDistance, cellSize) {\n  const longestLength = 0;\n  const candidates = [];\n  const lastLabeledDistance = -Infinity;\n  for (const ls of mls) {\n    const segments = linelabel(ls, Math.PI / 45, minimum);\n    for (const segment of segments) {\n      if (segment.length >= minimum + cellSize) {\n        const start = new import_point_geometry.default(\n          ls[segment.beginIndex].x,\n          ls[segment.beginIndex].y\n        );\n        const end = ls[segment.endIndex - 1];\n        const normalized = new import_point_geometry.default(\n          (end.x - start.x) / segment.length,\n          (end.y - start.y) / segment.length\n        );\n        for (let i3 = cellSize; i3 < segment.length - minimum; i3 += repeatDistance) {\n          candidates.push({\n            start: start.add(normalized.mult(i3)),\n            end: start.add(normalized.mult(i3 + minimum))\n          });\n        }\n      }\n    }\n  }\n  return candidates;\n}\nfunction lineCells(a2, b, length, spacing) {\n  const dx = b.x - a2.x;\n  const dy = b.y - a2.y;\n  const dist = Math.sqrt(__pow(b.x - a2.x, 2) + __pow(b.y - a2.y, 2));\n  const retval = [];\n  for (let i3 = 0; i3 < length + spacing; i3 += 2 * spacing) {\n    const factor = i3 * 1 / dist;\n    retval.push({ x: a2.x + factor * dx, y: a2.y + factor * dy });\n  }\n  return retval;\n}\n\n// src/text.ts\nfunction linebreak(str, maxUnits) {\n  if (str.length <= maxUnits)\n    return [str];\n  const endIndex = maxUnits - 1;\n  const space_before = str.lastIndexOf(\" \", endIndex);\n  const space_after = str.indexOf(\" \", endIndex);\n  if (space_before === -1 && space_after === -1) {\n    return [str];\n  }\n  let first;\n  let after;\n  if (space_after === -1 || space_before >= 0 && endIndex - space_before < space_after - endIndex) {\n    first = str.substring(0, space_before);\n    after = str.substring(space_before + 1, str.length);\n  } else {\n    first = str.substring(0, space_after);\n    after = str.substring(space_after + 1, str.length);\n  }\n  return [first, ...linebreak(after, maxUnits)];\n}\nvar CJK_CHARS = \"\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3220-\\u3229\\u3248-\\u324F\\u3251-\\u325F\\u3280-\\u3289\\u32B1-\\u32BF\\u3400-\\u4DB5\\u4E00-\\u9FEA\\uF900-\\uFA6D\\uFA70-\\uFAD9\\u2000\";\nvar cjk_test = new RegExp(`^[${CJK_CHARS}]+$`);\n\n// src/tilecache.ts\nvar import_point_geometry2 = __toESM(require_point_geometry());\nvar import_vector_tile = __toESM(require_vector_tile());\nvar import_pbf = __toESM(require_pbf());\n\n// node_modules/pmtiles/dist/index.mjs\nvar __async2 = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step2(generator.next(value));\n      } catch (e2) {\n        reject(e2);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step2(generator.throw(value));\n      } catch (e2) {\n        reject(e2);\n      }\n    };\n    var step2 = (x2) => x2.done ? resolve(x2.value) : Promise.resolve(x2.value).then(fulfilled, rejected);\n    step2((generator = generator.apply(__this, __arguments)).next());\n  });\n};\nvar u8 = Uint8Array;\nvar u16 = Uint16Array;\nvar u32 = Uint32Array;\nvar fleb = new u8([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 0, 0, 0]);\nvar fdeb = new u8([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, 0, 0]);\nvar clim = new u8([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);\nvar freb = function(eb, start) {\n  var b = new u16(31);\n  for (var i3 = 0; i3 < 31; ++i3) {\n    b[i3] = start += 1 << eb[i3 - 1];\n  }\n  var r2 = new u32(b[30]);\n  for (var i3 = 1; i3 < 30; ++i3) {\n    for (var j = b[i3]; j < b[i3 + 1]; ++j) {\n      r2[j] = j - b[i3] << 5 | i3;\n    }\n  }\n  return [b, r2];\n};\nvar _a = freb(fleb, 2);\nvar fl = _a[0];\nvar revfl = _a[1];\nfl[28] = 258, revfl[258] = 28;\nvar _b = freb(fdeb, 0);\nvar fd = _b[0];\nvar revfd = _b[1];\nvar rev = new u16(32768);\nfor (i2 = 0; i2 < 32768; ++i2) {\n  x = (i2 & 43690) >>> 1 | (i2 & 21845) << 1;\n  x = (x & 52428) >>> 2 | (x & 13107) << 2;\n  x = (x & 61680) >>> 4 | (x & 3855) << 4;\n  rev[i2] = ((x & 65280) >>> 8 | (x & 255) << 8) >>> 1;\n}\nvar x;\nvar i2;\nvar hMap = function(cd, mb, r2) {\n  var s2 = cd.length;\n  var i3 = 0;\n  var l2 = new u16(mb);\n  for (; i3 < s2; ++i3) {\n    if (cd[i3])\n      ++l2[cd[i3] - 1];\n  }\n  var le = new u16(mb);\n  for (i3 = 0; i3 < mb; ++i3) {\n    le[i3] = le[i3 - 1] + l2[i3 - 1] << 1;\n  }\n  var co;\n  if (r2) {\n    co = new u16(1 << mb);\n    var rvb = 15 - mb;\n    for (i3 = 0; i3 < s2; ++i3) {\n      if (cd[i3]) {\n        var sv = i3 << 4 | cd[i3];\n        var r_1 = mb - cd[i3];\n        var v = le[cd[i3] - 1]++ << r_1;\n        for (var m = v | (1 << r_1) - 1; v <= m; ++v) {\n          co[rev[v] >>> rvb] = sv;\n        }\n      }\n    }\n  } else {\n    co = new u16(s2);\n    for (i3 = 0; i3 < s2; ++i3) {\n      if (cd[i3]) {\n        co[i3] = rev[le[cd[i3] - 1]++] >>> 15 - cd[i3];\n      }\n    }\n  }\n  return co;\n};\nvar flt = new u8(288);\nfor (i2 = 0; i2 < 144; ++i2)\n  flt[i2] = 8;\nvar i2;\nfor (i2 = 144; i2 < 256; ++i2)\n  flt[i2] = 9;\nvar i2;\nfor (i2 = 256; i2 < 280; ++i2)\n  flt[i2] = 7;\nvar i2;\nfor (i2 = 280; i2 < 288; ++i2)\n  flt[i2] = 8;\nvar i2;\nvar fdt = new u8(32);\nfor (i2 = 0; i2 < 32; ++i2)\n  fdt[i2] = 5;\nvar i2;\nvar flrm = /* @__PURE__ */ hMap(flt, 9, 1);\nvar fdrm = /* @__PURE__ */ hMap(fdt, 5, 1);\nvar max = function(a2) {\n  var m = a2[0];\n  for (var i3 = 1; i3 < a2.length; ++i3) {\n    if (a2[i3] > m)\n      m = a2[i3];\n  }\n  return m;\n};\nvar bits = function(d, p2, m) {\n  var o2 = p2 / 8 | 0;\n  return (d[o2] | d[o2 + 1] << 8) >> (p2 & 7) & m;\n};\nvar bits16 = function(d, p2) {\n  var o2 = p2 / 8 | 0;\n  return (d[o2] | d[o2 + 1] << 8 | d[o2 + 2] << 16) >> (p2 & 7);\n};\nvar shft = function(p2) {\n  return (p2 + 7) / 8 | 0;\n};\nvar slc = function(v, s2, e2) {\n  if (s2 == null || s2 < 0)\n    s2 = 0;\n  if (e2 == null || e2 > v.length)\n    e2 = v.length;\n  var n2 = new (v.BYTES_PER_ELEMENT == 2 ? u16 : v.BYTES_PER_ELEMENT == 4 ? u32 : u8)(e2 - s2);\n  n2.set(v.subarray(s2, e2));\n  return n2;\n};\nvar ec = [\n  \"unexpected EOF\",\n  \"invalid block type\",\n  \"invalid length/literal\",\n  \"invalid distance\",\n  \"stream finished\",\n  \"no stream handler\",\n  ,\n  \"no callback\",\n  \"invalid UTF-8 data\",\n  \"extra field too long\",\n  \"date not in range 1980-2099\",\n  \"filename too long\",\n  \"stream finishing\",\n  \"invalid zip data\"\n];\nvar err = function(ind, msg, nt) {\n  var e2 = new Error(msg || ec[ind]);\n  e2.code = ind;\n  if (Error.captureStackTrace)\n    Error.captureStackTrace(e2, err);\n  if (!nt)\n    throw e2;\n  return e2;\n};\nvar inflt = function(dat, buf, st) {\n  var sl = dat.length;\n  if (!sl || st && st.f && !st.l)\n    return buf || new u8(0);\n  var noBuf = !buf || st;\n  var noSt = !st || st.i;\n  if (!st)\n    st = {};\n  if (!buf)\n    buf = new u8(sl * 3);\n  var cbuf = function(l22) {\n    var bl = buf.length;\n    if (l22 > bl) {\n      var nbuf = new u8(Math.max(bl * 2, l22));\n      nbuf.set(buf);\n      buf = nbuf;\n    }\n  };\n  var final = st.f || 0, pos = st.p || 0, bt = st.b || 0, lm = st.l, dm = st.d, lbt = st.m, dbt = st.n;\n  var tbts = sl * 8;\n  do {\n    if (!lm) {\n      final = bits(dat, pos, 1);\n      var type = bits(dat, pos + 1, 3);\n      pos += 3;\n      if (!type) {\n        var s2 = shft(pos) + 4, l2 = dat[s2 - 4] | dat[s2 - 3] << 8, t2 = s2 + l2;\n        if (t2 > sl) {\n          if (noSt)\n            err(0);\n          break;\n        }\n        if (noBuf)\n          cbuf(bt + l2);\n        buf.set(dat.subarray(s2, t2), bt);\n        st.b = bt += l2, st.p = pos = t2 * 8, st.f = final;\n        continue;\n      } else if (type == 1)\n        lm = flrm, dm = fdrm, lbt = 9, dbt = 5;\n      else if (type == 2) {\n        var hLit = bits(dat, pos, 31) + 257, hcLen = bits(dat, pos + 10, 15) + 4;\n        var tl = hLit + bits(dat, pos + 5, 31) + 1;\n        pos += 14;\n        var ldt = new u8(tl);\n        var clt = new u8(19);\n        for (var i3 = 0; i3 < hcLen; ++i3) {\n          clt[clim[i3]] = bits(dat, pos + i3 * 3, 7);\n        }\n        pos += hcLen * 3;\n        var clb = max(clt), clbmsk = (1 << clb) - 1;\n        var clm = hMap(clt, clb, 1);\n        for (var i3 = 0; i3 < tl; ) {\n          var r2 = clm[bits(dat, pos, clbmsk)];\n          pos += r2 & 15;\n          var s2 = r2 >>> 4;\n          if (s2 < 16) {\n            ldt[i3++] = s2;\n          } else {\n            var c2 = 0, n2 = 0;\n            if (s2 == 16)\n              n2 = 3 + bits(dat, pos, 3), pos += 2, c2 = ldt[i3 - 1];\n            else if (s2 == 17)\n              n2 = 3 + bits(dat, pos, 7), pos += 3;\n            else if (s2 == 18)\n              n2 = 11 + bits(dat, pos, 127), pos += 7;\n            while (n2--)\n              ldt[i3++] = c2;\n          }\n        }\n        var lt = ldt.subarray(0, hLit), dt = ldt.subarray(hLit);\n        lbt = max(lt);\n        dbt = max(dt);\n        lm = hMap(lt, lbt, 1);\n        dm = hMap(dt, dbt, 1);\n      } else\n        err(1);\n      if (pos > tbts) {\n        if (noSt)\n          err(0);\n        break;\n      }\n    }\n    if (noBuf)\n      cbuf(bt + 131072);\n    var lms = (1 << lbt) - 1, dms = (1 << dbt) - 1;\n    var lpos = pos;\n    for (; ; lpos = pos) {\n      var c2 = lm[bits16(dat, pos) & lms], sym = c2 >>> 4;\n      pos += c2 & 15;\n      if (pos > tbts) {\n        if (noSt)\n          err(0);\n        break;\n      }\n      if (!c2)\n        err(2);\n      if (sym < 256)\n        buf[bt++] = sym;\n      else if (sym == 256) {\n        lpos = pos, lm = null;\n        break;\n      } else {\n        var add = sym - 254;\n        if (sym > 264) {\n          var i3 = sym - 257, b = fleb[i3];\n          add = bits(dat, pos, (1 << b) - 1) + fl[i3];\n          pos += b;\n        }\n        var d = dm[bits16(dat, pos) & dms], dsym = d >>> 4;\n        if (!d)\n          err(3);\n        pos += d & 15;\n        var dt = fd[dsym];\n        if (dsym > 3) {\n          var b = fdeb[dsym];\n          dt += bits16(dat, pos) & (1 << b) - 1, pos += b;\n        }\n        if (pos > tbts) {\n          if (noSt)\n            err(0);\n          break;\n        }\n        if (noBuf)\n          cbuf(bt + 131072);\n        var end = bt + add;\n        for (; bt < end; bt += 4) {\n          buf[bt] = buf[bt - dt];\n          buf[bt + 1] = buf[bt + 1 - dt];\n          buf[bt + 2] = buf[bt + 2 - dt];\n          buf[bt + 3] = buf[bt + 3 - dt];\n        }\n        bt = end;\n      }\n    }\n    st.l = lm, st.p = lpos, st.b = bt, st.f = final;\n    if (lm)\n      final = 1, st.m = lbt, st.d = dm, st.n = dbt;\n  } while (!final);\n  return bt == buf.length ? buf : slc(buf, 0, bt);\n};\nvar et = /* @__PURE__ */ new u8(0);\nvar gzs = function(d) {\n  if (d[0] != 31 || d[1] != 139 || d[2] != 8)\n    err(6, \"invalid gzip data\");\n  var flg = d[3];\n  var st = 10;\n  if (flg & 4)\n    st += d[10] | (d[11] << 8) + 2;\n  for (var zs = (flg >> 3 & 1) + (flg >> 4 & 1); zs > 0; zs -= !d[st++])\n    ;\n  return st + (flg & 2);\n};\nvar gzl = function(d) {\n  var l2 = d.length;\n  return (d[l2 - 4] | d[l2 - 3] << 8 | d[l2 - 2] << 16 | d[l2 - 1] << 24) >>> 0;\n};\nvar zlv = function(d) {\n  if ((d[0] & 15) != 8 || d[0] >>> 4 > 7 || (d[0] << 8 | d[1]) % 31)\n    err(6, \"invalid zlib data\");\n  if (d[1] & 32)\n    err(6, \"invalid zlib data: preset dictionaries not supported\");\n};\nfunction inflateSync(data, out) {\n  return inflt(data, out);\n}\nfunction gunzipSync(data, out) {\n  return inflt(data.subarray(gzs(data), -8), out || new u8(gzl(data)));\n}\nfunction unzlibSync(data, out) {\n  return inflt((zlv(data), data.subarray(2, -4)), out);\n}\nfunction decompressSync(data, out) {\n  return data[0] == 31 && data[1] == 139 && data[2] == 8 ? gunzipSync(data, out) : (data[0] & 15) != 8 || data[0] >> 4 > 7 || (data[0] << 8 | data[1]) % 31 ? inflateSync(data, out) : unzlibSync(data, out);\n}\nvar td = typeof TextDecoder != \"undefined\" && /* @__PURE__ */ new TextDecoder();\nvar tds = 0;\ntry {\n  td.decode(et, { stream: true });\n  tds = 1;\n} catch (e2) {\n}\nvar shift = (n2, shift2) => {\n  return n2 * Math.pow(2, shift2);\n};\nvar unshift = (n2, shift2) => {\n  return Math.floor(n2 / Math.pow(2, shift2));\n};\nvar getUint24 = (view, pos) => {\n  return shift(view.getUint16(pos + 1, true), 8) + view.getUint8(pos);\n};\nvar getUint48 = (view, pos) => {\n  return shift(view.getUint32(pos + 2, true), 16) + view.getUint16(pos, true);\n};\nvar compare = (tz, tx, ty, view, i3) => {\n  if (tz != view.getUint8(i3))\n    return tz - view.getUint8(i3);\n  const x2 = getUint24(view, i3 + 1);\n  if (tx != x2)\n    return tx - x2;\n  const y = getUint24(view, i3 + 4);\n  if (ty != y)\n    return ty - y;\n  return 0;\n};\nvar queryLeafdir = (view, z2, x2, y) => {\n  const offset_len = queryView(view, z2 | 128, x2, y);\n  if (offset_len) {\n    return {\n      z: z2,\n      x: x2,\n      y,\n      offset: offset_len[0],\n      length: offset_len[1],\n      is_dir: true\n    };\n  }\n  return null;\n};\nvar queryTile = (view, z2, x2, y) => {\n  const offset_len = queryView(view, z2, x2, y);\n  if (offset_len) {\n    return {\n      z: z2,\n      x: x2,\n      y,\n      offset: offset_len[0],\n      length: offset_len[1],\n      is_dir: false\n    };\n  }\n  return null;\n};\nvar queryView = (view, z2, x2, y) => {\n  let m = 0;\n  let n2 = view.byteLength / 17 - 1;\n  while (m <= n2) {\n    const k = n2 + m >> 1;\n    const cmp = compare(z2, x2, y, view, k * 17);\n    if (cmp > 0) {\n      m = k + 1;\n    } else if (cmp < 0) {\n      n2 = k - 1;\n    } else {\n      return [getUint48(view, k * 17 + 7), view.getUint32(k * 17 + 13, true)];\n    }\n  }\n  return null;\n};\nvar entrySort = (a2, b) => {\n  if (a2.is_dir && !b.is_dir) {\n    return 1;\n  }\n  if (!a2.is_dir && b.is_dir) {\n    return -1;\n  }\n  if (a2.z !== b.z) {\n    return a2.z - b.z;\n  }\n  if (a2.x !== b.x) {\n    return a2.x - b.x;\n  }\n  return a2.y - b.y;\n};\nvar parseEntry = (dataview, i3) => {\n  const z_raw = dataview.getUint8(i3 * 17);\n  const z2 = z_raw & 127;\n  return {\n    z: z2,\n    x: getUint24(dataview, i3 * 17 + 1),\n    y: getUint24(dataview, i3 * 17 + 4),\n    offset: getUint48(dataview, i3 * 17 + 7),\n    length: dataview.getUint32(i3 * 17 + 13, true),\n    is_dir: z_raw >> 7 === 1\n  };\n};\nvar sortDir = (a2) => {\n  const entries = [];\n  const view = new DataView(a2);\n  for (let i3 = 0; i3 < view.byteLength / 17; i3++) {\n    entries.push(parseEntry(view, i3));\n  }\n  return createDirectory(entries);\n};\nvar createDirectory = (entries) => {\n  entries.sort(entrySort);\n  const buffer = new ArrayBuffer(17 * entries.length);\n  const arr2 = new Uint8Array(buffer);\n  for (let i3 = 0; i3 < entries.length; i3++) {\n    const entry = entries[i3];\n    let z2 = entry.z;\n    if (entry.is_dir)\n      z2 = z2 | 128;\n    arr2[i3 * 17] = z2;\n    arr2[i3 * 17 + 1] = entry.x & 255;\n    arr2[i3 * 17 + 2] = entry.x >> 8 & 255;\n    arr2[i3 * 17 + 3] = entry.x >> 16 & 255;\n    arr2[i3 * 17 + 4] = entry.y & 255;\n    arr2[i3 * 17 + 5] = entry.y >> 8 & 255;\n    arr2[i3 * 17 + 6] = entry.y >> 16 & 255;\n    arr2[i3 * 17 + 7] = entry.offset & 255;\n    arr2[i3 * 17 + 8] = unshift(entry.offset, 8) & 255;\n    arr2[i3 * 17 + 9] = unshift(entry.offset, 16) & 255;\n    arr2[i3 * 17 + 10] = unshift(entry.offset, 24) & 255;\n    arr2[i3 * 17 + 11] = unshift(entry.offset, 32) & 255;\n    arr2[i3 * 17 + 12] = unshift(entry.offset, 48) & 255;\n    arr2[i3 * 17 + 13] = entry.length & 255;\n    arr2[i3 * 17 + 14] = entry.length >> 8 & 255;\n    arr2[i3 * 17 + 15] = entry.length >> 16 & 255;\n    arr2[i3 * 17 + 16] = entry.length >> 24 & 255;\n  }\n  return buffer;\n};\nvar deriveLeaf = (view, tile) => {\n  if (view.byteLength < 17)\n    return null;\n  const numEntries = view.byteLength / 17;\n  const entry = parseEntry(view, numEntries - 1);\n  if (entry.is_dir) {\n    const leaf_level = entry.z;\n    const level_diff = tile.z - leaf_level;\n    const leaf_x = Math.trunc(tile.x / (1 << level_diff));\n    const leaf_y = Math.trunc(tile.y / (1 << level_diff));\n    return { z: leaf_level, x: leaf_x, y: leaf_y };\n  }\n  return null;\n};\nfunction getHeader(source) {\n  return __async2(this, null, function* () {\n    const resp = yield source.getBytes(0, 512e3);\n    const dataview = new DataView(resp.data);\n    const json_size = dataview.getUint32(4, true);\n    const root_entries = dataview.getUint16(8, true);\n    const dec = new TextDecoder(\"utf-8\");\n    const json_metadata = JSON.parse(\n      dec.decode(new DataView(resp.data, 10, json_size))\n    );\n    let tile_compression = 0;\n    if (json_metadata.compression === \"gzip\") {\n      tile_compression = 2;\n    }\n    let minzoom = 0;\n    if (\"minzoom\" in json_metadata) {\n      minzoom = +json_metadata.minzoom;\n    }\n    let maxzoom = 0;\n    if (\"maxzoom\" in json_metadata) {\n      maxzoom = +json_metadata.maxzoom;\n    }\n    let center_lon = 0;\n    let center_lat = 0;\n    let center_zoom = 0;\n    let min_lon = -180;\n    let min_lat = -85;\n    let max_lon = 180;\n    let max_lat = 85;\n    if (json_metadata.bounds) {\n      const split = json_metadata.bounds.split(\",\");\n      min_lon = +split[0];\n      min_lat = +split[1];\n      max_lon = +split[2];\n      max_lat = +split[3];\n    }\n    if (json_metadata.center) {\n      const split = json_metadata.center.split(\",\");\n      center_lon = +split[0];\n      center_lat = +split[1];\n      center_zoom = +split[2];\n    }\n    const header = {\n      specVersion: dataview.getUint16(2, true),\n      rootDirectoryOffset: 10 + json_size,\n      rootDirectoryLength: root_entries * 17,\n      jsonMetadataOffset: 10,\n      jsonMetadataLength: json_size,\n      leafDirectoryOffset: 0,\n      leafDirectoryLength: void 0,\n      tileDataOffset: 0,\n      tileDataLength: void 0,\n      numAddressedTiles: 0,\n      numTileEntries: 0,\n      numTileContents: 0,\n      clustered: false,\n      internalCompression: 1,\n      tileCompression: tile_compression,\n      tileType: 1,\n      minZoom: minzoom,\n      maxZoom: maxzoom,\n      minLon: min_lon,\n      minLat: min_lat,\n      maxLon: max_lon,\n      maxLat: max_lat,\n      centerZoom: center_zoom,\n      centerLon: center_lon,\n      centerLat: center_lat,\n      etag: resp.etag\n    };\n    return header;\n  });\n}\nfunction getZxy(header, source, cache, z2, x2, y, signal) {\n  return __async2(this, null, function* () {\n    let root_dir = yield cache.getArrayBuffer(\n      source,\n      header.rootDirectoryOffset,\n      header.rootDirectoryLength,\n      header\n    );\n    if (header.specVersion === 1) {\n      root_dir = sortDir(root_dir);\n    }\n    const entry = queryTile(new DataView(root_dir), z2, x2, y);\n    if (entry) {\n      const resp = yield source.getBytes(entry.offset, entry.length, signal);\n      let tile_data = resp.data;\n      const view = new DataView(tile_data);\n      if (view.getUint8(0) == 31 && view.getUint8(1) == 139) {\n        tile_data = decompressSync(new Uint8Array(tile_data));\n      }\n      return {\n        data: tile_data\n      };\n    }\n    const leafcoords = deriveLeaf(new DataView(root_dir), { z: z2, x: x2, y });\n    if (leafcoords) {\n      const leafdir_entry = queryLeafdir(\n        new DataView(root_dir),\n        leafcoords.z,\n        leafcoords.x,\n        leafcoords.y\n      );\n      if (leafdir_entry) {\n        let leaf_dir = yield cache.getArrayBuffer(\n          source,\n          leafdir_entry.offset,\n          leafdir_entry.length,\n          header\n        );\n        if (header.specVersion === 1) {\n          leaf_dir = sortDir(leaf_dir);\n        }\n        const tile_entry = queryTile(new DataView(leaf_dir), z2, x2, y);\n        if (tile_entry) {\n          const resp = yield source.getBytes(\n            tile_entry.offset,\n            tile_entry.length,\n            signal\n          );\n          let tile_data = resp.data;\n          const view = new DataView(tile_data);\n          if (view.getUint8(0) == 31 && view.getUint8(1) == 139) {\n            tile_data = decompressSync(new Uint8Array(tile_data));\n          }\n          return {\n            data: tile_data\n          };\n        }\n      }\n    }\n    return void 0;\n  });\n}\nvar v2_default = {\n  getHeader,\n  getZxy\n};\nfunction toNum(low, high) {\n  return (high >>> 0) * 4294967296 + (low >>> 0);\n}\nfunction readVarintRemainder(l2, p2) {\n  const buf = p2.buf;\n  let h, b;\n  b = buf[p2.pos++];\n  h = (b & 112) >> 4;\n  if (b < 128)\n    return toNum(l2, h);\n  b = buf[p2.pos++];\n  h |= (b & 127) << 3;\n  if (b < 128)\n    return toNum(l2, h);\n  b = buf[p2.pos++];\n  h |= (b & 127) << 10;\n  if (b < 128)\n    return toNum(l2, h);\n  b = buf[p2.pos++];\n  h |= (b & 127) << 17;\n  if (b < 128)\n    return toNum(l2, h);\n  b = buf[p2.pos++];\n  h |= (b & 127) << 24;\n  if (b < 128)\n    return toNum(l2, h);\n  b = buf[p2.pos++];\n  h |= (b & 1) << 31;\n  if (b < 128)\n    return toNum(l2, h);\n  throw new Error(\"Expected varint not more than 10 bytes\");\n}\nfunction readVarint(p2) {\n  const buf = p2.buf;\n  let val, b;\n  b = buf[p2.pos++];\n  val = b & 127;\n  if (b < 128)\n    return val;\n  b = buf[p2.pos++];\n  val |= (b & 127) << 7;\n  if (b < 128)\n    return val;\n  b = buf[p2.pos++];\n  val |= (b & 127) << 14;\n  if (b < 128)\n    return val;\n  b = buf[p2.pos++];\n  val |= (b & 127) << 21;\n  if (b < 128)\n    return val;\n  b = buf[p2.pos];\n  val |= (b & 15) << 28;\n  return readVarintRemainder(val, p2);\n}\nfunction rotate(n2, xy, rx, ry) {\n  if (ry == 0) {\n    if (rx == 1) {\n      xy[0] = n2 - 1 - xy[0];\n      xy[1] = n2 - 1 - xy[1];\n    }\n    const t2 = xy[0];\n    xy[0] = xy[1];\n    xy[1] = t2;\n  }\n}\nfunction zxyToTileId(z2, x2, y) {\n  if (z2 > 26) {\n    throw Error(\"Tile zoom level exceeds max safe number limit (26)\");\n  }\n  if (x2 > Math.pow(2, z2) - 1 || y > Math.pow(2, z2) - 1) {\n    throw Error(\"tile x/y outside zoom level bounds\");\n  }\n  let acc = 0;\n  let tz = 0;\n  while (tz < z2) {\n    acc += Math.pow(2, tz) * Math.pow(2, tz);\n    tz++;\n  }\n  const n2 = Math.pow(2, z2);\n  let rx = 0;\n  let ry = 0;\n  let d = 0;\n  const xy = [x2, y];\n  let s2 = n2 / 2;\n  while (s2 > 0) {\n    rx = (xy[0] & s2) > 0 ? 1 : 0;\n    ry = (xy[1] & s2) > 0 ? 1 : 0;\n    d += s2 * s2 * (3 * rx ^ ry);\n    rotate(s2, xy, rx, ry);\n    s2 = s2 / 2;\n  }\n  return acc + d;\n}\nfunction fflateDecompress(buf, compression) {\n  return __async2(this, null, function* () {\n    if (compression === 1 || compression === 0) {\n      return buf;\n    } else if (compression === 2) {\n      return decompressSync(new Uint8Array(buf));\n    } else {\n      throw Error(\"Compression method not supported\");\n    }\n  });\n}\nvar HEADER_SIZE_BYTES = 127;\nfunction findTile(entries, tileId) {\n  let m = 0;\n  let n2 = entries.length - 1;\n  while (m <= n2) {\n    const k = n2 + m >> 1;\n    const cmp = tileId - entries[k].tileId;\n    if (cmp > 0) {\n      m = k + 1;\n    } else if (cmp < 0) {\n      n2 = k - 1;\n    } else {\n      return entries[k];\n    }\n  }\n  if (n2 >= 0) {\n    if (entries[n2].runLength === 0) {\n      return entries[n2];\n    }\n    if (tileId - entries[n2].tileId < entries[n2].runLength) {\n      return entries[n2];\n    }\n  }\n  return null;\n}\nvar FetchSource = class {\n  constructor(url) {\n    this.url = url;\n  }\n  getKey() {\n    return this.url;\n  }\n  getBytes(offset, length, signal) {\n    return __async2(this, null, function* () {\n      let controller;\n      if (!signal) {\n        controller = new AbortController();\n        signal = controller.signal;\n      }\n      let resp = yield fetch(this.url, {\n        signal,\n        headers: { Range: \"bytes=\" + offset + \"-\" + (offset + length - 1) }\n      });\n      if (resp.status === 416 && offset === 0) {\n        const content_range = resp.headers.get(\"Content-Range\");\n        if (!content_range || !content_range.startsWith(\"bytes */\")) {\n          throw Error(\"Missing content-length on 416 response\");\n        }\n        const actual_length = +content_range.substr(8);\n        resp = yield fetch(this.url, {\n          signal,\n          headers: { Range: \"bytes=0-\" + (actual_length - 1) }\n        });\n      }\n      if (resp.status >= 300) {\n        throw Error(\"Bad response code: \" + resp.status);\n      }\n      const content_length = resp.headers.get(\"Content-Length\");\n      if (resp.status === 200 && (!content_length || +content_length > length)) {\n        if (controller)\n          controller.abort();\n        throw Error(\n          \"Server returned no content-length header or content-length exceeding request. Check that your storage backend supports HTTP Byte Serving.\"\n        );\n      }\n      const a2 = yield resp.arrayBuffer();\n      return {\n        data: a2,\n        etag: resp.headers.get(\"ETag\") || void 0,\n        cacheControl: resp.headers.get(\"Cache-Control\") || void 0,\n        expires: resp.headers.get(\"Expires\") || void 0\n      };\n    });\n  }\n};\nfunction getUint64(v, offset) {\n  const wh = v.getUint32(offset + 4, true);\n  const wl = v.getUint32(offset + 0, true);\n  return wh * Math.pow(2, 32) + wl;\n}\nfunction bytesToHeader(bytes, etag) {\n  const v = new DataView(bytes);\n  const spec_version = v.getUint8(7);\n  if (spec_version > 3) {\n    throw Error(\n      `Archive is spec version ${spec_version} but this library supports up to spec version 3`\n    );\n  }\n  return {\n    specVersion: spec_version,\n    rootDirectoryOffset: getUint64(v, 8),\n    rootDirectoryLength: getUint64(v, 16),\n    jsonMetadataOffset: getUint64(v, 24),\n    jsonMetadataLength: getUint64(v, 32),\n    leafDirectoryOffset: getUint64(v, 40),\n    leafDirectoryLength: getUint64(v, 48),\n    tileDataOffset: getUint64(v, 56),\n    tileDataLength: getUint64(v, 64),\n    numAddressedTiles: getUint64(v, 72),\n    numTileEntries: getUint64(v, 80),\n    numTileContents: getUint64(v, 88),\n    clustered: v.getUint8(96) === 1,\n    internalCompression: v.getUint8(97),\n    tileCompression: v.getUint8(98),\n    tileType: v.getUint8(99),\n    minZoom: v.getUint8(100),\n    maxZoom: v.getUint8(101),\n    minLon: v.getInt32(102, true) / 1e7,\n    minLat: v.getInt32(106, true) / 1e7,\n    maxLon: v.getInt32(110, true) / 1e7,\n    maxLat: v.getInt32(114, true) / 1e7,\n    centerZoom: v.getUint8(118),\n    centerLon: v.getInt32(119, true) / 1e7,\n    centerLat: v.getInt32(123, true) / 1e7,\n    etag\n  };\n}\nfunction deserializeIndex(buffer) {\n  const p2 = { buf: new Uint8Array(buffer), pos: 0 };\n  const numEntries = readVarint(p2);\n  const entries = [];\n  let lastId = 0;\n  for (let i3 = 0; i3 < numEntries; i3++) {\n    const v = readVarint(p2);\n    entries.push({ tileId: lastId + v, offset: 0, length: 0, runLength: 1 });\n    lastId += v;\n  }\n  for (let i3 = 0; i3 < numEntries; i3++) {\n    entries[i3].runLength = readVarint(p2);\n  }\n  for (let i3 = 0; i3 < numEntries; i3++) {\n    entries[i3].length = readVarint(p2);\n  }\n  for (let i3 = 0; i3 < numEntries; i3++) {\n    const v = readVarint(p2);\n    if (v === 0 && i3 > 0) {\n      entries[i3].offset = entries[i3 - 1].offset + entries[i3 - 1].length;\n    } else {\n      entries[i3].offset = v - 1;\n    }\n  }\n  return entries;\n}\nfunction detectVersion(a2) {\n  const v = new DataView(a2);\n  if (v.getUint16(2, true) === 2) {\n    console.warn(\n      \"PMTiles spec version 2 has been deprecated; please see github.com/protomaps/PMTiles for tools to upgrade\"\n    );\n    return 2;\n  } else if (v.getUint16(2, true) === 1) {\n    console.warn(\n      \"PMTiles spec version 1 has been deprecated; please see github.com/protomaps/PMTiles for tools to upgrade\"\n    );\n    return 1;\n  }\n  return 3;\n}\nvar EtagMismatch = class extends Error {\n};\nfunction getHeaderAndRoot(source, decompress, prefetch, current_etag) {\n  return __async2(this, null, function* () {\n    const resp = yield source.getBytes(0, 16384);\n    const v = new DataView(resp.data);\n    if (v.getUint16(0, true) !== 19792) {\n      throw new Error(\"Wrong magic number for PMTiles archive\");\n    }\n    if (detectVersion(resp.data) < 3) {\n      return [yield v2_default.getHeader(source)];\n    }\n    const headerData = resp.data.slice(0, HEADER_SIZE_BYTES);\n    let resp_etag = resp.etag;\n    if (current_etag && resp.etag != current_etag) {\n      console.warn(\n        \"ETag conflict detected; your HTTP server might not support content-based ETag headers. ETags disabled for \" + source.getKey()\n      );\n      resp_etag = void 0;\n    }\n    const header = bytesToHeader(headerData, resp_etag);\n    if (prefetch) {\n      const rootDirData = resp.data.slice(\n        header.rootDirectoryOffset,\n        header.rootDirectoryOffset + header.rootDirectoryLength\n      );\n      const dirKey = source.getKey() + \"|\" + (header.etag || \"\") + \"|\" + header.rootDirectoryOffset + \"|\" + header.rootDirectoryLength;\n      const rootDir = deserializeIndex(\n        yield decompress(rootDirData, header.internalCompression)\n      );\n      return [header, [dirKey, rootDir.length, rootDir]];\n    }\n    return [header, void 0];\n  });\n}\nfunction getDirectory(source, decompress, offset, length, header) {\n  return __async2(this, null, function* () {\n    const resp = yield source.getBytes(offset, length);\n    if (header.etag && header.etag !== resp.etag) {\n      throw new EtagMismatch(resp.etag);\n    }\n    const data = yield decompress(resp.data, header.internalCompression);\n    const directory = deserializeIndex(data);\n    if (directory.length === 0) {\n      throw new Error(\"Empty directory is invalid\");\n    }\n    return directory;\n  });\n}\nvar SharedPromiseCache = class {\n  constructor(maxCacheEntries = 100, prefetch = true, decompress = fflateDecompress) {\n    this.cache = /* @__PURE__ */ new Map();\n    this.maxCacheEntries = maxCacheEntries;\n    this.counter = 1;\n    this.prefetch = prefetch;\n    this.decompress = decompress;\n  }\n  getHeader(source, current_etag) {\n    return __async2(this, null, function* () {\n      const cacheKey = source.getKey();\n      if (this.cache.has(cacheKey)) {\n        this.cache.get(cacheKey).lastUsed = this.counter++;\n        const data = yield this.cache.get(cacheKey).data;\n        return data;\n      }\n      const p2 = new Promise((resolve, reject) => {\n        getHeaderAndRoot(source, this.decompress, this.prefetch, current_etag).then((res) => {\n          if (res[1]) {\n            this.cache.set(res[1][0], {\n              lastUsed: this.counter++,\n              data: Promise.resolve(res[1][2])\n            });\n          }\n          resolve(res[0]);\n          this.prune();\n        }).catch((e2) => {\n          reject(e2);\n        });\n      });\n      this.cache.set(cacheKey, { lastUsed: this.counter++, data: p2 });\n      return p2;\n    });\n  }\n  getDirectory(source, offset, length, header) {\n    return __async2(this, null, function* () {\n      const cacheKey = source.getKey() + \"|\" + (header.etag || \"\") + \"|\" + offset + \"|\" + length;\n      if (this.cache.has(cacheKey)) {\n        this.cache.get(cacheKey).lastUsed = this.counter++;\n        const data = yield this.cache.get(cacheKey).data;\n        return data;\n      }\n      const p2 = new Promise((resolve, reject) => {\n        getDirectory(source, this.decompress, offset, length, header).then((directory) => {\n          resolve(directory);\n          this.prune();\n        }).catch((e2) => {\n          reject(e2);\n        });\n      });\n      this.cache.set(cacheKey, { lastUsed: this.counter++, data: p2 });\n      return p2;\n    });\n  }\n  getArrayBuffer(source, offset, length, header) {\n    return __async2(this, null, function* () {\n      const cacheKey = source.getKey() + \"|\" + (header.etag || \"\") + \"|\" + offset + \"|\" + length;\n      if (this.cache.has(cacheKey)) {\n        this.cache.get(cacheKey).lastUsed = this.counter++;\n        const data = yield this.cache.get(cacheKey).data;\n        return data;\n      }\n      const p2 = new Promise((resolve, reject) => {\n        source.getBytes(offset, length).then((resp) => {\n          if (header.etag && header.etag !== resp.etag) {\n            throw new EtagMismatch(resp.etag);\n          }\n          resolve(resp.data);\n          if (this.cache.has(cacheKey)) {\n          }\n          this.prune();\n        }).catch((e2) => {\n          reject(e2);\n        });\n      });\n      this.cache.set(cacheKey, { lastUsed: this.counter++, data: p2 });\n      return p2;\n    });\n  }\n  prune() {\n    if (this.cache.size >= this.maxCacheEntries) {\n      let minUsed = Infinity;\n      let minKey = void 0;\n      this.cache.forEach(\n        (cache_value, key) => {\n          if (cache_value.lastUsed < minUsed) {\n            minUsed = cache_value.lastUsed;\n            minKey = key;\n          }\n        }\n      );\n      if (minKey) {\n        this.cache.delete(minKey);\n      }\n    }\n  }\n  invalidate(source, current_etag) {\n    return __async2(this, null, function* () {\n      this.cache.delete(source.getKey());\n      yield this.getHeader(source, current_etag);\n    });\n  }\n};\nvar PMTiles = class {\n  constructor(source, cache, decompress) {\n    if (typeof source === \"string\") {\n      this.source = new FetchSource(source);\n    } else {\n      this.source = source;\n    }\n    if (decompress) {\n      this.decompress = decompress;\n    } else {\n      this.decompress = fflateDecompress;\n    }\n    if (cache) {\n      this.cache = cache;\n    } else {\n      this.cache = new SharedPromiseCache();\n    }\n  }\n  getHeader() {\n    return __async2(this, null, function* () {\n      return yield this.cache.getHeader(this.source);\n    });\n  }\n  getZxyAttempt(z2, x2, y, signal) {\n    return __async2(this, null, function* () {\n      const tile_id = zxyToTileId(z2, x2, y);\n      const header = yield this.cache.getHeader(this.source);\n      if (header.specVersion < 3) {\n        return v2_default.getZxy(header, this.source, this.cache, z2, x2, y, signal);\n      }\n      if (z2 < header.minZoom || z2 > header.maxZoom) {\n        return void 0;\n      }\n      let d_o = header.rootDirectoryOffset;\n      let d_l = header.rootDirectoryLength;\n      for (let depth = 0; depth <= 3; depth++) {\n        const directory = yield this.cache.getDirectory(\n          this.source,\n          d_o,\n          d_l,\n          header\n        );\n        const entry = findTile(directory, tile_id);\n        if (entry) {\n          if (entry.runLength > 0) {\n            const resp = yield this.source.getBytes(\n              header.tileDataOffset + entry.offset,\n              entry.length,\n              signal\n            );\n            if (header.etag && header.etag !== resp.etag) {\n              throw new EtagMismatch(resp.etag);\n            }\n            return {\n              data: yield this.decompress(resp.data, header.tileCompression),\n              cacheControl: resp.cacheControl,\n              expires: resp.expires\n            };\n          } else {\n            d_o = header.leafDirectoryOffset + entry.offset;\n            d_l = entry.length;\n          }\n        } else {\n          return void 0;\n        }\n      }\n      throw Error(\"Maximum directory depth exceeded\");\n    });\n  }\n  getZxy(z2, x2, y, signal) {\n    return __async2(this, null, function* () {\n      try {\n        return yield this.getZxyAttempt(z2, x2, y, signal);\n      } catch (e2) {\n        if (e2 instanceof EtagMismatch) {\n          this.cache.invalidate(this.source, e2.message);\n          return yield this.getZxyAttempt(z2, x2, y, signal);\n        } else {\n          throw e2;\n        }\n      }\n    });\n  }\n  getMetadataAttempt() {\n    return __async2(this, null, function* () {\n      const header = yield this.cache.getHeader(this.source);\n      const resp = yield this.source.getBytes(\n        header.jsonMetadataOffset,\n        header.jsonMetadataLength\n      );\n      if (header.etag && header.etag !== resp.etag) {\n        throw new EtagMismatch(resp.etag);\n      }\n      const decompressed = yield this.decompress(\n        resp.data,\n        header.internalCompression\n      );\n      const dec = new TextDecoder(\"utf-8\");\n      return JSON.parse(dec.decode(decompressed));\n    });\n  }\n  getMetadata() {\n    return __async2(this, null, function* () {\n      try {\n        return yield this.getMetadataAttempt();\n      } catch (e2) {\n        if (e2 instanceof EtagMismatch) {\n          this.cache.invalidate(this.source, e2.message);\n          return yield this.getMetadataAttempt();\n        } else {\n          throw e2;\n        }\n      }\n    });\n  }\n};\n\n// src/tilecache.ts\nvar GeomType = /* @__PURE__ */ ((GeomType2) => {\n  GeomType2[GeomType2[\"Point\"] = 1] = \"Point\";\n  GeomType2[GeomType2[\"Line\"] = 2] = \"Line\";\n  GeomType2[GeomType2[\"Polygon\"] = 3] = \"Polygon\";\n  return GeomType2;\n})(GeomType || {});\nfunction toIndex(c2) {\n  return `${c2.x}:${c2.y}:${c2.z}`;\n}\nvar loadGeomAndBbox = (pbf, geometry, scale) => {\n  pbf.pos = geometry;\n  const end = pbf.readVarint() + pbf.pos;\n  let cmd = 1;\n  let length = 0;\n  let x2 = 0;\n  let y = 0;\n  let x1 = Infinity;\n  let x22 = -Infinity;\n  let y1 = Infinity;\n  let y2 = -Infinity;\n  const lines = [];\n  let line = [];\n  while (pbf.pos < end) {\n    if (length <= 0) {\n      const cmdLen = pbf.readVarint();\n      cmd = cmdLen & 7;\n      length = cmdLen >> 3;\n    }\n    length--;\n    if (cmd === 1 || cmd === 2) {\n      x2 += pbf.readSVarint() * scale;\n      y += pbf.readSVarint() * scale;\n      if (x2 < x1)\n        x1 = x2;\n      if (x2 > x22)\n        x22 = x2;\n      if (y < y1)\n        y1 = y;\n      if (y > y2)\n        y2 = y;\n      if (cmd === 1) {\n        if (line.length > 0)\n          lines.push(line);\n        line = [];\n      }\n      line.push(new import_point_geometry2.default(x2, y));\n    } else if (cmd === 7) {\n      if (line)\n        line.push(line[0].clone());\n    } else\n      throw new Error(`unknown command ${cmd}`);\n  }\n  if (line)\n    lines.push(line);\n  return { geom: lines, bbox: { minX: x1, minY: y1, maxX: x22, maxY: y2 } };\n};\nfunction parseTile(buffer, tileSize) {\n  const v = new import_vector_tile.VectorTile(new import_pbf.default(buffer));\n  const result = /* @__PURE__ */ new Map();\n  for (const [key, value] of Object.entries(v.layers)) {\n    const features = [];\n    const layer = value;\n    for (let i3 = 0; i3 < layer.length; i3++) {\n      const loaded = loadGeomAndBbox(\n        layer.feature(i3)._pbf,\n        layer.feature(i3)._geometry,\n        tileSize / layer.extent\n      );\n      let numVertices = 0;\n      for (const part of loaded.geom)\n        numVertices += part.length;\n      features.push({\n        id: layer.feature(i3).id,\n        geomType: layer.feature(i3).type,\n        geom: loaded.geom,\n        numVertices,\n        bbox: loaded.bbox,\n        props: layer.feature(i3).properties\n      });\n    }\n    result.set(key, features);\n  }\n  return result;\n}\nvar PmtilesSource = class {\n  constructor(url, shouldCancelZooms) {\n    if (typeof url === \"string\") {\n      this.p = new PMTiles(url);\n    } else {\n      this.p = url;\n    }\n    this.zoomaborts = [];\n    this.shouldCancelZooms = shouldCancelZooms;\n  }\n  get(c2, tileSize) {\n    return __async(this, null, function* () {\n      if (this.shouldCancelZooms) {\n        this.zoomaborts = this.zoomaborts.filter((za) => {\n          if (za.z !== c2.z) {\n            za.controller.abort();\n            return false;\n          }\n          return true;\n        });\n      }\n      const controller = new AbortController();\n      this.zoomaborts.push({ z: c2.z, controller });\n      const signal = controller.signal;\n      const result = yield this.p.getZxy(c2.z, c2.x, c2.y, signal);\n      if (result) {\n        return parseTile(result.data, tileSize);\n      }\n      return /* @__PURE__ */ new Map();\n    });\n  }\n};\nvar ZxySource = class {\n  constructor(url, shouldCancelZooms) {\n    this.url = url;\n    this.zoomaborts = [];\n    this.shouldCancelZooms = shouldCancelZooms;\n  }\n  get(c2, tileSize) {\n    return __async(this, null, function* () {\n      if (this.shouldCancelZooms) {\n        this.zoomaborts = this.zoomaborts.filter((za) => {\n          if (za.z !== c2.z) {\n            za.controller.abort();\n            return false;\n          }\n          return true;\n        });\n      }\n      const url = this.url.replace(\"{z}\", c2.z.toString()).replace(\"{x}\", c2.x.toString()).replace(\"{y}\", c2.y.toString());\n      const controller = new AbortController();\n      this.zoomaborts.push({ z: c2.z, controller });\n      const signal = controller.signal;\n      return new Promise((resolve, reject) => {\n        fetch(url, { signal }).then((resp) => {\n          return resp.arrayBuffer();\n        }).then((buffer) => {\n          const result = parseTile(buffer, tileSize);\n          resolve(result);\n        }).catch((e2) => {\n          reject(e2);\n        });\n      });\n    });\n  }\n};\nvar R = 6378137;\nvar MAX_LATITUDE = 85.0511287798;\nvar MAXCOORD = R * Math.PI;\nvar project = (latlng) => {\n  const d = Math.PI / 180;\n  const constrained_lat = Math.max(\n    Math.min(MAX_LATITUDE, latlng[0]),\n    -MAX_LATITUDE\n  );\n  const sin = Math.sin(constrained_lat * d);\n  return new import_point_geometry2.default(\n    R * latlng[1] * d,\n    R * Math.log((1 + sin) / (1 - sin)) / 2\n  );\n};\nfunction sqr(x2) {\n  return x2 * x2;\n}\nfunction dist2(v, w) {\n  return sqr(v.x - w.x) + sqr(v.y - w.y);\n}\nfunction distToSegmentSquared(p2, v, w) {\n  const l2 = dist2(v, w);\n  if (l2 === 0)\n    return dist2(p2, v);\n  let t2 = ((p2.x - v.x) * (w.x - v.x) + (p2.y - v.y) * (w.y - v.y)) / l2;\n  t2 = Math.max(0, Math.min(1, t2));\n  return dist2(p2, new import_point_geometry2.default(v.x + t2 * (w.x - v.x), v.y + t2 * (w.y - v.y)));\n}\nfunction isInRing(point, ring) {\n  let inside = false;\n  for (let i3 = 0, j = ring.length - 1; i3 < ring.length; j = i3++) {\n    const xi = ring[i3].x;\n    const yi = ring[i3].y;\n    const xj = ring[j].x;\n    const yj = ring[j].y;\n    const intersect = yi > point.y !== yj > point.y && point.x < (xj - xi) * (point.y - yi) / (yj - yi) + xi;\n    if (intersect)\n      inside = !inside;\n  }\n  return inside;\n}\nfunction isCCW(ring) {\n  let area = 0;\n  for (let i3 = 0; i3 < ring.length; i3++) {\n    const j = (i3 + 1) % ring.length;\n    area += ring[i3].x * ring[j].y;\n    area -= ring[j].x * ring[i3].y;\n  }\n  return area < 0;\n}\nfunction pointInPolygon(point, geom) {\n  let isInCurrentExterior = false;\n  for (const ring of geom) {\n    if (isCCW(ring)) {\n      if (isInRing(point, ring))\n        isInCurrentExterior = false;\n    } else {\n      if (isInCurrentExterior)\n        return true;\n      if (isInRing(point, ring))\n        isInCurrentExterior = true;\n    }\n  }\n  return isInCurrentExterior;\n}\nfunction pointMinDistToPoints(point, geom) {\n  let min = Infinity;\n  for (const l2 of geom) {\n    const dist = Math.sqrt(dist2(point, l2[0]));\n    if (dist < min)\n      min = dist;\n  }\n  return min;\n}\nfunction pointMinDistToLines(point, geom) {\n  let min = Infinity;\n  for (const l2 of geom) {\n    for (let i3 = 0; i3 < l2.length - 1; i3++) {\n      const dist = Math.sqrt(distToSegmentSquared(point, l2[i3], l2[i3 + 1]));\n      if (dist < min)\n        min = dist;\n    }\n  }\n  return min;\n}\nvar TileCache = class {\n  constructor(source, tileSize) {\n    this.source = source;\n    this.cache = /* @__PURE__ */ new Map();\n    this.inflight = /* @__PURE__ */ new Map();\n    this.tileSize = tileSize;\n  }\n  queryFeatures(lng, lat, zoom, brushSize) {\n    const projected = project([lat, lng]);\n    const normalized = new import_point_geometry2.default(\n      (projected.x + MAXCOORD) / (MAXCOORD * 2),\n      1 - (projected.y + MAXCOORD) / (MAXCOORD * 2)\n    );\n    if (normalized.x > 1)\n      normalized.x = normalized.x - Math.floor(normalized.x);\n    const on_zoom = normalized.mult(1 << zoom);\n    const tile_x = Math.floor(on_zoom.x);\n    const tile_y = Math.floor(on_zoom.y);\n    const idx = toIndex({ z: zoom, x: tile_x, y: tile_y });\n    const retval = [];\n    const entry = this.cache.get(idx);\n    if (entry) {\n      const center = new import_point_geometry2.default(\n        (on_zoom.x - tile_x) * this.tileSize,\n        (on_zoom.y - tile_y) * this.tileSize\n      );\n      for (const [layer_name, layer_arr] of entry.data.entries()) {\n        for (const feature of layer_arr) {\n          if (feature.geomType === 1 /* Point */) {\n            if (pointMinDistToPoints(center, feature.geom) < brushSize) {\n              retval.push({ feature, layerName: layer_name });\n            }\n          } else if (feature.geomType === 2 /* Line */) {\n            if (pointMinDistToLines(center, feature.geom) < brushSize) {\n              retval.push({ feature, layerName: layer_name });\n            }\n          } else {\n            if (pointInPolygon(center, feature.geom)) {\n              retval.push({ feature, layerName: layer_name });\n            }\n          }\n        }\n      }\n    }\n    return retval;\n  }\n  get(c2) {\n    return __async(this, null, function* () {\n      const idx = toIndex(c2);\n      return new Promise((resolve, reject) => {\n        const entry = this.cache.get(idx);\n        if (entry) {\n          entry.used = performance.now();\n          resolve(entry.data);\n        } else {\n          const ifentry = this.inflight.get(idx);\n          if (ifentry) {\n            ifentry.push([resolve, reject]);\n          } else {\n            this.inflight.set(idx, []);\n            this.source.get(c2, this.tileSize).then((tile) => {\n              this.cache.set(idx, { used: performance.now(), data: tile });\n              const ifentry2 = this.inflight.get(idx);\n              if (ifentry2) {\n                for (const f2 of ifentry2) {\n                  f2[0](tile);\n                }\n              }\n              this.inflight.delete(idx);\n              resolve(tile);\n              if (this.cache.size >= 64) {\n                let min_used = Infinity;\n                let min_key = void 0;\n                this.cache.forEach((value, key) => {\n                  if (value.used < min_used) {\n                    min_used = value.used;\n                    min_key = key;\n                  }\n                });\n                if (min_key)\n                  this.cache.delete(min_key);\n              }\n            }).catch((e2) => {\n              const ifentry2 = this.inflight.get(idx);\n              if (ifentry2) {\n                for (const f2 of ifentry2) {\n                  f2[1](e2);\n                }\n              }\n              this.inflight.delete(idx);\n              reject(e2);\n            });\n          }\n        }\n      });\n    });\n  }\n};\n\n// src/symbolizer.ts\nvar MAX_VERTICES_PER_DRAW_CALL = 5400;\nvar Justify = /* @__PURE__ */ ((Justify2) => {\n  Justify2[Justify2[\"Left\"] = 1] = \"Left\";\n  Justify2[Justify2[\"Center\"] = 2] = \"Center\";\n  Justify2[Justify2[\"Right\"] = 3] = \"Right\";\n  return Justify2;\n})(Justify || {});\nvar TextPlacements = /* @__PURE__ */ ((TextPlacements2) => {\n  TextPlacements2[TextPlacements2[\"N\"] = 1] = \"N\";\n  TextPlacements2[TextPlacements2[\"NE\"] = 2] = \"NE\";\n  TextPlacements2[TextPlacements2[\"E\"] = 3] = \"E\";\n  TextPlacements2[TextPlacements2[\"SE\"] = 4] = \"SE\";\n  TextPlacements2[TextPlacements2[\"S\"] = 5] = \"S\";\n  TextPlacements2[TextPlacements2[\"SW\"] = 6] = \"SW\";\n  TextPlacements2[TextPlacements2[\"W\"] = 7] = \"W\";\n  TextPlacements2[TextPlacements2[\"NW\"] = 8] = \"NW\";\n  return TextPlacements2;\n})(TextPlacements || {});\nvar createPattern = (width, height, fn) => {\n  const canvas = document.createElement(\"canvas\");\n  const ctx = canvas.getContext(\"2d\");\n  canvas.width = width;\n  canvas.height = height;\n  if (ctx !== null)\n    fn(canvas, ctx);\n  return canvas;\n};\nvar PolygonSymbolizer = class {\n  constructor(options) {\n    var _a2;\n    this.pattern = options.pattern;\n    this.fill = new StringAttr(options.fill, \"black\");\n    this.opacity = new NumberAttr(options.opacity, 1);\n    this.stroke = new StringAttr(options.stroke, \"black\");\n    this.width = new NumberAttr(options.width, 0);\n    this.per_feature = (_a2 = this.fill.per_feature || this.opacity.per_feature || this.stroke.per_feature || this.width.per_feature || options.per_feature) != null ? _a2 : false;\n    this.do_stroke = false;\n  }\n  before(ctx, z2) {\n    if (!this.per_feature) {\n      ctx.globalAlpha = this.opacity.get(z2);\n      ctx.fillStyle = this.fill.get(z2);\n      ctx.strokeStyle = this.stroke.get(z2);\n      const width = this.width.get(z2);\n      if (width > 0)\n        this.do_stroke = true;\n      ctx.lineWidth = width;\n    }\n    if (this.pattern) {\n      const patten = ctx.createPattern(this.pattern, \"repeat\");\n      if (patten)\n        ctx.fillStyle = patten;\n    }\n  }\n  draw(ctx, geom, z2, f2) {\n    let do_stroke = false;\n    if (this.per_feature) {\n      ctx.globalAlpha = this.opacity.get(z2, f2);\n      ctx.fillStyle = this.fill.get(z2, f2);\n      const width = this.width.get(z2, f2);\n      if (width) {\n        do_stroke = true;\n        ctx.strokeStyle = this.stroke.get(z2, f2);\n        ctx.lineWidth = width;\n      }\n    }\n    const drawPath = () => {\n      ctx.fill();\n      if (do_stroke || this.do_stroke) {\n        ctx.stroke();\n      }\n    };\n    let vertices_in_path = 0;\n    ctx.beginPath();\n    for (const poly of geom) {\n      if (vertices_in_path + poly.length > MAX_VERTICES_PER_DRAW_CALL) {\n        drawPath();\n        vertices_in_path = 0;\n        ctx.beginPath();\n      }\n      for (let p2 = 0; p2 < poly.length; p2++) {\n        const pt = poly[p2];\n        if (p2 === 0)\n          ctx.moveTo(pt.x, pt.y);\n        else\n          ctx.lineTo(pt.x, pt.y);\n      }\n      vertices_in_path += poly.length;\n    }\n    if (vertices_in_path > 0)\n      drawPath();\n  }\n};\nfunction arr(base, a2) {\n  return (z2) => {\n    const b = z2 - base;\n    if (b >= 0 && b < a2.length) {\n      return a2[b];\n    }\n    return 0;\n  };\n}\nfunction getStopIndex(input, stops) {\n  let idx = 0;\n  while (stops[idx + 1][0] < input)\n    idx++;\n  return idx;\n}\nfunction interpolate(factor, start, end) {\n  return factor * (end - start) + start;\n}\nfunction computeInterpolationFactor(z2, idx, base, stops) {\n  const difference = stops[idx + 1][0] - stops[idx][0];\n  const progress = z2 - stops[idx][0];\n  if (difference === 0)\n    return 0;\n  if (base === 1)\n    return progress / difference;\n  return (__pow(base, progress) - 1) / (__pow(base, difference) - 1);\n}\nfunction exp(base, stops) {\n  return (z2) => {\n    if (stops.length < 1)\n      return 0;\n    if (z2 <= stops[0][0])\n      return stops[0][1];\n    if (z2 >= stops[stops.length - 1][0])\n      return stops[stops.length - 1][1];\n    const idx = getStopIndex(z2, stops);\n    const factor = computeInterpolationFactor(z2, idx, base, stops);\n    return interpolate(factor, stops[idx][1], stops[idx + 1][1]);\n  };\n}\nfunction step(output0, stops) {\n  return (z2) => {\n    if (stops.length < 1)\n      return 0;\n    let retval = output0;\n    for (let i3 = 0; i3 < stops.length; i3++) {\n      if (z2 >= stops[i3][0])\n        retval = stops[i3][1];\n    }\n    return retval;\n  };\n}\nfunction linear(stops) {\n  return exp(1, stops);\n}\nfunction cubicBezier(x1, y1, x2, y2, stops) {\n  return (z2) => {\n    if (stops.length < 1)\n      return 0;\n    const bezier = new import_unitbezier.default(x1, y1, x2, y2);\n    const idx = getStopIndex(z2, stops);\n    const factor = bezier.solve(computeInterpolationFactor(z2, idx, 1, stops));\n    return interpolate(factor, stops[idx][1], stops[idx + 1][1]);\n  };\n}\nvar LineSymbolizer = class {\n  constructor(options) {\n    var _a2;\n    this.color = new StringAttr(options.color, \"black\");\n    this.width = new NumberAttr(options.width);\n    this.opacity = new NumberAttr(options.opacity);\n    this.dash = options.dash ? new ArrayAttr(options.dash) : null;\n    this.dashColor = new StringAttr(options.dashColor, \"black\");\n    this.dashWidth = new NumberAttr(options.dashWidth, 1);\n    this.lineCap = new StringAttr(options.lineCap, \"butt\");\n    this.lineJoin = new StringAttr(options.lineJoin, \"miter\");\n    this.skip = false;\n    this.per_feature = !!(((_a2 = this.dash) == null ? void 0 : _a2.per_feature) || this.color.per_feature || this.opacity.per_feature || this.width.per_feature || this.lineCap.per_feature || this.lineJoin.per_feature || options.per_feature);\n  }\n  before(ctx, z2) {\n    if (!this.per_feature) {\n      ctx.strokeStyle = this.color.get(z2);\n      ctx.lineWidth = this.width.get(z2);\n      ctx.globalAlpha = this.opacity.get(z2);\n      ctx.lineCap = this.lineCap.get(z2);\n      ctx.lineJoin = this.lineJoin.get(z2);\n    }\n  }\n  draw(ctx, geom, z2, f2) {\n    if (this.skip)\n      return;\n    const strokePath = () => {\n      if (this.per_feature) {\n        ctx.globalAlpha = this.opacity.get(z2, f2);\n        ctx.lineCap = this.lineCap.get(z2, f2);\n        ctx.lineJoin = this.lineJoin.get(z2, f2);\n      }\n      if (this.dash) {\n        ctx.save();\n        if (this.per_feature) {\n          ctx.lineWidth = this.dashWidth.get(z2, f2);\n          ctx.strokeStyle = this.dashColor.get(z2, f2);\n          ctx.setLineDash(this.dash.get(z2, f2));\n        } else {\n          ctx.setLineDash(this.dash.get(z2));\n        }\n        ctx.stroke();\n        ctx.restore();\n      } else {\n        ctx.save();\n        if (this.per_feature) {\n          ctx.lineWidth = this.width.get(z2, f2);\n          ctx.strokeStyle = this.color.get(z2, f2);\n        }\n        ctx.stroke();\n        ctx.restore();\n      }\n    };\n    let vertices_in_path = 0;\n    ctx.beginPath();\n    for (const ls of geom) {\n      if (vertices_in_path + ls.length > MAX_VERTICES_PER_DRAW_CALL) {\n        strokePath();\n        vertices_in_path = 0;\n        ctx.beginPath();\n      }\n      for (let p2 = 0; p2 < ls.length; p2++) {\n        const pt = ls[p2];\n        if (p2 === 0)\n          ctx.moveTo(pt.x, pt.y);\n        else\n          ctx.lineTo(pt.x, pt.y);\n      }\n      vertices_in_path += ls.length;\n    }\n    if (vertices_in_path > 0)\n      strokePath();\n  }\n};\nvar IconSymbolizer = class {\n  constructor(options) {\n    this.name = options.name;\n    this.sheet = options.sheet;\n    this.dpr = window.devicePixelRatio;\n  }\n  place(layout, geom, feature) {\n    const pt = geom[0];\n    const a2 = new import_point_geometry3.default(geom[0][0].x, geom[0][0].y);\n    const loc = this.sheet.get(this.name);\n    const width = loc.w / this.dpr;\n    const height = loc.h / this.dpr;\n    const bbox = {\n      minX: a2.x - width / 2,\n      minY: a2.y - height / 2,\n      maxX: a2.x + width / 2,\n      maxY: a2.y + height / 2\n    };\n    const draw = (ctx) => {\n      ctx.globalAlpha = 1;\n      ctx.drawImage(\n        this.sheet.canvas,\n        loc.x,\n        loc.y,\n        loc.w,\n        loc.h,\n        -loc.w / 2 / this.dpr,\n        -loc.h / 2 / this.dpr,\n        loc.w / 2,\n        loc.h / 2\n      );\n    };\n    return [{ anchor: a2, bboxes: [bbox], draw }];\n  }\n};\nvar CircleSymbolizer = class {\n  constructor(options) {\n    this.radius = new NumberAttr(options.radius, 3);\n    this.fill = new StringAttr(options.fill, \"black\");\n    this.stroke = new StringAttr(options.stroke, \"white\");\n    this.width = new NumberAttr(options.width, 0);\n    this.opacity = new NumberAttr(options.opacity);\n  }\n  draw(ctx, geom, z2, f2) {\n    ctx.globalAlpha = this.opacity.get(z2, f2);\n    const radius = this.radius.get(z2, f2);\n    const width = this.width.get(z2, f2);\n    if (width > 0) {\n      ctx.strokeStyle = this.stroke.get(z2, f2);\n      ctx.lineWidth = width;\n      ctx.beginPath();\n      ctx.arc(geom[0][0].x, geom[0][0].y, radius + width / 2, 0, 2 * Math.PI);\n      ctx.stroke();\n    }\n    ctx.fillStyle = this.fill.get(z2, f2);\n    ctx.beginPath();\n    ctx.arc(geom[0][0].x, geom[0][0].y, radius, 0, 2 * Math.PI);\n    ctx.fill();\n  }\n  place(layout, geom, feature) {\n    const pt = geom[0];\n    const a2 = new import_point_geometry3.default(geom[0][0].x, geom[0][0].y);\n    const radius = this.radius.get(layout.zoom, feature);\n    const bbox = {\n      minX: a2.x - radius,\n      minY: a2.y - radius,\n      maxX: a2.x + radius,\n      maxY: a2.y + radius\n    };\n    const draw = (ctx) => {\n      this.draw(ctx, [[new import_point_geometry3.default(0, 0)]], layout.zoom, feature);\n    };\n    return [{ anchor: a2, bboxes: [bbox], draw }];\n  }\n};\nvar ShieldSymbolizer = class {\n  constructor(options) {\n    this.font = new FontAttr(options);\n    this.text = new TextAttr(options);\n    this.fill = new StringAttr(options.fill, \"black\");\n    this.background = new StringAttr(options.background, \"white\");\n    this.padding = new NumberAttr(options.padding, 0);\n  }\n  place(layout, geom, f2) {\n    const property = this.text.get(layout.zoom, f2);\n    if (!property)\n      return void 0;\n    const font = this.font.get(layout.zoom, f2);\n    layout.scratch.font = font;\n    const metrics = layout.scratch.measureText(property);\n    const width = metrics.width;\n    const ascent = metrics.actualBoundingBoxAscent;\n    const descent = metrics.actualBoundingBoxDescent;\n    const pt = geom[0];\n    const a2 = new import_point_geometry3.default(geom[0][0].x, geom[0][0].y);\n    const p2 = this.padding.get(layout.zoom, f2);\n    const bbox = {\n      minX: a2.x - width / 2 - p2,\n      minY: a2.y - ascent - p2,\n      maxX: a2.x + width / 2 + p2,\n      maxY: a2.y + descent + p2\n    };\n    const draw = (ctx) => {\n      ctx.globalAlpha = 1;\n      ctx.fillStyle = this.background.get(layout.zoom, f2);\n      ctx.fillRect(\n        -width / 2 - p2,\n        -ascent - p2,\n        width + 2 * p2,\n        ascent + descent + 2 * p2\n      );\n      ctx.fillStyle = this.fill.get(layout.zoom, f2);\n      ctx.font = font;\n      ctx.fillText(property, -width / 2, 0);\n    };\n    return [{ anchor: a2, bboxes: [bbox], draw }];\n  }\n};\nvar FlexSymbolizer = class {\n  constructor(list) {\n    this.list = list;\n  }\n  place(layout, geom, feature) {\n    let labels = this.list[0].place(layout, geom, feature);\n    if (!labels)\n      return void 0;\n    let label = labels[0];\n    const anchor = label.anchor;\n    let bbox = label.bboxes[0];\n    const height = bbox.maxY - bbox.minY;\n    const draws = [{ draw: label.draw, translate: { x: 0, y: 0 } }];\n    const newGeom = [[new import_point_geometry3.default(geom[0][0].x, geom[0][0].y + height)]];\n    for (let i3 = 1; i3 < this.list.length; i3++) {\n      labels = this.list[i3].place(layout, newGeom, feature);\n      if (labels) {\n        label = labels[0];\n        bbox = mergeBbox(bbox, label.bboxes[0]);\n        draws.push({ draw: label.draw, translate: { x: 0, y: height } });\n      }\n    }\n    const draw = (ctx) => {\n      for (const sub of draws) {\n        ctx.save();\n        ctx.translate(sub.translate.x, sub.translate.y);\n        sub.draw(ctx);\n        ctx.restore();\n      }\n    };\n    return [{ anchor, bboxes: [bbox], draw }];\n  }\n};\nvar mergeBbox = (b1, b2) => {\n  return {\n    minX: Math.min(b1.minX, b2.minX),\n    minY: Math.min(b1.minY, b2.minY),\n    maxX: Math.max(b1.maxX, b2.maxX),\n    maxY: Math.max(b1.maxY, b2.maxY)\n  };\n};\nvar GroupSymbolizer = class {\n  constructor(list) {\n    this.list = list;\n  }\n  place(layout, geom, feature) {\n    const first = this.list[0];\n    if (!first)\n      return void 0;\n    let labels = first.place(layout, geom, feature);\n    if (!labels)\n      return void 0;\n    let label = labels[0];\n    const anchor = label.anchor;\n    let bbox = label.bboxes[0];\n    const draws = [label.draw];\n    for (let i3 = 1; i3 < this.list.length; i3++) {\n      labels = this.list[i3].place(layout, geom, feature);\n      if (!labels)\n        return void 0;\n      label = labels[0];\n      bbox = mergeBbox(bbox, label.bboxes[0]);\n      draws.push(label.draw);\n    }\n    const draw = (ctx) => {\n      for (const d of draws) {\n        d(ctx);\n      }\n    };\n    return [{ anchor, bboxes: [bbox], draw }];\n  }\n};\nvar CenteredSymbolizer = class {\n  constructor(symbolizer) {\n    this.symbolizer = symbolizer;\n  }\n  place(layout, geom, feature) {\n    const a2 = geom[0][0];\n    const placed = this.symbolizer.place(layout, [[new import_point_geometry3.default(0, 0)]], feature);\n    if (!placed || placed.length === 0)\n      return void 0;\n    const first_label = placed[0];\n    const bbox = first_label.bboxes[0];\n    const width = bbox.maxX - bbox.minX;\n    const height = bbox.maxY - bbox.minY;\n    const centered = {\n      minX: a2.x - width / 2,\n      maxX: a2.x + width / 2,\n      minY: a2.y - height / 2,\n      maxY: a2.y + height / 2\n    };\n    const draw = (ctx) => {\n      ctx.translate(-width / 2, height / 2 - bbox.maxY);\n      first_label.draw(ctx, { justify: 2 /* Center */ });\n    };\n    return [{ anchor: a2, bboxes: [centered], draw }];\n  }\n};\nvar Padding = class {\n  constructor(padding, symbolizer) {\n    this.padding = new NumberAttr(padding, 0);\n    this.symbolizer = symbolizer;\n  }\n  place(layout, geom, feature) {\n    const placed = this.symbolizer.place(layout, geom, feature);\n    if (!placed || placed.length === 0)\n      return void 0;\n    const padding = this.padding.get(layout.zoom, feature);\n    for (const label of placed) {\n      for (const bbox of label.bboxes) {\n        bbox.minX -= padding;\n        bbox.minY -= padding;\n        bbox.maxX += padding;\n        bbox.maxY += padding;\n      }\n    }\n    return placed;\n  }\n};\nvar TextSymbolizer = class {\n  constructor(options) {\n    this.font = new FontAttr(options);\n    this.text = new TextAttr(options);\n    this.fill = new StringAttr(options.fill, \"black\");\n    this.stroke = new StringAttr(options.stroke, \"black\");\n    this.width = new NumberAttr(options.width, 0);\n    this.lineHeight = new NumberAttr(options.lineHeight, 1);\n    this.letterSpacing = new NumberAttr(options.letterSpacing, 0);\n    this.maxLineCodeUnits = new NumberAttr(options.maxLineChars, 15);\n    this.justify = options.justify;\n  }\n  place(layout, geom, feature) {\n    const property = this.text.get(layout.zoom, feature);\n    if (!property)\n      return void 0;\n    const font = this.font.get(layout.zoom, feature);\n    layout.scratch.font = font;\n    const letterSpacing = this.letterSpacing.get(layout.zoom, feature);\n    const lines = linebreak(\n      property,\n      this.maxLineCodeUnits.get(layout.zoom, feature)\n    );\n    let longestLine = \"\";\n    let longestLineLen = 0;\n    for (const line of lines) {\n      if (line.length > longestLineLen) {\n        longestLineLen = line.length;\n        longestLine = line;\n      }\n    }\n    const metrics = layout.scratch.measureText(longestLine);\n    const width = metrics.width + letterSpacing * (longestLineLen - 1);\n    const ascent = metrics.actualBoundingBoxAscent;\n    const descent = metrics.actualBoundingBoxDescent;\n    const lineHeight = (ascent + descent) * this.lineHeight.get(layout.zoom, feature);\n    const a2 = new import_point_geometry3.default(geom[0][0].x, geom[0][0].y);\n    const bbox = {\n      minX: a2.x,\n      minY: a2.y - ascent,\n      maxX: a2.x + width,\n      maxY: a2.y + descent + (lines.length - 1) * lineHeight\n    };\n    const draw = (ctx, extra) => {\n      ctx.globalAlpha = 1;\n      ctx.font = font;\n      ctx.fillStyle = this.fill.get(layout.zoom, feature);\n      const textStrokeWidth = this.width.get(layout.zoom, feature);\n      let y = 0;\n      for (const line of lines) {\n        let startX = 0;\n        if (this.justify === 2 /* Center */ || extra && extra.justify === 2 /* Center */) {\n          startX = (width - ctx.measureText(line).width) / 2;\n        } else if (this.justify === 3 /* Right */ || extra && extra.justify === 3 /* Right */) {\n          startX = width - ctx.measureText(line).width;\n        }\n        if (textStrokeWidth) {\n          ctx.lineWidth = textStrokeWidth * 2;\n          ctx.strokeStyle = this.stroke.get(layout.zoom, feature);\n          if (letterSpacing > 0) {\n            let xPos = startX;\n            for (const letter of line) {\n              ctx.strokeText(letter, xPos, y);\n              xPos += ctx.measureText(letter).width + letterSpacing;\n            }\n          } else {\n            ctx.strokeText(line, startX, y);\n          }\n        }\n        if (letterSpacing > 0) {\n          let xPos = startX;\n          for (const letter of line) {\n            ctx.fillText(letter, xPos, y);\n            xPos += ctx.measureText(letter).width + letterSpacing;\n          }\n        } else {\n          ctx.fillText(line, startX, y);\n        }\n        y += lineHeight;\n      }\n    };\n    return [{ anchor: a2, bboxes: [bbox], draw }];\n  }\n};\nvar CenteredTextSymbolizer = class {\n  constructor(options) {\n    this.centered = new CenteredSymbolizer(new TextSymbolizer(options));\n  }\n  place(layout, geom, feature) {\n    return this.centered.place(layout, geom, feature);\n  }\n};\nvar OffsetSymbolizer = class {\n  constructor(symbolizer, options) {\n    var _a2, _b2, _c;\n    this.symbolizer = symbolizer;\n    this.offsetX = new NumberAttr(options.offsetX, 0);\n    this.offsetY = new NumberAttr(options.offsetY, 0);\n    this.justify = (_a2 = options.justify) != null ? _a2 : void 0;\n    this.placements = (_b2 = options.placements) != null ? _b2 : [\n      2 /* NE */,\n      6 /* SW */,\n      8 /* NW */,\n      4 /* SE */,\n      1 /* N */,\n      3 /* E */,\n      5 /* S */,\n      7 /* W */\n    ];\n    this.ddValues = (_c = options.ddValues) != null ? _c : () => {\n      return {};\n    };\n  }\n  place(layout, geom, feature) {\n    if (feature.geomType !== 1 /* Point */)\n      return void 0;\n    const anchor = geom[0][0];\n    const placed = this.symbolizer.place(layout, [[new import_point_geometry3.default(0, 0)]], feature);\n    if (!placed || placed.length === 0)\n      return void 0;\n    const first_label = placed[0];\n    const fb = first_label.bboxes[0];\n    let offsetXValue = this.offsetX;\n    let offsetYValue = this.offsetY;\n    let justifyValue = this.justify;\n    let placements = this.placements;\n    const {\n      offsetX: ddOffsetX,\n      offsetY: ddOffsetY,\n      justify: ddJustify,\n      placements: ddPlacements\n    } = this.ddValues(layout.zoom, feature) || {};\n    if (ddOffsetX)\n      offsetXValue = new NumberAttr(ddOffsetX, 0);\n    if (ddOffsetY)\n      offsetYValue = new NumberAttr(ddOffsetY, 0);\n    if (ddJustify)\n      justifyValue = ddJustify;\n    if (ddPlacements)\n      placements = ddPlacements;\n    const offsetX = offsetXValue.get(layout.zoom, feature);\n    const offsetY = offsetYValue.get(layout.zoom, feature);\n    const getBbox = (a2, o2) => {\n      return {\n        minX: a2.x + o2.x + fb.minX,\n        minY: a2.y + o2.y + fb.minY,\n        maxX: a2.x + o2.x + fb.maxX,\n        maxY: a2.y + o2.y + fb.maxY\n      };\n    };\n    let origin = new import_point_geometry3.default(offsetX, offsetY);\n    let justify;\n    const draw = (ctx) => {\n      ctx.translate(origin.x, origin.y);\n      first_label.draw(ctx, { justify });\n    };\n    const placeLabelInPoint = (a2, o2) => {\n      const bbox = getBbox(a2, o2);\n      if (!layout.index.bboxCollides(bbox, layout.order))\n        return [{ anchor, bboxes: [bbox], draw }];\n    };\n    for (const placement of placements) {\n      const xAxisOffset = this.computeXAxisOffset(offsetX, fb, placement);\n      const yAxisOffset = this.computeYAxisOffset(offsetY, fb, placement);\n      justify = this.computeJustify(justifyValue, placement);\n      origin = new import_point_geometry3.default(xAxisOffset, yAxisOffset);\n      return placeLabelInPoint(anchor, origin);\n    }\n    return void 0;\n  }\n  computeXAxisOffset(offsetX, fb, placement) {\n    const labelWidth = fb.maxX;\n    const labelHalfWidth = labelWidth / 2;\n    if ([1 /* N */, 5 /* S */].includes(placement))\n      return offsetX - labelHalfWidth;\n    if ([8 /* NW */, 7 /* W */, 6 /* SW */].includes(\n      placement\n    ))\n      return offsetX - labelWidth;\n    return offsetX;\n  }\n  computeYAxisOffset(offsetY, fb, placement) {\n    const labelHalfHeight = Math.abs(fb.minY);\n    const labelBottom = fb.maxY;\n    const labelCenterHeight = (fb.minY + fb.maxY) / 2;\n    if ([3 /* E */, 7 /* W */].includes(placement))\n      return offsetY - labelCenterHeight;\n    if ([8 /* NW */, 2 /* NE */, 1 /* N */].includes(\n      placement\n    ))\n      return offsetY - labelBottom;\n    if ([6 /* SW */, 4 /* SE */, 5 /* S */].includes(\n      placement\n    ))\n      return offsetY + labelHalfHeight;\n    return offsetY;\n  }\n  computeJustify(fixedJustify, placement) {\n    if (fixedJustify)\n      return fixedJustify;\n    if ([1 /* N */, 5 /* S */].includes(placement))\n      return 2 /* Center */;\n    if ([2 /* NE */, 3 /* E */, 4 /* SE */].includes(\n      placement\n    ))\n      return 1 /* Left */;\n    return 3 /* Right */;\n  }\n};\nvar OffsetTextSymbolizer = class {\n  constructor(options) {\n    this.symbolizer = new OffsetSymbolizer(\n      new TextSymbolizer(options),\n      options\n    );\n  }\n  place(layout, geom, feature) {\n    return this.symbolizer.place(layout, geom, feature);\n  }\n};\nvar LineLabelPlacement = /* @__PURE__ */ ((LineLabelPlacement2) => {\n  LineLabelPlacement2[LineLabelPlacement2[\"Above\"] = 1] = \"Above\";\n  LineLabelPlacement2[LineLabelPlacement2[\"Center\"] = 2] = \"Center\";\n  LineLabelPlacement2[LineLabelPlacement2[\"Below\"] = 3] = \"Below\";\n  return LineLabelPlacement2;\n})(LineLabelPlacement || {});\nvar LineLabelSymbolizer = class {\n  constructor(options) {\n    var _a2;\n    this.font = new FontAttr(options);\n    this.text = new TextAttr(options);\n    this.fill = new StringAttr(options.fill, \"black\");\n    this.stroke = new StringAttr(options.stroke, \"black\");\n    this.width = new NumberAttr(options.width, 0);\n    this.offset = new NumberAttr(options.offset, 0);\n    this.position = (_a2 = options.position) != null ? _a2 : 1 /* Above */;\n    this.maxLabelCodeUnits = new NumberAttr(options.maxLabelChars, 40);\n    this.repeatDistance = new NumberAttr(options.repeatDistance, 250);\n  }\n  place(layout, geom, feature) {\n    const name = this.text.get(layout.zoom, feature);\n    if (!name)\n      return void 0;\n    if (name.length > this.maxLabelCodeUnits.get(layout.zoom, feature))\n      return void 0;\n    const MIN_LABELABLE_DIM = 20;\n    const fbbox = feature.bbox;\n    if (fbbox.maxY - fbbox.minY < MIN_LABELABLE_DIM && fbbox.maxX - fbbox.minX < MIN_LABELABLE_DIM)\n      return void 0;\n    const font = this.font.get(layout.zoom, feature);\n    layout.scratch.font = font;\n    const metrics = layout.scratch.measureText(name);\n    const width = metrics.width;\n    const height = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;\n    let repeatDistance = this.repeatDistance.get(layout.zoom, feature);\n    if (layout.overzoom > 4)\n      repeatDistance *= 1 << layout.overzoom - 4;\n    const cell_size = height * 2;\n    const label_candidates = simpleLabel(\n      geom,\n      width,\n      repeatDistance,\n      cell_size\n    );\n    if (label_candidates.length === 0)\n      return void 0;\n    const labels = [];\n    for (const candidate of label_candidates) {\n      const dx = candidate.end.x - candidate.start.x;\n      const dy = candidate.end.y - candidate.start.y;\n      const cells = lineCells(\n        candidate.start,\n        candidate.end,\n        width,\n        cell_size / 2\n      );\n      const bboxes = cells.map((c2) => {\n        return {\n          minX: c2.x - cell_size / 2,\n          minY: c2.y - cell_size / 2,\n          maxX: c2.x + cell_size / 2,\n          maxY: c2.y + cell_size / 2\n        };\n      });\n      const draw = (ctx) => {\n        ctx.globalAlpha = 1;\n        ctx.rotate(Math.atan2(dy, dx));\n        if (dx < 0) {\n          ctx.scale(-1, -1);\n          ctx.translate(-width, 0);\n        }\n        let heightPlacement = 0;\n        if (this.position === 3 /* Below */)\n          heightPlacement += height;\n        else if (this.position === 2 /* Center */)\n          heightPlacement += height / 2;\n        ctx.translate(\n          0,\n          heightPlacement - this.offset.get(layout.zoom, feature)\n        );\n        ctx.font = font;\n        const lineWidth = this.width.get(layout.zoom, feature);\n        if (lineWidth) {\n          ctx.lineWidth = lineWidth;\n          ctx.strokeStyle = this.stroke.get(layout.zoom, feature);\n          ctx.strokeText(name, 0, 0);\n        }\n        ctx.fillStyle = this.fill.get(layout.zoom, feature);\n        ctx.fillText(name, 0, 0);\n      };\n      labels.push({\n        anchor: candidate.start,\n        bboxes,\n        draw,\n        deduplicationKey: name,\n        deduplicationDistance: repeatDistance\n      });\n    }\n    return labels;\n  }\n};\nvar PolygonLabelSymbolizer = class {\n  constructor(options) {\n    this.symbolizer = new TextSymbolizer(options);\n  }\n  place(layout, geom, feature) {\n    const fbbox = feature.bbox;\n    const area = (fbbox.maxY - fbbox.minY) * (fbbox.maxX - fbbox.minX);\n    if (area < 2e4)\n      return void 0;\n    const placed = this.symbolizer.place(layout, [[new import_point_geometry3.default(0, 0)]], feature);\n    if (!placed || placed.length === 0)\n      return void 0;\n    const first_label = placed[0];\n    const fb = first_label.bboxes[0];\n    const first_poly = geom[0];\n    const found = (0, import_polylabel.default)([first_poly.map((c2) => [c2.x, c2.y])]);\n    const a2 = new import_point_geometry3.default(found[0], found[1]);\n    const bbox = {\n      minX: a2.x - (fb.maxX - fb.minX) / 2,\n      minY: a2.y - (fb.maxY - fb.minY) / 2,\n      maxX: a2.x + (fb.maxX - fb.minX) / 2,\n      maxY: a2.y + (fb.maxY - fb.minY) / 2\n    };\n    const draw = (ctx) => {\n      ctx.translate(\n        first_label.anchor.x - (fb.maxX - fb.minX) / 2,\n        first_label.anchor.y\n      );\n      first_label.draw(ctx);\n    };\n    return [{ anchor: a2, bboxes: [bbox], draw }];\n  }\n};\n\n// src/default_style/style.ts\nvar doShading = (params, shade) => {\n  const shadeHsl = p(shade);\n  const outParams = __spreadValues({}, params);\n  for (const [key, value] of Object.entries(params)) {\n    const o2 = p(value);\n    outParams[key] = z(shadeHsl[0], shadeHsl[1], o2[2], o2[3]);\n  }\n  return outParams;\n};\nvar paintRules = (originalParams, shade) => {\n  let params = originalParams;\n  if (shade)\n    params = doShading(originalParams, shade);\n  return [\n    {\n      dataLayer: \"earth\",\n      symbolizer: new PolygonSymbolizer({\n        fill: params.earth\n      })\n    },\n    {\n      dataLayer: \"natural\",\n      symbolizer: new PolygonSymbolizer({\n        fill: params.glacier\n      }),\n      filter: (z2, f2) => {\n        return f2.props.natural === \"glacier\";\n      }\n    },\n    {\n      dataLayer: \"landuse\",\n      symbolizer: new PolygonSymbolizer({\n        fill: params.residential\n      }),\n      filter: (z2, f2) => {\n        return f2.props.landuse === \"residential\" || f2.props.place === \"neighbourhood\";\n      }\n    },\n    {\n      dataLayer: \"landuse\",\n      symbolizer: new PolygonSymbolizer({\n        fill: params.hospital\n      }),\n      filter: (z2, f2) => {\n        return f2.props.amenity === \"hospital\";\n      }\n    },\n    {\n      dataLayer: \"landuse\",\n      symbolizer: new PolygonSymbolizer({\n        fill: params.cemetery\n      }),\n      filter: (z2, f2) => {\n        return f2.props.landuse === \"cemetery\";\n      }\n    },\n    {\n      dataLayer: \"landuse\",\n      symbolizer: new PolygonSymbolizer({\n        fill: params.school\n      }),\n      filter: (z2, f2) => {\n        return f2.props.amenity === \"school\" || f2.props.amenity === \"kindergarten\" || f2.props.amenity === \"university\" || f2.props.amenity === \"college\";\n      }\n    },\n    {\n      dataLayer: \"landuse\",\n      symbolizer: new PolygonSymbolizer({\n        fill: params.industrial\n      }),\n      filter: (z2, f2) => {\n        return f2.props.landuse === \"industrial\";\n      }\n    },\n    {\n      dataLayer: \"natural\",\n      symbolizer: new PolygonSymbolizer({\n        fill: params.wood\n      }),\n      filter: (z2, f2) => {\n        return f2.props.natural === \"wood\";\n      }\n    },\n    {\n      dataLayer: \"landuse\",\n      symbolizer: new PolygonSymbolizer({\n        fill: params.grass\n      }),\n      filter: (z2, f2) => {\n        return f2.props.landuse === \"grass\";\n      }\n    },\n    {\n      dataLayer: \"landuse\",\n      symbolizer: new PolygonSymbolizer({\n        fill: params.park\n      }),\n      filter: (z2, f2) => {\n        return f2.props.leisure === \"park\";\n      }\n    },\n    {\n      dataLayer: \"water\",\n      symbolizer: new PolygonSymbolizer({\n        fill: params.water\n      })\n    },\n    {\n      dataLayer: \"natural\",\n      symbolizer: new PolygonSymbolizer({\n        fill: params.sand\n      }),\n      filter: (z2, f2) => {\n        return f2.props.natural === \"sand\";\n      }\n    },\n    {\n      dataLayer: \"buildings\",\n      symbolizer: new PolygonSymbolizer({\n        fill: params.buildings\n      })\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: new LineSymbolizer({\n        color: params.highwayCasing,\n        width: exp(1.4, [\n          [5, 1.5],\n          [11, 4],\n          [16, 9],\n          [20, 40]\n        ])\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"highway\";\n      }\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: new LineSymbolizer({\n        color: params.majorRoadCasing,\n        width: exp(1.4, [\n          [9, 3],\n          [12, 4],\n          [17, 8],\n          [20, 22]\n        ])\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"major_road\";\n      }\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: new LineSymbolizer({\n        color: params.mediumRoadCasing,\n        width: exp(1.4, [\n          [13, 3],\n          [17, 6],\n          [20, 18]\n        ])\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"medium_road\";\n      }\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: new LineSymbolizer({\n        color: params.minorRoadCasing,\n        width: exp(1.4, [\n          [14, 2],\n          [17, 5],\n          [20, 15]\n        ])\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"minor_road\";\n      }\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: new LineSymbolizer({\n        color: params.minorRoad,\n        width: exp(1.4, [\n          [14, 1],\n          [17, 3],\n          [20, 13]\n        ])\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"minor_road\";\n      }\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: new LineSymbolizer({\n        color: params.mediumRoad,\n        width: exp(1.4, [\n          [13, 2],\n          [17, 4],\n          [20, 15]\n        ])\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"medium_road\";\n      }\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: new LineSymbolizer({\n        color: params.majorRoad,\n        width: exp(1.4, [\n          [9, 2],\n          [12, 3],\n          [17, 6],\n          [20, 20]\n        ])\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"major_road\";\n      }\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: new LineSymbolizer({\n        color: params.highway,\n        width: exp(1.4, [\n          [5, 0.5],\n          [11, 2.5],\n          [16, 7],\n          [20, 30]\n        ])\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"highway\";\n      }\n    },\n    {\n      dataLayer: \"boundaries\",\n      symbolizer: new LineSymbolizer({\n        color: params.boundaries,\n        width: 2,\n        opacity: 0.4\n      })\n    },\n    {\n      dataLayer: \"mask\",\n      symbolizer: new PolygonSymbolizer({\n        fill: params.mask\n      })\n    }\n  ];\n};\nvar labelRules = (originalParams, shade, language1, language2) => {\n  let params = originalParams;\n  if (shade)\n    params = doShading(originalParams, shade);\n  let nametags = [\"name\"];\n  if (language1)\n    nametags = language1;\n  const languageStack = (symbolizer, fill) => {\n    if (!language2)\n      return symbolizer;\n    if (symbolizer instanceof OffsetTextSymbolizer) {\n      return new FlexSymbolizer([\n        symbolizer,\n        new OffsetTextSymbolizer({\n          fill,\n          label_props: language2\n        })\n      ]);\n    }\n    return new FlexSymbolizer([\n      symbolizer,\n      new CenteredTextSymbolizer({\n        fill,\n        label_props: language2\n      })\n    ]);\n  };\n  return [\n    {\n      dataLayer: \"places\",\n      symbolizer: languageStack(\n        new CenteredTextSymbolizer({\n          label_props: nametags,\n          fill: params.countryLabel,\n          lineHeight: 1.5,\n          font: (z2, f2) => {\n            if (z2 < 6)\n              return \"200 14px sans-serif\";\n            return \"200 20px sans-serif\";\n          },\n          textTransform: \"uppercase\"\n        }),\n        params.countryLabel\n      ),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"country\";\n      }\n    },\n    {\n      dataLayer: \"places\",\n      symbolizer: languageStack(\n        new CenteredTextSymbolizer({\n          label_props: nametags,\n          fill: params.stateLabel,\n          font: \"300 16px sans-serif\"\n        }),\n        params.stateLabel\n      ),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"state\";\n      }\n    },\n    {\n      id: \"cities_high\",\n      dataLayer: \"places\",\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"city\";\n      },\n      minzoom: 7,\n      symbolizer: languageStack(\n        new CenteredTextSymbolizer({\n          label_props: nametags,\n          fill: params.cityLabel,\n          font: (z2, f2) => {\n            if ((f2 == null ? void 0 : f2.props[\"pmap:rank\"]) === 1) {\n              if (z2 > 8)\n                return \"600 20px sans-serif\";\n              return \"600 12px sans-serif\";\n            }\n            if (z2 > 8)\n              return \"600 16px sans-serif\";\n            return \"600 10px sans-serif\";\n          }\n        }),\n        params.cityLabel\n      ),\n      sort: (a2, b) => {\n        return a2[\"pmap:rank\"] - b[\"pmap:rank\"];\n      }\n    },\n    {\n      id: \"cities_low\",\n      dataLayer: \"places\",\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"city\";\n      },\n      maxzoom: 6,\n      symbolizer: new GroupSymbolizer([\n        new CircleSymbolizer({\n          radius: 2,\n          fill: params.cityLabel\n        }),\n        languageStack(\n          new OffsetTextSymbolizer({\n            label_props: nametags,\n            fill: params.cityLabel,\n            offsetX: 2,\n            offsetY: 2,\n            font: (z2, f2) => {\n              if ((f2 == null ? void 0 : f2.props[\"pmap:rank\"]) === 1) {\n                if (z2 > 8)\n                  return \"600 20px sans-serif\";\n                return \"600 12px sans-serif\";\n              }\n              if (z2 > 8)\n                return \"600 16px sans-serif\";\n              return \"600 10px sans-serif\";\n            }\n          }),\n          params.cityLabel\n        )\n      ]),\n      sort: (a2, b) => {\n        return a2[\"pmap:rank\"] - b[\"pmap:rank\"];\n      }\n    },\n    {\n      id: \"neighbourhood\",\n      dataLayer: \"places\",\n      symbolizer: languageStack(\n        new CenteredTextSymbolizer({\n          label_props: nametags,\n          fill: params.neighbourhoodLabel,\n          font: \"500 10px sans-serif\",\n          textTransform: \"uppercase\"\n        }),\n        params.neighbourhoodLabel\n      ),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"neighbourhood\";\n      }\n    },\n    {\n      dataLayer: \"landuse\",\n      symbolizer: languageStack(\n        new PolygonLabelSymbolizer({\n          label_props: nametags,\n          fill: params.landuseLabel,\n          font: \"300 12px sans-serif\"\n        }),\n        params.landuseLabel\n      )\n    },\n    {\n      dataLayer: \"water\",\n      symbolizer: languageStack(\n        new PolygonLabelSymbolizer({\n          label_props: nametags,\n          fill: params.waterLabel,\n          font: \"italic 600 12px sans-serif\"\n        }),\n        params.waterLabel\n      )\n    },\n    {\n      dataLayer: \"natural\",\n      symbolizer: languageStack(\n        new PolygonLabelSymbolizer({\n          label_props: nametags,\n          fill: params.naturalLabel,\n          font: \"italic 300 12px sans-serif\"\n        }),\n        params.naturalLabel\n      )\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: languageStack(\n        new LineLabelSymbolizer({\n          label_props: nametags,\n          fill: params.roadsLabel,\n          font: \"500 12px sans-serif\"\n        }),\n        params.roadsLabel\n      ),\n      minzoom: 12\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: new ShieldSymbolizer({\n        label_props: [\"ref\"],\n        font: \"600 9px sans-serif\",\n        background: params.highway,\n        padding: 2,\n        fill: params.neighbourhoodLabel\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"highway\";\n      }\n    },\n    {\n      dataLayer: \"pois\",\n      symbolizer: new GroupSymbolizer([\n        new CircleSymbolizer({\n          radius: 2,\n          fill: params.poisLabel\n        }),\n        languageStack(\n          new OffsetTextSymbolizer({\n            label_props: nametags,\n            fill: params.poisLabel,\n            offsetX: 2,\n            offsetY: 2,\n            font: \"300 10px sans-serif\"\n          }),\n          params.poisLabel\n        )\n      ])\n    }\n  ];\n};\n\n// src/labeler.ts\nvar import_point_geometry5 = __toESM(require_point_geometry());\nvar import_rbush = __toESM(require_rbush_min());\n\n// src/view.ts\nvar import_point_geometry4 = __toESM(require_point_geometry());\nvar transformGeom = (geom, scale, translate) => {\n  const retval = [];\n  for (const arr2 of geom) {\n    const loop = [];\n    for (const coord of arr2) {\n      loop.push(coord.clone().mult(scale).add(translate));\n    }\n    retval.push(loop);\n  }\n  return retval;\n};\nvar wrap = (val, z2) => {\n  const dim = 1 << z2;\n  if (val < 0)\n    return dim + val;\n  if (val >= dim)\n    return val % dim;\n  return val;\n};\nvar View = class {\n  constructor(tileCache, maxDataLevel, levelDiff) {\n    this.tileCache = tileCache;\n    this.maxDataLevel = maxDataLevel;\n    this.levelDiff = levelDiff;\n  }\n  dataTilesForBounds(display_zoom, bounds) {\n    const fractional = __pow(2, display_zoom) / __pow(2, Math.ceil(display_zoom));\n    const needed = [];\n    let scale = 1;\n    const dim = this.tileCache.tileSize;\n    if (display_zoom < this.levelDiff) {\n      scale = 1 / (1 << this.levelDiff - display_zoom) * fractional;\n      needed.push({\n        data_tile: { z: 0, x: 0, y: 0 },\n        origin: new import_point_geometry4.default(0, 0),\n        scale,\n        dim: dim * scale\n      });\n    } else if (display_zoom <= this.levelDiff + this.maxDataLevel) {\n      const f2 = 1 << this.levelDiff;\n      const basetile_size = 256 * fractional;\n      const data_zoom = Math.ceil(display_zoom) - this.levelDiff;\n      const mintile_x = Math.floor(bounds.minX / f2 / basetile_size);\n      const mintile_y = Math.floor(bounds.minY / f2 / basetile_size);\n      const maxtile_x = Math.floor(bounds.maxX / f2 / basetile_size);\n      const maxtile_y = Math.floor(bounds.maxY / f2 / basetile_size);\n      for (let tx = mintile_x; tx <= maxtile_x; tx++) {\n        for (let ty = mintile_y; ty <= maxtile_y; ty++) {\n          const origin = new import_point_geometry4.default(\n            tx * f2 * basetile_size,\n            ty * f2 * basetile_size\n          );\n          needed.push({\n            data_tile: {\n              z: data_zoom,\n              x: wrap(tx, data_zoom),\n              y: wrap(ty, data_zoom)\n            },\n            origin,\n            scale: fractional,\n            dim: dim * fractional\n          });\n        }\n      }\n    } else {\n      const f2 = 1 << this.levelDiff;\n      scale = (1 << Math.ceil(display_zoom) - this.maxDataLevel - this.levelDiff) * fractional;\n      const mintile_x = Math.floor(bounds.minX / f2 / 256 / scale);\n      const mintile_y = Math.floor(bounds.minY / f2 / 256 / scale);\n      const maxtile_x = Math.floor(bounds.maxX / f2 / 256 / scale);\n      const maxtile_y = Math.floor(bounds.maxY / f2 / 256 / scale);\n      for (let tx = mintile_x; tx <= maxtile_x; tx++) {\n        for (let ty = mintile_y; ty <= maxtile_y; ty++) {\n          const origin = new import_point_geometry4.default(tx * f2 * 256 * scale, ty * f2 * 256 * scale);\n          needed.push({\n            data_tile: {\n              z: this.maxDataLevel,\n              x: wrap(tx, this.maxDataLevel),\n              y: wrap(ty, this.maxDataLevel)\n            },\n            origin,\n            scale,\n            dim: dim * scale\n          });\n        }\n      }\n    }\n    return needed;\n  }\n  dataTileForDisplayTile(display_tile) {\n    let data_tile;\n    let scale = 1;\n    let dim = this.tileCache.tileSize;\n    let origin;\n    if (display_tile.z < this.levelDiff) {\n      data_tile = { z: 0, x: 0, y: 0 };\n      scale = 1 / (1 << this.levelDiff - display_tile.z);\n      origin = new import_point_geometry4.default(0, 0);\n      dim = dim * scale;\n    } else if (display_tile.z <= this.levelDiff + this.maxDataLevel) {\n      const f2 = 1 << this.levelDiff;\n      data_tile = {\n        z: display_tile.z - this.levelDiff,\n        x: Math.floor(display_tile.x / f2),\n        y: Math.floor(display_tile.y / f2)\n      };\n      origin = new import_point_geometry4.default(data_tile.x * f2 * 256, data_tile.y * f2 * 256);\n    } else {\n      scale = 1 << display_tile.z - this.maxDataLevel - this.levelDiff;\n      const f2 = 1 << this.levelDiff;\n      data_tile = {\n        z: this.maxDataLevel,\n        x: Math.floor(display_tile.x / f2 / scale),\n        y: Math.floor(display_tile.y / f2 / scale)\n      };\n      origin = new import_point_geometry4.default(\n        data_tile.x * f2 * scale * 256,\n        data_tile.y * f2 * scale * 256\n      );\n      dim = dim * scale;\n    }\n    return { data_tile, scale, origin, dim };\n  }\n  getBbox(display_zoom, bounds) {\n    return __async(this, null, function* () {\n      const needed = this.dataTilesForBounds(display_zoom, bounds);\n      const result = yield Promise.all(\n        needed.map((tt) => this.tileCache.get(tt.data_tile))\n      );\n      return result.map((data, i3) => {\n        const tt = needed[i3];\n        return {\n          data,\n          z: display_zoom,\n          data_tile: tt.data_tile,\n          scale: tt.scale,\n          dim: tt.dim,\n          origin: tt.origin\n        };\n      });\n    });\n  }\n  getDisplayTile(display_tile) {\n    return __async(this, null, function* () {\n      const tt = this.dataTileForDisplayTile(display_tile);\n      const data = yield this.tileCache.get(tt.data_tile);\n      return {\n        data,\n        z: display_tile.z,\n        data_tile: tt.data_tile,\n        scale: tt.scale,\n        origin: tt.origin,\n        dim: tt.dim\n      };\n    });\n  }\n  queryFeatures(lng, lat, display_zoom) {\n    const rounded_zoom = Math.round(display_zoom);\n    const data_zoom = Math.min(\n      rounded_zoom - this.levelDiff,\n      this.maxDataLevel\n    );\n    const brush_size = 16 / (1 << rounded_zoom - data_zoom);\n    return this.tileCache.queryFeatures(lng, lat, data_zoom, brush_size);\n  }\n};\nvar sourcesToViews = (options) => {\n  const sourceToViews = (o2) => {\n    const level_diff = o2.levelDiff === void 0 ? 2 : o2.levelDiff;\n    const maxDataZoom = o2.maxDataZoom || 14;\n    let source;\n    if (typeof o2.url === \"string\") {\n      if (o2.url.endsWith(\".pmtiles\")) {\n        source = new PmtilesSource(o2.url, true);\n      } else {\n        source = new ZxySource(o2.url, true);\n      }\n    } else {\n      source = new PmtilesSource(o2.url, true);\n    }\n    const cache = new TileCache(source, 256 * 1 << level_diff);\n    return new View(cache, maxDataZoom, level_diff);\n  };\n  const sources = /* @__PURE__ */ new Map();\n  if (options.sources) {\n    for (const key in options.sources) {\n      sources.set(key, sourceToViews(options.sources[key]));\n    }\n  } else {\n    sources.set(\"\", sourceToViews(options));\n  }\n  return sources;\n};\n\n// src/labeler.ts\nvar covering = (display_zoom, tile_width, bbox) => {\n  const res = 256;\n  const f2 = tile_width / res;\n  const minx = Math.floor(bbox.minX / res);\n  const miny = Math.floor(bbox.minY / res);\n  const maxx = Math.floor(bbox.maxX / res);\n  const maxy = Math.floor(bbox.maxY / res);\n  const leveldiff = Math.log2(f2);\n  const retval = [];\n  for (let x2 = minx; x2 <= maxx; x2++) {\n    const wrapped_x = x2 % (1 << display_zoom);\n    for (let y = miny; y <= maxy; y++) {\n      retval.push({\n        display: toIndex({ z: display_zoom, x: wrapped_x, y }),\n        key: toIndex({\n          z: display_zoom - leveldiff,\n          x: Math.floor(wrapped_x / f2),\n          y: Math.floor(y / f2)\n        })\n      });\n    }\n  }\n  return retval;\n};\nvar Index = class {\n  constructor(dim, maxLabeledTiles) {\n    this.tree = new import_rbush.default();\n    this.current = /* @__PURE__ */ new Map();\n    this.dim = dim;\n    this.maxLabeledTiles = maxLabeledTiles;\n  }\n  hasPrefix(tileKey) {\n    for (const key of this.current.keys()) {\n      if (key.startsWith(tileKey))\n        return true;\n    }\n    return false;\n  }\n  has(tileKey) {\n    return this.current.has(tileKey);\n  }\n  size() {\n    return this.current.size;\n  }\n  keys() {\n    return this.current.keys();\n  }\n  searchBbox(bbox, order) {\n    const labels = /* @__PURE__ */ new Set();\n    for (const match of this.tree.search(bbox)) {\n      if (match.indexedLabel.order <= order) {\n        labels.add(match.indexedLabel);\n      }\n    }\n    return labels;\n  }\n  searchLabel(label, order) {\n    const labels = /* @__PURE__ */ new Set();\n    for (const bbox of label.bboxes) {\n      for (const match of this.tree.search(bbox)) {\n        if (match.indexedLabel.order <= order) {\n          labels.add(match.indexedLabel);\n        }\n      }\n    }\n    return labels;\n  }\n  bboxCollides(bbox, order) {\n    for (const match of this.tree.search(bbox)) {\n      if (match.indexedLabel.order <= order)\n        return true;\n    }\n    return false;\n  }\n  labelCollides(label, order) {\n    for (const bbox of label.bboxes) {\n      for (const match of this.tree.search(bbox)) {\n        if (match.indexedLabel.order <= order)\n          return true;\n      }\n    }\n    return false;\n  }\n  deduplicationCollides(label) {\n    if (!label.deduplicationKey || !label.deduplicationDistance)\n      return false;\n    const dist = label.deduplicationDistance;\n    const test_bbox = {\n      minX: label.anchor.x - dist,\n      minY: label.anchor.y - dist,\n      maxX: label.anchor.x + dist,\n      maxY: label.anchor.y + dist\n    };\n    for (const collision of this.tree.search(test_bbox)) {\n      if (collision.indexedLabel.deduplicationKey === label.deduplicationKey) {\n        if (collision.indexedLabel.anchor.dist(label.anchor) < dist) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n  makeEntry(tileKey) {\n    if (this.current.get(tileKey)) {\n      console.log(\"consistency error 1\");\n    }\n    const newSet = /* @__PURE__ */ new Set();\n    this.current.set(tileKey, newSet);\n  }\n  insert(label, order, tileKey) {\n    const indexedLabel = {\n      anchor: label.anchor,\n      bboxes: label.bboxes,\n      draw: label.draw,\n      order,\n      tileKey,\n      deduplicationKey: label.deduplicationKey,\n      deduplicationDistance: label.deduplicationDistance\n    };\n    let entry = this.current.get(tileKey);\n    if (!entry) {\n      const newSet = /* @__PURE__ */ new Set();\n      this.current.set(tileKey, newSet);\n      entry = newSet;\n    }\n    entry.add(indexedLabel);\n    let wrapsLeft = false;\n    let wrapsRight = false;\n    for (const bbox of label.bboxes) {\n      this.tree.insert({\n        minX: bbox.minX,\n        minY: bbox.minY,\n        maxX: bbox.maxX,\n        maxY: bbox.maxY,\n        indexedLabel\n      });\n      if (bbox.minX < 0)\n        wrapsLeft = true;\n      if (bbox.maxX > this.dim)\n        wrapsRight = true;\n    }\n    if (wrapsLeft || wrapsRight) {\n      const shift2 = wrapsLeft ? this.dim : -this.dim;\n      const new_bboxes = [];\n      for (const bbox of label.bboxes) {\n        new_bboxes.push({\n          minX: bbox.minX + shift2,\n          minY: bbox.minY,\n          maxX: bbox.maxX + shift2,\n          maxY: bbox.maxY\n        });\n      }\n      const duplicate_label = {\n        anchor: new import_point_geometry5.default(label.anchor.x + shift2, label.anchor.y),\n        bboxes: new_bboxes,\n        draw: label.draw,\n        order,\n        tileKey\n      };\n      const entry2 = this.current.get(tileKey);\n      if (entry2)\n        entry2.add(duplicate_label);\n      for (const bbox of new_bboxes) {\n        this.tree.insert({\n          minX: bbox.minX,\n          minY: bbox.minY,\n          maxX: bbox.maxX,\n          maxY: bbox.maxY,\n          indexedLabel: duplicate_label\n        });\n      }\n    }\n  }\n  pruneOrNoop(key_added) {\n    const added = key_added.split(\":\");\n    let max_key = void 0;\n    let max_dist = 0;\n    let keys_for_ds = 0;\n    for (const existing_key of this.current.keys()) {\n      const existing = existing_key.split(\":\");\n      if (existing[3] === added[3]) {\n        keys_for_ds++;\n        const dist = Math.sqrt(\n          __pow(+existing[0] - +added[0], 2) + __pow(+existing[1] - +added[1], 2)\n        );\n        if (dist > max_dist) {\n          max_dist = dist;\n          max_key = existing_key;\n        }\n      }\n      if (max_key && keys_for_ds > this.maxLabeledTiles) {\n        this.pruneKey(max_key);\n      }\n    }\n  }\n  pruneKey(keyToRemove) {\n    const indexed_labels = this.current.get(keyToRemove);\n    if (!indexed_labels)\n      return;\n    const entries_to_delete = [];\n    for (const entry of this.tree.all()) {\n      if (indexed_labels.has(entry.indexedLabel)) {\n        entries_to_delete.push(entry);\n      }\n    }\n    for (const entry of entries_to_delete) {\n      this.tree.remove(entry);\n    }\n    this.current.delete(keyToRemove);\n  }\n  removeLabel(labelToRemove) {\n    const entries_to_delete = [];\n    for (const entry of this.tree.all()) {\n      if (labelToRemove === entry.indexedLabel) {\n        entries_to_delete.push(entry);\n      }\n    }\n    for (const entry of entries_to_delete) {\n      this.tree.remove(entry);\n    }\n    const c2 = this.current.get(labelToRemove.tileKey);\n    if (c2)\n      c2.delete(labelToRemove);\n  }\n};\nvar Labeler = class {\n  constructor(z2, scratch, labelRules2, maxLabeledTiles, callback) {\n    this.index = new Index(256 * 1 << z2, maxLabeledTiles);\n    this.z = z2;\n    this.scratch = scratch;\n    this.labelRules = labelRules2;\n    this.callback = callback;\n  }\n  layout(prepared_tilemap) {\n    const start = performance.now();\n    const keys_adding = /* @__PURE__ */ new Set();\n    for (const [k, prepared_tiles] of prepared_tilemap) {\n      for (const prepared_tile of prepared_tiles) {\n        const key = `${toIndex(prepared_tile.data_tile)}:${k}`;\n        if (!this.index.has(key)) {\n          this.index.makeEntry(key);\n          keys_adding.add(key);\n        }\n      }\n    }\n    const tiles_invalidated = /* @__PURE__ */ new Set();\n    for (const [order, rule] of this.labelRules.entries()) {\n      if (rule.visible === false)\n        continue;\n      if (rule.minzoom && this.z < rule.minzoom)\n        continue;\n      if (rule.maxzoom && this.z > rule.maxzoom)\n        continue;\n      const dsName = rule.dataSource || \"\";\n      const prepared_tiles = prepared_tilemap.get(dsName);\n      if (!prepared_tiles)\n        continue;\n      for (const prepared_tile of prepared_tiles) {\n        const key = `${toIndex(prepared_tile.data_tile)}:${dsName}`;\n        if (!keys_adding.has(key))\n          continue;\n        const layer = prepared_tile.data.get(rule.dataLayer);\n        if (layer === void 0)\n          continue;\n        const feats = layer;\n        if (rule.sort)\n          feats.sort((a2, b) => {\n            if (rule.sort) {\n              return rule.sort(a2.props, b.props);\n            }\n            return 0;\n          });\n        const layout = {\n          index: this.index,\n          zoom: this.z,\n          scratch: this.scratch,\n          order,\n          overzoom: this.z - prepared_tile.data_tile.z\n        };\n        for (const feature of feats) {\n          if (rule.filter && !rule.filter(this.z, feature))\n            continue;\n          const transformed = transformGeom(\n            feature.geom,\n            prepared_tile.scale,\n            prepared_tile.origin\n          );\n          const labels = rule.symbolizer.place(layout, transformed, feature);\n          if (!labels)\n            continue;\n          for (const label of labels) {\n            let label_added = false;\n            if (label.deduplicationKey && this.index.deduplicationCollides(label)) {\n              continue;\n            }\n            if (this.index.labelCollides(label, Infinity)) {\n              if (!this.index.labelCollides(label, order)) {\n                const conflicts = this.index.searchLabel(label, Infinity);\n                for (const conflict of conflicts) {\n                  this.index.removeLabel(conflict);\n                  for (const bbox of conflict.bboxes) {\n                    this.findInvalidatedTiles(\n                      tiles_invalidated,\n                      prepared_tile.dim,\n                      bbox,\n                      key\n                    );\n                  }\n                }\n                this.index.insert(label, order, key);\n                label_added = true;\n              }\n            } else {\n              this.index.insert(label, order, key);\n              label_added = true;\n            }\n            if (label_added) {\n              for (const bbox of label.bboxes) {\n                if (bbox.maxX > prepared_tile.origin.x + prepared_tile.dim || bbox.minX < prepared_tile.origin.x || bbox.minY < prepared_tile.origin.y || bbox.maxY > prepared_tile.origin.y + prepared_tile.dim) {\n                  this.findInvalidatedTiles(\n                    tiles_invalidated,\n                    prepared_tile.dim,\n                    bbox,\n                    key\n                  );\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    for (const key of keys_adding) {\n      this.index.pruneOrNoop(key);\n    }\n    if (tiles_invalidated.size > 0 && this.callback) {\n      this.callback(tiles_invalidated);\n    }\n    return performance.now() - start;\n  }\n  findInvalidatedTiles(tiles_invalidated, dim, bbox, key) {\n    const touched = covering(this.z, dim, bbox);\n    for (const s2 of touched) {\n      if (s2.key !== key && this.index.hasPrefix(s2.key)) {\n        tiles_invalidated.add(s2.display);\n      }\n    }\n  }\n  add(prepared_tilemap) {\n    let all_added = true;\n    for (const [k, prepared_tiles] of prepared_tilemap) {\n      for (const prepared_tile of prepared_tiles) {\n        if (!this.index.has(`${toIndex(prepared_tile.data_tile)}:${k}`))\n          all_added = false;\n      }\n    }\n    if (all_added) {\n      return 0;\n    }\n    const timing = this.layout(prepared_tilemap);\n    return timing;\n  }\n};\nvar Labelers = class {\n  constructor(scratch, labelRules2, maxLabeledTiles, callback) {\n    this.labelers = /* @__PURE__ */ new Map();\n    this.scratch = scratch;\n    this.labelRules = labelRules2;\n    this.maxLabeledTiles = maxLabeledTiles;\n    this.callback = callback;\n  }\n  add(z2, prepared_tilemap) {\n    let labeler = this.labelers.get(z2);\n    if (labeler) {\n      return labeler.add(prepared_tilemap);\n    }\n    labeler = new Labeler(\n      z2,\n      this.scratch,\n      this.labelRules,\n      this.maxLabeledTiles,\n      this.callback\n    );\n    this.labelers.set(z2, labeler);\n    return labeler.add(prepared_tilemap);\n  }\n  getIndex(z2) {\n    const labeler = this.labelers.get(z2);\n    if (labeler)\n      return labeler.index;\n  }\n};\n\n// src/painter.ts\nvar import_point_geometry6 = __toESM(require_point_geometry());\nfunction painter(ctx, z2, prepared_tilemap, label_data, rules, bbox, origin, clip, debug) {\n  const start = performance.now();\n  ctx.save();\n  ctx.miterLimit = 2;\n  for (const rule of rules) {\n    if (rule.minzoom && z2 < rule.minzoom)\n      continue;\n    if (rule.maxzoom && z2 > rule.maxzoom)\n      continue;\n    const prepared_tiles = prepared_tilemap.get(rule.dataSource || \"\");\n    if (!prepared_tiles)\n      continue;\n    for (const prepared_tile of prepared_tiles) {\n      const layer = prepared_tile.data.get(rule.dataLayer);\n      if (layer === void 0)\n        continue;\n      if (rule.symbolizer.before)\n        rule.symbolizer.before(ctx, prepared_tile.z);\n      const po = prepared_tile.origin;\n      const dim = prepared_tile.dim;\n      const ps = prepared_tile.scale;\n      ctx.save();\n      if (clip) {\n        ctx.beginPath();\n        const minX = Math.max(po.x - origin.x, bbox.minX - origin.x);\n        const minY = Math.max(po.y - origin.y, bbox.minY - origin.y);\n        const maxX = Math.min(po.x - origin.x + dim, bbox.maxX - origin.x);\n        const maxY = Math.min(po.y - origin.y + dim, bbox.maxY - origin.y);\n        ctx.rect(minX, minY, maxX - minX, maxY - minY);\n        ctx.clip();\n      }\n      ctx.translate(po.x - origin.x, po.y - origin.y);\n      for (const feature of layer) {\n        let geom = feature.geom;\n        const fbox = feature.bbox;\n        if (fbox.maxX * ps + po.x < bbox.minX || fbox.minX * ps + po.x > bbox.maxX || fbox.minY * ps + po.y > bbox.maxY || fbox.maxY * ps + po.y < bbox.minY) {\n          continue;\n        }\n        if (rule.filter && !rule.filter(prepared_tile.z, feature))\n          continue;\n        if (ps !== 1) {\n          geom = transformGeom(geom, ps, new import_point_geometry6.default(0, 0));\n        }\n        rule.symbolizer.draw(ctx, geom, prepared_tile.z, feature);\n      }\n      ctx.restore();\n    }\n  }\n  if (clip) {\n    ctx.beginPath();\n    ctx.rect(\n      bbox.minX - origin.x,\n      bbox.minY - origin.y,\n      bbox.maxX - bbox.minX,\n      bbox.maxY - bbox.minY\n    );\n    ctx.clip();\n  }\n  if (label_data) {\n    const matches = label_data.searchBbox(bbox, Infinity);\n    for (const label of matches) {\n      ctx.save();\n      ctx.translate(label.anchor.x - origin.x, label.anchor.y - origin.y);\n      label.draw(ctx);\n      ctx.restore();\n      if (debug) {\n        ctx.lineWidth = 0.5;\n        ctx.strokeStyle = debug;\n        ctx.fillStyle = debug;\n        ctx.globalAlpha = 1;\n        ctx.fillRect(\n          label.anchor.x - origin.x - 2,\n          label.anchor.y - origin.y - 2,\n          4,\n          4\n        );\n        for (const bbox2 of label.bboxes) {\n          ctx.strokeRect(\n            bbox2.minX - origin.x,\n            bbox2.minY - origin.y,\n            bbox2.maxX - bbox2.minX,\n            bbox2.maxY - bbox2.minY\n          );\n        }\n      }\n    }\n  }\n  ctx.restore();\n  return performance.now() - start;\n}\n\n// src/xray.ts\nvar xray_symbolizers = (dataSource, dataLayer, color) => {\n  return [\n    {\n      dataSource,\n      dataLayer,\n      symbolizer: new CircleSymbolizer({\n        opacity: 0.2,\n        fill: color,\n        radius: 4\n      }),\n      filter: (z2, f2) => {\n        return f2.geomType === 1 /* Point */;\n      }\n    },\n    {\n      dataSource,\n      dataLayer,\n      symbolizer: new LineSymbolizer({\n        opacity: 0.2,\n        color,\n        width: 2\n      }),\n      filter: (z2, f2) => {\n        return f2.geomType === 2 /* Line */;\n      }\n    },\n    {\n      dataSource,\n      dataLayer,\n      symbolizer: new PolygonSymbolizer({\n        opacity: 0.2,\n        fill: color,\n        stroke: color,\n        width: 1\n      }),\n      filter: (z2, f2) => {\n        return f2.geomType === 3 /* Polygon */;\n      }\n    }\n  ];\n};\nvar xray_rules = (prepared_tilemap, xray) => {\n  let rules = [];\n  for (const [dataSource, tiles] of prepared_tilemap) {\n    for (const tile of tiles) {\n      for (const dataLayer of tile.data.keys()) {\n        if (dataSource === xray.dataSource && dataLayer === xray.dataLayer) {\n        } else {\n          rules = rules.concat(\n            xray_symbolizers(dataSource, dataLayer, \"steelblue\")\n          );\n        }\n      }\n    }\n  }\n  rules = rules.concat(\n    xray_symbolizers(xray.dataSource || \"\", xray.dataLayer, \"red\")\n  );\n  return rules;\n};\n\n// src/frontends/static.ts\nvar R2 = 6378137;\nvar MAX_LATITUDE2 = 85.0511287798;\nvar MAXCOORD2 = R2 * Math.PI;\nvar project2 = (latlng) => {\n  const d = Math.PI / 180;\n  const constrained_lat = Math.max(\n    Math.min(MAX_LATITUDE2, latlng.y),\n    -MAX_LATITUDE2\n  );\n  const sin = Math.sin(constrained_lat * d);\n  return new import_point_geometry7.default(R2 * latlng.x * d, R2 * Math.log((1 + sin) / (1 - sin)) / 2);\n};\nvar unproject = (point) => {\n  const d = 180 / Math.PI;\n  return {\n    lat: (2 * Math.atan(Math.exp(point.y / R2)) - Math.PI / 2) * d,\n    lng: point.x * d / R2\n  };\n};\nvar instancedProject = (origin, display_zoom) => {\n  return (latlng) => {\n    const projected = project2(latlng);\n    const normalized = new import_point_geometry7.default(\n      (projected.x + MAXCOORD2) / (MAXCOORD2 * 2),\n      1 - (projected.y + MAXCOORD2) / (MAXCOORD2 * 2)\n    );\n    return normalized.mult((1 << display_zoom) * 256).sub(origin);\n  };\n};\nvar instancedUnproject = (origin, display_zoom) => {\n  return (point) => {\n    const normalized = new import_point_geometry7.default(point.x, point.y).add(origin).div((1 << display_zoom) * 256);\n    const projected = new import_point_geometry7.default(\n      normalized.x * (MAXCOORD2 * 2) - MAXCOORD2,\n      (1 - normalized.y) * (MAXCOORD2 * 2) - MAXCOORD2\n    );\n    return unproject(projected);\n  };\n};\nvar getZoom = (degrees_lng, css_pixels) => {\n  const d = css_pixels * (360 / degrees_lng);\n  return Math.log2(d / 256);\n};\nvar Static = class {\n  constructor(options) {\n    const theme = options.dark ? dark : light;\n    this.paint_rules = options.paint_rules || paintRules(theme, options.shade);\n    this.label_rules = options.label_rules || labelRules(theme, options.shade, options.language1, options.language2);\n    this.backgroundColor = options.backgroundColor;\n    this.views = sourcesToViews(options);\n    this.debug = options.debug || \"\";\n    this.xray = options.xray;\n  }\n  drawContext(ctx, width, height, latlng, display_zoom) {\n    return __async(this, null, function* () {\n      const center = project2(latlng);\n      const normalized_center = new import_point_geometry7.default(\n        (center.x + MAXCOORD2) / (MAXCOORD2 * 2),\n        1 - (center.y + MAXCOORD2) / (MAXCOORD2 * 2)\n      );\n      const origin = normalized_center.clone().mult(__pow(2, display_zoom) * 256).sub(new import_point_geometry7.default(width / 2, height / 2));\n      const bbox = {\n        minX: origin.x,\n        minY: origin.y,\n        maxX: origin.x + width,\n        maxY: origin.y + height\n      };\n      const promises = [];\n      for (const [k, v] of this.views) {\n        const promise = v.getBbox(display_zoom, bbox);\n        promises.push({ key: k, promise });\n      }\n      const tile_responses = yield Promise.all(\n        promises.map((o2) => {\n          return o2.promise.then(\n            (v) => {\n              return { status: \"fulfilled\", value: v, key: o2.key };\n            },\n            (error) => {\n              return { status: \"rejected\", value: [], reason: error, key: o2.key };\n            }\n          );\n        })\n      );\n      const prepared_tilemap = /* @__PURE__ */ new Map();\n      for (const tile_response of tile_responses) {\n        if (tile_response.status === \"fulfilled\") {\n          prepared_tilemap.set(tile_response.key, tile_response.value);\n        }\n      }\n      const start = performance.now();\n      const labeler = new Labeler(\n        display_zoom,\n        ctx,\n        this.label_rules,\n        16,\n        void 0\n      );\n      const layout_time = labeler.add(prepared_tilemap);\n      if (this.backgroundColor) {\n        ctx.save();\n        ctx.fillStyle = this.backgroundColor;\n        ctx.fillRect(0, 0, width, height);\n        ctx.restore();\n      }\n      let paint_rules = this.paint_rules;\n      if (this.xray) {\n        paint_rules = xray_rules(prepared_tilemap, this.xray);\n      }\n      const p2 = painter(\n        ctx,\n        display_zoom,\n        prepared_tilemap,\n        this.xray ? null : labeler.index,\n        paint_rules,\n        bbox,\n        origin,\n        true,\n        this.debug\n      );\n      if (this.debug) {\n        ctx.save();\n        ctx.translate(-origin.x, -origin.y);\n        ctx.strokeStyle = this.debug;\n        ctx.fillStyle = this.debug;\n        ctx.font = \"12px sans-serif\";\n        let idx = 0;\n        for (const [k, v] of prepared_tilemap) {\n          for (const prepared_tile of v) {\n            ctx.strokeRect(\n              prepared_tile.origin.x,\n              prepared_tile.origin.y,\n              prepared_tile.dim,\n              prepared_tile.dim\n            );\n            const dt = prepared_tile.data_tile;\n            ctx.fillText(\n              `${k + (k ? \" \" : \"\") + dt.z} ${dt.x} ${dt.y}`,\n              prepared_tile.origin.x + 4,\n              prepared_tile.origin.y + 14 * (1 + idx)\n            );\n          }\n          idx++;\n        }\n        ctx.restore();\n      }\n      return {\n        elapsed: performance.now() - start,\n        project: instancedProject(origin, display_zoom),\n        unproject: instancedUnproject(origin, display_zoom)\n      };\n    });\n  }\n  drawCanvas(_0, _1, _2) {\n    return __async(this, arguments, function* (canvas, latlng, display_zoom, options = {}) {\n      const dpr = window.devicePixelRatio;\n      const width = canvas.clientWidth;\n      const height = canvas.clientHeight;\n      if (!(canvas.width === width * dpr && canvas.height === height * dpr)) {\n        canvas.width = width * dpr;\n        canvas.height = height * dpr;\n      }\n      if (options.lang)\n        canvas.lang = options.lang;\n      const ctx = canvas.getContext(\"2d\");\n      ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\n      return this.drawContext(ctx, width, height, latlng, display_zoom);\n    });\n  }\n  drawContextBounds(ctx, top_left, bottom_right, width, height) {\n    return __async(this, null, function* () {\n      const delta_degrees = bottom_right.x - top_left.x;\n      const center = new import_point_geometry7.default(\n        (top_left.x + bottom_right.x) / 2,\n        (top_left.y + bottom_right.y) / 2\n      );\n      return this.drawContext(\n        ctx,\n        width,\n        height,\n        center,\n        getZoom(delta_degrees, width)\n      );\n    });\n  }\n  drawCanvasBounds(_0, _1, _2, _3) {\n    return __async(this, arguments, function* (canvas, top_left, bottom_right, width, options = {}) {\n      const delta_degrees = bottom_right.x - top_left.x;\n      const center = new import_point_geometry7.default(\n        (top_left.x + bottom_right.x) / 2,\n        (top_left.y + bottom_right.y) / 2\n      );\n      return this.drawCanvas(\n        canvas,\n        center,\n        getZoom(delta_degrees, width),\n        options\n      );\n    });\n  }\n};\n\n// src/frontends/leaflet.ts\nvar import_point_geometry8 = __toESM(require_point_geometry());\nvar timer = (duration) => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve();\n    }, duration);\n  });\n};\nvar reflect = (promise) => {\n  return promise.then(\n    (v) => {\n      return { status: \"fulfilled\", value: v };\n    },\n    (error) => {\n      return { status: \"rejected\", reason: error };\n    }\n  );\n};\nvar leafletLayer = (options = {}) => {\n  class LeafletLayer extends L.GridLayer {\n    constructor(options2 = {}) {\n      if (options2.noWrap && !options2.bounds)\n        options2.bounds = [\n          [-90, -180],\n          [90, 180]\n        ];\n      if (options2.attribution == null)\n        options2.attribution = '<a href=\"https://protomaps.com\">Protomaps</a> \\xA9 <a href=\"https://openstreetmap.org/copyright\">OpenStreetMap</a>';\n      super(options2);\n      const theme = options2.dark ? dark : light;\n      this.paint_rules = options2.paint_rules || paintRules(theme, options2.shade);\n      this.label_rules = options2.label_rules || labelRules(theme, options2.shade, options2.language1, options2.language2);\n      this.backgroundColor = options2.backgroundColor;\n      this.lastRequestedZ = void 0;\n      this.xray = options2.xray;\n      this.tasks = options2.tasks || [];\n      this.views = sourcesToViews(options2);\n      this.debug = options2.debug;\n      const scratch = document.createElement(\"canvas\").getContext(\"2d\");\n      this.scratch = scratch;\n      this.onTilesInvalidated = (tiles) => {\n        for (const t2 of tiles) {\n          this.rerenderTile(t2);\n        }\n      };\n      this.labelers = new Labelers(\n        this.scratch,\n        this.label_rules,\n        16,\n        this.onTilesInvalidated\n      );\n      this.tile_size = 256 * window.devicePixelRatio;\n      this.tileDelay = options2.tileDelay || 3;\n      this.lang = options2.lang;\n      this.inspector = this.inspect(this);\n    }\n    setDefaultStyle(darkOption, shade, language1, language2) {\n      const theme = darkOption ? dark : light;\n      this.paint_rules = paintRules(theme, shade);\n      this.label_rules = labelRules(theme, shade, language1, language2);\n    }\n    renderTile(coords, element, key, done = () => {\n    }) {\n      return __async(this, null, function* () {\n        this.lastRequestedZ = coords.z;\n        const promises = [];\n        for (const [k, v] of this.views) {\n          const promise = v.getDisplayTile(coords);\n          promises.push({ key: k, promise });\n        }\n        const tile_responses = yield Promise.all(\n          promises.map((o2) => {\n            return o2.promise.then(\n              (v) => {\n                return { status: \"fulfilled\", value: v, key: o2.key };\n              },\n              (error) => {\n                return { status: \"rejected\", reason: error, key: o2.key };\n              }\n            );\n          })\n        );\n        const prepared_tilemap = /* @__PURE__ */ new Map();\n        for (const tile_response of tile_responses) {\n          if (tile_response.status === \"fulfilled\") {\n            prepared_tilemap.set(tile_response.key, [tile_response.value]);\n          } else {\n            if (tile_response.reason.name === \"AbortError\") {\n            } else {\n              console.error(tile_response.reason);\n            }\n          }\n        }\n        if (element.key !== key)\n          return;\n        if (this.lastRequestedZ !== coords.z)\n          return;\n        yield Promise.all(this.tasks.map(reflect));\n        if (element.key !== key)\n          return;\n        if (this.lastRequestedZ !== coords.z)\n          return;\n        const layout_time = this.labelers.add(coords.z, prepared_tilemap);\n        if (element.key !== key)\n          return;\n        if (this.lastRequestedZ !== coords.z)\n          return;\n        const label_data = this.labelers.getIndex(coords.z);\n        if (!this._map)\n          return;\n        const center = this._map.getCenter().wrap();\n        const pixelBounds = this._getTiledPixelBounds(center);\n        const tileRange = this._pxBoundsToTileRange(pixelBounds);\n        const tileCenter = tileRange.getCenter();\n        const priority = coords.distanceTo(tileCenter) * this.tileDelay;\n        yield timer(priority);\n        if (element.key !== key)\n          return;\n        if (this.lastRequestedZ !== coords.z)\n          return;\n        const BUF = 16;\n        const bbox = {\n          minX: 256 * coords.x - BUF,\n          minY: 256 * coords.y - BUF,\n          maxX: 256 * (coords.x + 1) + BUF,\n          maxY: 256 * (coords.y + 1) + BUF\n        };\n        const origin = new import_point_geometry8.default(256 * coords.x, 256 * coords.y);\n        element.width = this.tile_size;\n        element.height = this.tile_size;\n        const ctx = element.getContext(\"2d\");\n        ctx.setTransform(this.tile_size / 256, 0, 0, this.tile_size / 256, 0, 0);\n        ctx.clearRect(0, 0, 256, 256);\n        if (this.backgroundColor) {\n          ctx.save();\n          ctx.fillStyle = this.backgroundColor;\n          ctx.fillRect(0, 0, 256, 256);\n          ctx.restore();\n        }\n        let painting_time = 0;\n        let paint_rules = this.paint_rules;\n        if (this.xray) {\n          paint_rules = xray_rules(prepared_tilemap, this.xray);\n        }\n        painting_time = painter(\n          ctx,\n          coords.z,\n          prepared_tilemap,\n          this.xray ? null : label_data,\n          paint_rules,\n          bbox,\n          origin,\n          false,\n          this.debug\n        );\n        if (this.debug) {\n          ctx.save();\n          ctx.fillStyle = this.debug;\n          ctx.font = \"600 12px sans-serif\";\n          ctx.fillText(`${coords.z} ${coords.x} ${coords.y}`, 4, 14);\n          ctx.font = \"12px sans-serif\";\n          let ypos = 28;\n          for (const [k, v] of prepared_tilemap) {\n            const dt = v[0].data_tile;\n            ctx.fillText(`${k + (k ? \" \" : \"\") + dt.z} ${dt.x} ${dt.y}`, 4, ypos);\n            ypos += 14;\n          }\n          ctx.font = \"600 10px sans-serif\";\n          if (painting_time > 8) {\n            ctx.fillText(`${painting_time.toFixed()} ms paint`, 4, ypos);\n            ypos += 14;\n          }\n          if (layout_time > 8) {\n            ctx.fillText(`${layout_time.toFixed()} ms layout`, 4, ypos);\n          }\n          ctx.strokeStyle = this.debug;\n          ctx.lineWidth = 0.5;\n          ctx.beginPath();\n          ctx.moveTo(0, 0);\n          ctx.lineTo(0, 256);\n          ctx.stroke();\n          ctx.lineWidth = 0.5;\n          ctx.beginPath();\n          ctx.moveTo(0, 0);\n          ctx.lineTo(256, 0);\n          ctx.stroke();\n          ctx.restore();\n        }\n        done();\n      });\n    }\n    rerenderTile(key) {\n      for (const unwrapped_k in this._tiles) {\n        const wrapped_coord = this._wrapCoords(\n          this._keyToTileCoords(unwrapped_k)\n        );\n        if (key === this._tileCoordsToKey(wrapped_coord)) {\n          this.renderTile(wrapped_coord, this._tiles[unwrapped_k].el, key);\n        }\n      }\n    }\n    clearLayout() {\n      this.labelers = new Labelers(\n        this.scratch,\n        this.label_rules,\n        16,\n        this.onTilesInvalidated\n      );\n    }\n    rerenderTiles() {\n      for (const unwrapped_k in this._tiles) {\n        const wrapped_coord = this._wrapCoords(\n          this._keyToTileCoords(unwrapped_k)\n        );\n        const key = this._tileCoordsToKey(wrapped_coord);\n        this.renderTile(wrapped_coord, this._tiles[unwrapped_k].el, key);\n      }\n    }\n    createTile(coords, showTile) {\n      const element = L.DomUtil.create(\"canvas\", \"leaflet-tile\");\n      element.lang = this.lang;\n      const key = this._tileCoordsToKey(coords);\n      element.key = key;\n      this.renderTile(coords, element, key, () => {\n        showTile(null, element);\n      });\n      return element;\n    }\n    _removeTile(key) {\n      const tile = this._tiles[key];\n      if (!tile) {\n        return;\n      }\n      tile.el.removed = true;\n      tile.el.key = void 0;\n      L.DomUtil.removeClass(tile.el, \"leaflet-tile-loaded\");\n      tile.el.width = tile.el.height = 0;\n      L.DomUtil.remove(tile.el);\n      delete this._tiles[key];\n      this.fire(\"tileunload\", {\n        tile: tile.el,\n        coords: this._keyToTileCoords(key)\n      });\n    }\n    queryFeatures(lng, lat) {\n      const featuresBySourceName = /* @__PURE__ */ new Map();\n      for (const [sourceName, view] of this.views) {\n        featuresBySourceName.set(\n          sourceName,\n          view.queryFeatures(lng, lat, this._map.getZoom())\n        );\n      }\n      return featuresBySourceName;\n    }\n    inspect(layer) {\n      return (ev) => {\n        const typeGlyphs = [\"\\u25CE\", \"\\u27CD\", \"\\u25FB\"];\n        const wrapped = layer._map.wrapLatLng(ev.latlng);\n        const resultsBySourceName = layer.queryFeatures(\n          wrapped.lng,\n          wrapped.lat\n        );\n        let content = \"\";\n        let firstRow = true;\n        for (const [sourceName, results] of resultsBySourceName) {\n          for (const result of results) {\n            if (this.xray && this.xray !== true) {\n              if (!((this.xray.dataSource || \"\") === sourceName && this.xray.dataLayer === result.layerName)) {\n                continue;\n              }\n            }\n            content = `${content}<div style=\"margin-top:${firstRow ? 0 : 0.5}em\">${typeGlyphs[result.feature.geomType - 1]} <b>${sourceName} ${sourceName ? \"/\" : \"\"} ${result.layerName}</b> ${result.feature.id || \"\"}</div>`;\n            for (const prop in result.feature.props) {\n              content = `${content}<div style=\"font-size:0.9em\">${prop} = ${result.feature.props[prop]}</div>`;\n            }\n            firstRow = false;\n          }\n        }\n        if (firstRow) {\n          content = \"No features.\";\n        }\n        L.popup().setLatLng(ev.latlng).setContent(\n          `<div style=\"max-height:400px;overflow-y:scroll;padding-right:8px\">${content}</div>`\n        ).openOn(layer._map);\n      };\n    }\n    addInspector(map) {\n      return map.on(\"click\", this.inspector);\n    }\n    removeInspector(map) {\n      return map.off(\"click\", this.inspector);\n    }\n  }\n  return new LeafletLayer(options);\n};\n\n// node_modules/potpack/index.mjs\nfunction potpack(boxes) {\n  let area = 0;\n  let maxWidth = 0;\n  for (const box of boxes) {\n    area += box.w * box.h;\n    maxWidth = Math.max(maxWidth, box.w);\n  }\n  boxes.sort((a2, b) => b.h - a2.h);\n  const startWidth = Math.max(Math.ceil(Math.sqrt(area / 0.95)), maxWidth);\n  const spaces = [{ x: 0, y: 0, w: startWidth, h: Infinity }];\n  let width = 0;\n  let height = 0;\n  for (const box of boxes) {\n    for (let i3 = spaces.length - 1; i3 >= 0; i3--) {\n      const space = spaces[i3];\n      if (box.w > space.w || box.h > space.h)\n        continue;\n      box.x = space.x;\n      box.y = space.y;\n      height = Math.max(height, box.y + box.h);\n      width = Math.max(width, box.x + box.w);\n      if (box.w === space.w && box.h === space.h) {\n        const last = spaces.pop();\n        if (i3 < spaces.length)\n          spaces[i3] = last;\n      } else if (box.h === space.h) {\n        space.x += box.w;\n        space.w -= box.w;\n      } else if (box.w === space.w) {\n        space.y += box.h;\n        space.h -= box.h;\n      } else {\n        spaces.push({\n          x: space.x + box.w,\n          y: space.y,\n          w: space.w - box.w,\n          h: box.h\n        });\n        space.y += box.h;\n        space.h -= box.h;\n      }\n      break;\n    }\n  }\n  return {\n    w: width,\n    h: height,\n    fill: area / (width * height) || 0\n  };\n}\n\n// src/task.ts\nvar Font = (name, url, weight) => {\n  const ff = new FontFace(name, `url(${url})`, { weight });\n  document.fonts.add(ff);\n  return ff.load();\n};\nvar mkimg = (src) => __async(void 0, null, function* () {\n  return new Promise((resolve, reject) => {\n    const img = new Image();\n    img.onload = () => resolve(img);\n    img.onerror = () => reject(\"Invalid SVG\");\n    img.src = src;\n  });\n});\nvar MISSING = `\n<svg width=\"20px\" height=\"20px\" viewBox=\"0 0 50 50\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n    <rect width=\"50\" height=\"50\" fill=\"#cccccc\"/>\n    <g transform=\"translate(5,5)\">\n        <path fill=\"none\" stroke=\"#666666\" stroke-width=\"7\" d=\"m11,12a8.5,8 0 1,1 17,0q0,4-4,6t-4.5,4.5-.4,4v.2m0,3v7\"/>\n    </g>\n</svg>\n`;\nvar Sheet = class {\n  constructor(src) {\n    this.src = src;\n    this.canvas = document.createElement(\"canvas\");\n    this.mapping = /* @__PURE__ */ new Map();\n    this.missingBox = { x: 0, y: 0, w: 0, h: 0 };\n  }\n  load() {\n    return __async(this, null, function* () {\n      let src = this.src;\n      const scale = window.devicePixelRatio;\n      if (src.endsWith(\".html\")) {\n        const c2 = yield fetch(src);\n        src = yield c2.text();\n      }\n      const tree = new window.DOMParser().parseFromString(src, \"text/html\");\n      const icons = Array.from(tree.body.children);\n      const missingImg = yield mkimg(\n        `data:image/svg+xml;base64,${btoa(MISSING)}`\n      );\n      const boxes = [\n        {\n          w: missingImg.width * scale,\n          h: missingImg.height * scale,\n          img: missingImg,\n          id: \"\"\n        }\n      ];\n      const serializer = new XMLSerializer();\n      for (const ps of icons) {\n        const svg64 = btoa(serializer.serializeToString(ps));\n        const image64 = `data:image/svg+xml;base64,${svg64}`;\n        const img = yield mkimg(image64);\n        boxes.push({\n          w: img.width * scale,\n          h: img.height * scale,\n          img,\n          id: ps.id\n        });\n      }\n      const packresult = potpack(boxes);\n      this.canvas.width = packresult.w;\n      this.canvas.height = packresult.h;\n      const ctx = this.canvas.getContext(\"2d\");\n      if (ctx) {\n        for (const box of boxes) {\n          if (box.x !== void 0 && box.y !== void 0) {\n            ctx.drawImage(box.img, box.x, box.y, box.w, box.h);\n            if (box.id)\n              this.mapping.set(box.id, {\n                x: box.x,\n                y: box.y,\n                w: box.w,\n                h: box.h\n              });\n            else\n              this.missingBox = { x: box.x, y: box.y, w: box.w, h: box.h };\n          }\n        }\n      }\n      return this;\n    });\n  }\n  get(name) {\n    let result = this.mapping.get(name);\n    if (!result)\n      result = this.missingBox;\n    return result;\n  }\n};\n\n// src/compat/json_style.ts\nfunction number(val, defaultValue) {\n  return typeof val === \"number\" ? val : defaultValue;\n}\nfunction filterFn(arr2) {\n  if (arr2.includes(\"$type\")) {\n    return (z2) => true;\n  }\n  if (arr2[0] === \"==\") {\n    return (z2, f2) => f2.props[arr2[1]] === arr2[2];\n  }\n  if (arr2[0] === \"!=\") {\n    return (z2, f2) => f2.props[arr2[1]] !== arr2[2];\n  }\n  if (arr2[0] === \"!\") {\n    const sub = filterFn(arr2[1]);\n    return (z2, f2) => !sub(z2, f2);\n  }\n  if (arr2[0] === \"<\") {\n    return (z2, f2) => number(f2.props[arr2[1]], Infinity) < arr2[2];\n  }\n  if (arr2[0] === \"<=\") {\n    return (z2, f2) => number(f2.props[arr2[1]], Infinity) <= arr2[2];\n  }\n  if (arr2[0] === \">\") {\n    return (z2, f2) => number(f2.props[arr2[1]], -Infinity) > arr2[2];\n  }\n  if (arr2[0] === \">=\") {\n    return (z2, f2) => number(f2.props[arr2[1]], -Infinity) >= arr2[2];\n  }\n  if (arr2[0] === \"in\") {\n    return (z2, f2) => arr2.slice(2, arr2.length).includes(f2.props[arr2[1]]);\n  }\n  if (arr2[0] === \"!in\") {\n    return (z2, f2) => !arr2.slice(2, arr2.length).includes(f2.props[arr2[1]]);\n  }\n  if (arr2[0] === \"has\") {\n    return (z2, f2) => f2.props.hasOwnProperty(arr2[1]);\n  }\n  if (arr2[0] === \"!has\") {\n    return (z2, f2) => !f2.props.hasOwnProperty(arr2[1]);\n  }\n  if (arr2[0] === \"all\") {\n    const parts = arr2.slice(1, arr2.length).map((e2) => filterFn(e2));\n    return (z2, f2) => parts.every((p2) => {\n      return p2(z2, f2);\n    });\n  }\n  if (arr2[0] === \"any\") {\n    const parts = arr2.slice(1, arr2.length).map((e2) => filterFn(e2));\n    return (z2, f2) => parts.some((p2) => {\n      return p2(z2, f2);\n    });\n  }\n  console.log(\"Unimplemented filter: \", arr2[0]);\n  return (f2) => false;\n}\nfunction numberFn(obj) {\n  if (obj.base && obj.stops) {\n    return (z2) => {\n      return exp(obj.base, obj.stops)(z2 - 1);\n    };\n  }\n  if (obj[0] === \"interpolate\" && obj[1][0] === \"exponential\" && obj[2][0] === \"zoom\") {\n    const slice = obj.slice(3);\n    const stops = [];\n    for (let i3 = 0; i3 < slice.length; i3 += 2) {\n      stops.push([slice[i3], slice[i3 + 1]]);\n    }\n    return (z2) => {\n      return exp(obj[1][1], stops)(z2 - 1);\n    };\n  }\n  if (obj[0] === \"step\" && obj[1][0] === \"get\") {\n    const slice = obj.slice(2);\n    const prop = obj[1][1];\n    return (z2, f2) => {\n      const val = f2 == null ? void 0 : f2.props[prop];\n      if (typeof val === \"number\") {\n        if (val < slice[1])\n          return slice[0];\n        for (let i3 = 1; i3 < slice.length; i3 += 2) {\n          if (val <= slice[i3])\n            return slice[i3 + 1];\n        }\n      }\n      return slice[slice.length - 1];\n    };\n  }\n  console.log(\"Unimplemented numeric fn: \", obj);\n  return (z2) => 1;\n}\nfunction numberOrFn(obj, defaultValue = 0) {\n  if (!obj)\n    return defaultValue;\n  if (typeof obj === \"number\") {\n    return obj;\n  }\n  return (z2, f2) => f2 ? numberFn(obj)(z2, f2) : defaultValue;\n}\nfunction widthFn(width_obj, gap_obj) {\n  const w = numberOrFn(width_obj, 1);\n  const g = numberOrFn(gap_obj);\n  return (z2, f2) => {\n    const tmp = typeof w === \"number\" ? w : w(z2, f2);\n    if (g) {\n      return tmp + (typeof g === \"number\" ? g : g(z2, f2));\n    }\n    return tmp;\n  };\n}\nfunction getFont(obj, fontsubmap) {\n  const fontfaces = [];\n  for (const wanted_face of obj[\"text-font\"]) {\n    if (fontsubmap.hasOwnProperty(wanted_face)) {\n      fontfaces.push(fontsubmap[wanted_face]);\n    }\n  }\n  if (fontfaces.length === 0)\n    fontfaces.push({ face: \"sans-serif\" });\n  const text_size = obj[\"text-size\"];\n  let weight = \"\";\n  if (fontfaces.length && fontfaces[0].weight)\n    weight = `${fontfaces[0].weight} `;\n  let style = \"\";\n  if (fontfaces.length && fontfaces[0].style)\n    style = `${fontfaces[0].style} `;\n  if (typeof text_size === \"number\") {\n    return (z2) => `${style}${weight}${text_size}px ${fontfaces.map((f2) => f2.face).join(\", \")}`;\n  }\n  if (text_size.stops) {\n    let base = 1.4;\n    if (text_size.base)\n      base = text_size.base;\n    else\n      text_size.base = base;\n    const t2 = numberFn(text_size);\n    return (z2, f2) => {\n      return `${style}${weight}${t2(z2, f2)}px ${fontfaces.map((f3) => f3.face).join(\", \")}`;\n    };\n  }\n  if (text_size[0] === \"step\") {\n    const t2 = numberFn(text_size);\n    return (z2, f2) => {\n      return `${style}${weight}${t2(z2, f2)}px ${fontfaces.map((f3) => f3.face).join(\", \")}`;\n    };\n  }\n  console.log(\"Can't parse font: \", obj);\n  return (z2) => \"12px sans-serif\";\n}\nfunction json_style(obj, fontsubmap) {\n  const paint_rules = [];\n  const label_rules = [];\n  const refs = /* @__PURE__ */ new Map();\n  for (const layer of obj.layers) {\n    refs.set(layer.id, layer);\n    if (layer.layout && layer.layout.visibility === \"none\") {\n      continue;\n    }\n    if (layer.ref) {\n      const referenced = refs.get(layer.ref);\n      layer.type = referenced.type;\n      layer.filter = referenced.filter;\n      layer.source = referenced.source;\n      layer[\"source-layer\"] = referenced[\"source-layer\"];\n    }\n    const sourceLayer = layer[\"source-layer\"];\n    let symbolizer;\n    let filter = void 0;\n    if (layer.filter) {\n      filter = filterFn(layer.filter);\n    }\n    if (layer.type === \"fill\") {\n      paint_rules.push({\n        dataLayer: layer[\"source-layer\"],\n        filter,\n        symbolizer: new PolygonSymbolizer({\n          fill: layer.paint[\"fill-color\"],\n          opacity: layer.paint[\"fill-opacity\"]\n        })\n      });\n    } else if (layer.type === \"fill-extrusion\") {\n      paint_rules.push({\n        dataLayer: layer[\"source-layer\"],\n        filter,\n        symbolizer: new PolygonSymbolizer({\n          fill: layer.paint[\"fill-extrusion-color\"],\n          opacity: layer.paint[\"fill-extrusion-opacity\"]\n        })\n      });\n    } else if (layer.type === \"line\") {\n      if (layer.paint[\"line-dasharray\"]) {\n        paint_rules.push({\n          dataLayer: layer[\"source-layer\"],\n          filter,\n          symbolizer: new LineSymbolizer({\n            width: widthFn(\n              layer.paint[\"line-width\"],\n              layer.paint[\"line-gap-width\"]\n            ),\n            dash: layer.paint[\"line-dasharray\"],\n            dashColor: layer.paint[\"line-color\"]\n          })\n        });\n      } else {\n        paint_rules.push({\n          dataLayer: layer[\"source-layer\"],\n          filter,\n          symbolizer: new LineSymbolizer({\n            color: layer.paint[\"line-color\"],\n            width: widthFn(\n              layer.paint[\"line-width\"],\n              layer.paint[\"line-gap-width\"]\n            )\n          })\n        });\n      }\n    } else if (layer.type === \"symbol\") {\n      if (layer.layout[\"symbol-placement\"] === \"line\") {\n        label_rules.push({\n          dataLayer: layer[\"source-layer\"],\n          filter,\n          symbolizer: new LineLabelSymbolizer({\n            font: getFont(layer.layout, fontsubmap),\n            fill: layer.paint[\"text-color\"],\n            width: layer.paint[\"text-halo-width\"],\n            stroke: layer.paint[\"text-halo-color\"],\n            textTransform: layer.layout[\"text-transform\"],\n            label_props: layer.layout[\"text-field\"] ? [layer.layout[\"text-field\"]] : void 0\n          })\n        });\n      } else {\n        label_rules.push({\n          dataLayer: layer[\"source-layer\"],\n          filter,\n          symbolizer: new CenteredTextSymbolizer({\n            font: getFont(layer.layout, fontsubmap),\n            fill: layer.paint[\"text-color\"],\n            stroke: layer.paint[\"text-halo-color\"],\n            width: layer.paint[\"text-halo-width\"],\n            textTransform: layer.layout[\"text-transform\"],\n            label_props: layer.layout[\"text-field\"] ? [layer.layout[\"text-field\"]] : void 0\n          })\n        });\n      }\n    } else if (layer.type === \"circle\") {\n      paint_rules.push({\n        dataLayer: layer[\"source-layer\"],\n        filter,\n        symbolizer: new CircleSymbolizer({\n          radius: layer.paint[\"circle-radius\"],\n          fill: layer.paint[\"circle-color\"],\n          stroke: layer.paint[\"circle-stroke-color\"],\n          width: layer.paint[\"circle-stroke-width\"]\n        })\n      });\n    }\n  }\n  label_rules.reverse();\n  return { paint_rules, label_rules, tasks: [] };\n}\n\n// src/extra_styles/toner.ts\nvar Toner = (variant) => {\n  const halftone = createPattern(4, 4, (c2) => {\n    const ctx = c2.getContext(\"2d\");\n    if (ctx) {\n      ctx.beginPath();\n      ctx.rect(0, 0, 1, 1);\n      ctx.rect(2, 2, 1, 1);\n      ctx.fillStyle = \"black\";\n      ctx.fill();\n    }\n  });\n  let background = \"black\";\n  if (variant === \"lite\") {\n    background = \"#d9d9d9\";\n  }\n  const lang = [\"name:en\", \"name\"];\n  const paint_rules = [\n    {\n      dataLayer: \"earth\",\n      symbolizer: new PolygonSymbolizer({\n        fill: \"white\"\n      })\n    },\n    {\n      dataLayer: \"landuse\",\n      symbolizer: new PolygonSymbolizer({\n        pattern: halftone\n      }),\n      filter: (z2, f2) => {\n        return f2.props.leisure === \"park\";\n      }\n    },\n    {\n      dataLayer: \"water\",\n      symbolizer: new PolygonSymbolizer({\n        fill: background\n      })\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: new LineSymbolizer({\n        color: \"#dddddd\"\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"minor_road\";\n      }\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: new LineSymbolizer({\n        color: \"white\",\n        width: arr(16, [7, 9, 17, 20])\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"medium_road\";\n      }\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: new LineSymbolizer({\n        color: \"#cccccc\",\n        width: arr(10, [0.2, 0.2, 0.2, 0.4, 0.8, 1.5, 4, 7, 13, 16])\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"medium_road\";\n      }\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: new LineSymbolizer({\n        color: \"white\",\n        width: arr(11, [1.25, 5, 5, 5, 8, 11, 18, 22, 30])\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"major_road\";\n      }\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: new LineSymbolizer({\n        color: \"black\",\n        width: arr(9, [0.15, 0.5, 0.7, 1, 1.5, 1.9, 5, 7, 12, 18, 26])\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"major_road\";\n      }\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: new LineSymbolizer({\n        color: \"white\",\n        width: arr(7, [2.25, 3.25, 4.25, 5, 6, 7, 8, 9, 11, 14, 24, 42, 49])\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"highway\";\n      }\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: new LineSymbolizer({\n        color: \"black\",\n        width: arr(6, [0.1, 1.5, 1.5, 1.5, 2, 2.5, 3, 3, 4, 6, 9, 15, 28, 35])\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"highway\";\n      }\n    },\n    {\n      dataLayer: \"transit\",\n      symbolizer: new LineSymbolizer({\n        color: \"#888888\",\n        dashColor: \"#888888\",\n        dash: [1, 4],\n        dashWidth: 3\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"railway\";\n      },\n      minzoom: 14\n    },\n    {\n      dataLayer: \"transit\",\n      symbolizer: new LineSymbolizer({\n        color: \"#888888\"\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"railway\";\n      },\n      minzoom: 14\n    },\n    {\n      dataLayer: \"buildings\",\n      symbolizer: new LineSymbolizer({\n        color: \"#888888\",\n        width: 0.5\n      })\n    },\n    {\n      dataLayer: \"boundaries\",\n      symbolizer: new LineSymbolizer({\n        color: \"black\",\n        width: 1\n      }),\n      maxzoom: 6\n    },\n    {\n      dataLayer: \"boundaries\",\n      symbolizer: new LineSymbolizer({\n        color: \"white\",\n        width: 2.5,\n        dash: [3, 1],\n        dashWidth: 0.3,\n        dashColor: \"black\"\n      }),\n      minzoom: 7\n    }\n  ];\n  const label_rules = [\n    {\n      dataLayer: \"places\",\n      symbolizer: new CenteredTextSymbolizer({\n        label_props: lang,\n        fill: \"black\",\n        stroke: \"white\",\n        width: 1.5,\n        fontFamily: \"Inter\",\n        fontWeight: 300,\n        fontSize: 15,\n        justify: 2 /* Center */\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"country\";\n      }\n    },\n    {\n      dataLayer: \"places\",\n      symbolizer: new CenteredTextSymbolizer({\n        label_props: lang,\n        fill: \"black\",\n        stroke: \"white\",\n        width: 2,\n        fontFamily: \"Inter\",\n        fontWeight: 300,\n        fontSize: 12,\n        justify: 2 /* Center */\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"state\";\n      }\n    },\n    {\n      dataLayer: \"places\",\n      symbolizer: new GroupSymbolizer([\n        new CircleSymbolizer({\n          radius: 2,\n          fill: \"black\",\n          stroke: \"white\",\n          width: 2\n        }),\n        new OffsetTextSymbolizer({\n          label_props: lang,\n          offsetX: 3,\n          fill: \"black\",\n          stroke: \"white\",\n          width: 1.5,\n          fontFamily: \"Inter\",\n          fontWeight: 600,\n          fontSize: (z2, f2) => {\n            if ((f2 == null ? void 0 : f2.props[\"pmap:rank\"]) === 1)\n              return 15;\n            return 13;\n          }\n        })\n      ]),\n      sort: (a2, b) => {\n        return a2[\"pmap:rank\"] - b[\"pmap:rank\"];\n      },\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"city\";\n      },\n      maxzoom: 8\n    },\n    {\n      dataLayer: \"places\",\n      symbolizer: new CenteredTextSymbolizer({\n        label_props: lang,\n        justify: 2 /* Center */,\n        fill: \"black\",\n        stroke: \"white\",\n        width: 2,\n        fontFamily: \"Inter\",\n        fontWeight: 600,\n        fontSize: (z2, f2) => {\n          if ((f2 == null ? void 0 : f2.props[\"pmap:rank\"]) === 1)\n            return 15;\n          return 13;\n        }\n      }),\n      sort: (a2, b) => {\n        return a2[\"pmap:rank\"] - b[\"pmap:rank\"];\n      },\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"city\";\n      },\n      minzoom: 9\n    },\n    {\n      dataLayer: \"water\",\n      symbolizer: new PolygonLabelSymbolizer({\n        label_props: lang,\n        fill: \"white\",\n        stroke: \"black\",\n        width: 3,\n        font: \"italic 400 12px Inter\"\n      })\n    },\n    {\n      dataLayer: \"landuse\",\n      symbolizer: new PolygonLabelSymbolizer({\n        fill: \"black\",\n        stroke: \"white\",\n        width: 2,\n        font: \"italic 400 12px Inter\"\n      })\n    },\n    {\n      dataLayer: \"physical_point\",\n      symbolizer: new CenteredTextSymbolizer({\n        label_props: lang,\n        fill: \"white\",\n        stroke: \"black\",\n        width: 3,\n        font: \"italic 600 12px Inter\",\n        textTransform: \"uppercase\",\n        justify: 2 /* Center */\n      }),\n      filter: (z2, f2) => {\n        return [\"ocean\", \"sea\"].includes(f2.props.place);\n      }\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: new LineLabelSymbolizer({\n        fill: \"black\",\n        stroke: \"white\",\n        width: 2,\n        font: \"600 14px Inter\",\n        offset: 4\n      })\n    }\n  ];\n  return {\n    tasks: [\n      Font(\n        \"Inter\",\n        \"https://cdn.protomaps.com/fonts/woff2/Inter.var.woff2\",\n        \"100 900\"\n      )\n    ],\n    paint_rules,\n    label_rules,\n    attribution: 'Map tiles by <a href=\"http://stamen.com\">Stamen Design</a>, under <a href=\"http://creativecommons.org/licenses/by/3.0\">CC BY 3.0</a>.'\n  };\n};\nexport {\n  CenteredSymbolizer,\n  CenteredTextSymbolizer,\n  CircleSymbolizer,\n  FlexSymbolizer,\n  Font,\n  GeomType,\n  GroupSymbolizer,\n  IconSymbolizer,\n  Index,\n  Justify,\n  Labeler,\n  Labelers,\n  LineLabelPlacement,\n  LineLabelSymbolizer,\n  LineSymbolizer,\n  OffsetSymbolizer,\n  OffsetTextSymbolizer,\n  PMTiles,\n  Padding,\n  PmtilesSource,\n  PolygonLabelSymbolizer,\n  PolygonSymbolizer,\n  Sheet,\n  ShieldSymbolizer,\n  Static,\n  TextPlacements,\n  TextSymbolizer,\n  TileCache,\n  Toner,\n  View,\n  ZxySource,\n  arr,\n  covering,\n  createPattern,\n  cubicBezier,\n  dark,\n  exp,\n  filterFn,\n  getFont,\n  getZoom,\n  isCCW,\n  isInRing,\n  json_style,\n  labelRules,\n  leafletLayer,\n  light,\n  linear,\n  numberFn,\n  numberOrFn,\n  paintRules,\n  painter,\n  pointInPolygon,\n  pointMinDistToLines,\n  pointMinDistToPoints,\n  sourcesToViews,\n  step,\n  toIndex,\n  transformGeom,\n  widthFn,\n  wrap\n};\n/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\n", "import { init, getOptions } from \"./Modules/Leaflet.mjs\";\nimport { leafletLayer } from \"protomaps-leaflet\";\n\nfunction setLayerStyle(layer, style) {\n    switch (style) {\n        case \"dark\":\n            layer.setDefaultStyle(true);\n            break;\n        case \"grayscale\":\n        case \"white\":\n            layer.setDefaultStyle(false, \"white\");\n            break;\n        case \"black\":\n            layer.setDefaultStyle(true, \"black\");\n            break;\n        default:\n            layer.setDefaultStyle();\n            break;\n    }\n    layer.clearLayout();\n    layer.rerenderTiles();\n}\n\nasync function setOptions() {\n    const options = await getOptions();\n    const layerOptions = {\n        url: options.service.options.url,\n        attribution: options.service.options.attribution,\n        //dark,\n    };\n    init({ layerFunction: leafletLayer, layerOptions, options, setLayerStyle });\n}\n\nsetOptions();\n"],
  "mappings": "kFAAA,IAAIA,GAAW,OAAO,OAClBC,GAAY,OAAO,eACnBC,GAAmB,OAAO,yBAC1BC,GAAoB,OAAO,oBAC3BC,GAAsB,OAAO,sBAC7BC,GAAe,OAAO,eACtBC,GAAe,OAAO,UAAU,eAChCC,GAAe,OAAO,UAAU,qBAChCC,EAAQ,KAAK,IACbC,GAAkB,CAACC,EAAKC,EAAKC,IAAUD,KAAOD,EAAMT,GAAUS,EAAKC,EAAK,CAAE,WAAY,GAAM,aAAc,GAAM,SAAU,GAAM,MAAAC,CAAM,CAAC,EAAIF,EAAIC,CAAG,EAAIC,EACtJC,GAAiB,CAACC,EAAIC,IAAM,CAC9B,QAASC,KAAQD,IAAMA,EAAI,CAAC,GACtBT,GAAa,KAAKS,EAAGC,CAAI,GAC3BP,GAAgBK,EAAIE,EAAMD,EAAEC,CAAI,CAAC,EACrC,GAAIZ,GACF,QAASY,KAAQZ,GAAoBW,CAAC,EAChCR,GAAa,KAAKQ,EAAGC,CAAI,GAC3BP,GAAgBK,EAAIE,EAAMD,EAAEC,CAAI,CAAC,EAEvC,OAAOF,CACT,EACIG,EAAa,CAACC,EAAIC,IAAQ,UAAqB,CACjD,OAAOA,MAAWD,EAAGf,GAAkBe,CAAE,EAAE,CAAC,CAAC,IAAIC,EAAM,CAAE,QAAS,CAAC,CAAE,GAAG,QAASA,CAAG,EAAGA,EAAI,OAC7F,EACIC,GAAc,CAACC,EAAIC,EAAMC,EAAQC,IAAS,CAC5C,GAAIF,GAAQ,OAAOA,GAAS,UAAY,OAAOA,GAAS,WACtD,QAASX,KAAOR,GAAkBmB,CAAI,EAChC,CAAChB,GAAa,KAAKe,EAAIV,CAAG,GAAKA,IAAQY,GACzCtB,GAAUoB,EAAIV,EAAK,CAAE,IAAK,IAAMW,EAAKX,CAAG,EAAG,WAAY,EAAEa,EAAOtB,GAAiBoB,EAAMX,CAAG,IAAMa,EAAK,UAAW,CAAC,EAEvH,OAAOH,CACT,EACII,EAAU,CAACN,EAAKO,EAAYC,KAAYA,EAASR,GAAO,KAAOnB,GAASK,GAAac,CAAG,CAAC,EAAI,CAAC,EAAGC,GACnGM,GAAc,CAACP,GAAO,CAACA,EAAI,WAAalB,GAAU0B,EAAQ,UAAW,CAAE,MAAOR,EAAK,WAAY,EAAK,CAAC,EAAIQ,EACzGR,CACF,GACIS,GAAU,CAACC,EAAQC,EAAaC,IAC3B,IAAI,QAAQ,CAACC,EAASC,IAAW,CACtC,IAAIC,EAAatB,GAAU,CACzB,GAAI,CACFuB,EAAMJ,EAAU,KAAKnB,CAAK,CAAC,CAC7B,OAASwB,EAAI,CACXH,EAAOG,CAAE,CACX,CACF,EACIC,EAAYzB,GAAU,CACxB,GAAI,CACFuB,EAAMJ,EAAU,MAAMnB,CAAK,CAAC,CAC9B,OAASwB,EAAI,CACXH,EAAOG,CAAE,CACX,CACF,EACID,EAASG,GAAOA,EAAG,KAAON,EAAQM,EAAG,KAAK,EAAI,QAAQ,QAAQA,EAAG,KAAK,EAAE,KAAKJ,EAAWG,CAAQ,EACpGF,GAAOJ,EAAYA,EAAU,MAAMF,EAAQC,CAAW,GAAG,KAAK,CAAC,CACjE,CAAC,EAICS,GAAyBtB,EAAW,CACtC,+CAA+CuB,EAASC,EAAQ,CAC9D,aACAA,EAAO,QAAUC,EACjB,SAASA,EAAOJ,EAAIK,EAAG,CACrB,KAAK,EAAIL,EACT,KAAK,EAAIK,CACX,CACAD,EAAO,UAAY,CACjB,MAAO,UAAW,CAChB,OAAO,IAAIA,EAAO,KAAK,EAAG,KAAK,CAAC,CAClC,EACA,IAAK,SAASE,EAAI,CAChB,OAAO,KAAK,MAAM,EAAE,KAAKA,CAAE,CAC7B,EACA,IAAK,SAASA,EAAI,CAChB,OAAO,KAAK,MAAM,EAAE,KAAKA,CAAE,CAC7B,EACA,YAAa,SAASA,EAAI,CACxB,OAAO,KAAK,MAAM,EAAE,aAAaA,CAAE,CACrC,EACA,WAAY,SAASA,EAAI,CACvB,OAAO,KAAK,MAAM,EAAE,YAAYA,CAAE,CACpC,EACA,KAAM,SAASC,EAAG,CAChB,OAAO,KAAK,MAAM,EAAE,MAAMA,CAAC,CAC7B,EACA,IAAK,SAASA,EAAG,CACf,OAAO,KAAK,MAAM,EAAE,KAAKA,CAAC,CAC5B,EACA,OAAQ,SAAS/B,EAAI,CACnB,OAAO,KAAK,MAAM,EAAE,QAAQA,CAAE,CAChC,EACA,aAAc,SAASA,EAAI8B,EAAI,CAC7B,OAAO,KAAK,MAAM,EAAE,cAAc9B,EAAI8B,CAAE,CAC1C,EACA,QAAS,SAASE,EAAG,CACnB,OAAO,KAAK,MAAM,EAAE,SAASA,CAAC,CAChC,EACA,KAAM,UAAW,CACf,OAAO,KAAK,MAAM,EAAE,MAAM,CAC5B,EACA,KAAM,UAAW,CACf,OAAO,KAAK,MAAM,EAAE,MAAM,CAC5B,EACA,MAAO,UAAW,CAChB,OAAO,KAAK,MAAM,EAAE,OAAO,CAC7B,EACA,IAAK,UAAW,CACd,OAAO,KAAK,KAAK,KAAK,EAAI,KAAK,EAAI,KAAK,EAAI,KAAK,CAAC,CACpD,EACA,OAAQ,SAASC,EAAO,CACtB,OAAO,KAAK,IAAMA,EAAM,GAAK,KAAK,IAAMA,EAAM,CAChD,EACA,KAAM,SAASH,EAAI,CACjB,OAAO,KAAK,KAAK,KAAK,QAAQA,CAAE,CAAC,CACnC,EACA,QAAS,SAASA,EAAI,CACpB,IAAII,EAAKJ,EAAG,EAAI,KAAK,EAAGK,EAAKL,EAAG,EAAI,KAAK,EACzC,OAAOI,EAAKA,EAAKC,EAAKA,CACxB,EACA,MAAO,UAAW,CAChB,OAAO,KAAK,MAAM,KAAK,EAAG,KAAK,CAAC,CAClC,EACA,QAAS,SAASlC,EAAG,CACnB,OAAO,KAAK,MAAM,KAAK,EAAIA,EAAE,EAAG,KAAK,EAAIA,EAAE,CAAC,CAC9C,EACA,UAAW,SAASA,EAAG,CACrB,OAAO,KAAK,aAAaA,EAAE,EAAGA,EAAE,CAAC,CACnC,EACA,aAAc,SAASuB,EAAIK,EAAG,CAC5B,OAAO,KAAK,MACV,KAAK,EAAIA,EAAI,KAAK,EAAIL,EACtB,KAAK,EAAIA,EAAK,KAAK,EAAIK,CACzB,CACF,EACA,SAAU,SAASG,EAAG,CACpB,IAAIR,EAAKQ,EAAE,CAAC,EAAI,KAAK,EAAIA,EAAE,CAAC,EAAI,KAAK,EAAGH,EAAIG,EAAE,CAAC,EAAI,KAAK,EAAIA,EAAE,CAAC,EAAI,KAAK,EACxE,YAAK,EAAIR,EACT,KAAK,EAAIK,EACF,IACT,EACA,KAAM,SAASC,EAAI,CACjB,YAAK,GAAKA,EAAG,EACb,KAAK,GAAKA,EAAG,EACN,IACT,EACA,KAAM,SAASA,EAAI,CACjB,YAAK,GAAKA,EAAG,EACb,KAAK,GAAKA,EAAG,EACN,IACT,EACA,MAAO,SAASC,EAAG,CACjB,YAAK,GAAKA,EACV,KAAK,GAAKA,EACH,IACT,EACA,KAAM,SAASA,EAAG,CAChB,YAAK,GAAKA,EACV,KAAK,GAAKA,EACH,IACT,EACA,aAAc,SAASD,EAAI,CACzB,YAAK,GAAKA,EAAG,EACb,KAAK,GAAKA,EAAG,EACN,IACT,EACA,YAAa,SAASA,EAAI,CACxB,YAAK,GAAKA,EAAG,EACb,KAAK,GAAKA,EAAG,EACN,IACT,EACA,MAAO,UAAW,CAChB,YAAK,KAAK,KAAK,IAAI,CAAC,EACb,IACT,EACA,MAAO,UAAW,CAChB,IAAID,EAAI,KAAK,EACb,YAAK,EAAI,KAAK,EACd,KAAK,EAAI,CAACA,EACH,IACT,EACA,QAAS,SAASO,EAAO,CACvB,IAAIC,EAAM,KAAK,IAAID,CAAK,EAAGE,EAAM,KAAK,IAAIF,CAAK,EAAGZ,EAAKa,EAAM,KAAK,EAAIC,EAAM,KAAK,EAAGT,EAAIS,EAAM,KAAK,EAAID,EAAM,KAAK,EAClH,YAAK,EAAIb,EACT,KAAK,EAAIK,EACF,IACT,EACA,cAAe,SAASO,EAAON,EAAI,CACjC,IAAIO,EAAM,KAAK,IAAID,CAAK,EAAGE,EAAM,KAAK,IAAIF,CAAK,EAAGZ,EAAKM,EAAG,EAAIO,GAAO,KAAK,EAAIP,EAAG,GAAKQ,GAAO,KAAK,EAAIR,EAAG,GAAID,EAAIC,EAAG,EAAIQ,GAAO,KAAK,EAAIR,EAAG,GAAKO,GAAO,KAAK,EAAIP,EAAG,GACnK,YAAK,EAAIN,EACT,KAAK,EAAIK,EACF,IACT,EACA,OAAQ,UAAW,CACjB,YAAK,EAAI,KAAK,MAAM,KAAK,CAAC,EAC1B,KAAK,EAAI,KAAK,MAAM,KAAK,CAAC,EACnB,IACT,CACF,EACAD,EAAO,QAAU,SAAS5B,EAAI,CAC5B,OAAIA,aAAc4B,EACT5B,EAEL,MAAM,QAAQA,CAAE,EACX,IAAI4B,EAAO5B,EAAG,CAAC,EAAGA,EAAG,CAAC,CAAC,EAEzBA,CACT,CACF,CACF,CAAC,EAGGuC,GAAqBpC,EAAW,CAClC,2CAA2CuB,EAASC,EAAQ,CAC1DA,EAAO,QAAUa,EACjB,SAASA,EAAYC,EAAKC,EAAKC,EAAKC,EAAK,CACvC,KAAK,GAAK,EAAIH,EACd,KAAK,GAAK,GAAKE,EAAMF,GAAO,KAAK,GACjC,KAAK,GAAK,EAAI,KAAK,GAAK,KAAK,GAC7B,KAAK,GAAK,EAAIC,EACd,KAAK,GAAK,GAAKE,EAAMF,GAAO,KAAK,GACjC,KAAK,GAAK,EAAI,KAAK,GAAK,KAAK,GAC7B,KAAK,IAAMD,EACX,KAAK,IAAMG,EACX,KAAK,IAAMD,EACX,KAAK,IAAMC,CACb,CACAJ,EAAY,UAAU,aAAe,SAASK,EAAI,CAChD,QAAS,KAAK,GAAKA,EAAK,KAAK,IAAMA,EAAK,KAAK,IAAMA,CACrD,EACAL,EAAY,UAAU,aAAe,SAASK,EAAI,CAChD,QAAS,KAAK,GAAKA,EAAK,KAAK,IAAMA,EAAK,KAAK,IAAMA,CACrD,EACAL,EAAY,UAAU,uBAAyB,SAASK,EAAI,CAC1D,OAAQ,EAAI,KAAK,GAAKA,EAAK,EAAI,KAAK,IAAMA,EAAK,KAAK,EACtD,EACAL,EAAY,UAAU,YAAc,SAAShB,EAAIsB,EAAS,CACpD,OAAOA,EAAY,MACrBA,EAAU,MACZ,IAAIC,EAAIC,EAAIH,EAAII,EAAKC,EACrB,IAAKL,EAAKrB,EAAI0B,EAAK,EAAGA,EAAK,EAAGA,IAAM,CAElC,GADAD,EAAM,KAAK,aAAaJ,CAAE,EAAIrB,EAC1B,KAAK,IAAIyB,CAAG,EAAIH,EAClB,OAAOD,EACT,IAAIM,EAAK,KAAK,uBAAuBN,CAAE,EACvC,GAAI,KAAK,IAAIM,CAAE,EAAI,KACjB,MACFN,EAAKA,EAAKI,EAAME,CAClB,CAIA,GAHAJ,EAAK,EACLC,EAAK,EACLH,EAAKrB,EACDqB,EAAKE,EACP,OAAOA,EACT,GAAIF,EAAKG,EACP,OAAOA,EACT,KAAOD,EAAKC,GAAI,CAEd,GADAC,EAAM,KAAK,aAAaJ,CAAE,EACtB,KAAK,IAAII,EAAMzB,CAAE,EAAIsB,EACvB,OAAOD,EACLrB,EAAKyB,EACPF,EAAKF,EAELG,EAAKH,EAEPA,GAAMG,EAAKD,GAAM,GAAMA,CACzB,CACA,OAAOF,CACT,EACAL,EAAY,UAAU,MAAQ,SAAShB,EAAIsB,EAAS,CAClD,OAAO,KAAK,aAAa,KAAK,YAAYtB,EAAIsB,CAAO,CAAC,CACxD,CACF,CACF,CAAC,EAGGM,GAAoBjD,EAAW,CACjC,sCAAsCuB,EAASC,EAAQ,EACpD,SAAS0B,EAAQC,EAAS,CACzB,OAAO5B,GAAY,UAAY,OAAOC,EAAW,IAAcA,EAAO,QAAU2B,EAAQ,EAAI,OAAO,QAAW,YAAc,OAAO,IAAM,OAAOA,CAAO,GAAKD,EAASA,GAAU,KAAMA,EAAO,UAAYC,EAAQ,EAClN,GAAG5B,EAAS,UAAW,CACrB,aACA,IAAI6B,EAAY,SAAoBC,EAAMC,EAAU,CAQlD,GAPID,IAAS,SACXA,EAAO,CAAC,GACNC,IAAa,SACfA,EAAWC,GACb,KAAK,KAAOF,EACZ,KAAK,OAAS,KAAK,KAAK,OACxB,KAAK,QAAUC,EACX,KAAK,OAAS,EAChB,QAASP,GAAM,KAAK,QAAU,GAAK,EAAGA,GAAM,EAAGA,IAC7C,KAAK,MAAMA,CAAE,CAGnB,EACAK,EAAU,UAAU,KAAO,SAAcI,EAAM,CAC7C,KAAK,KAAK,KAAKA,CAAI,EACnB,KAAK,SACL,KAAK,IAAI,KAAK,OAAS,CAAC,CAC1B,EACAJ,EAAU,UAAU,IAAM,UAAe,CACvC,GAAI,KAAK,SAAW,EAGpB,KAAIK,EAAM,KAAK,KAAK,CAAC,EACjBC,EAAS,KAAK,KAAK,IAAI,EAC3B,YAAK,SACD,KAAK,OAAS,IAChB,KAAK,KAAK,CAAC,EAAIA,EACf,KAAK,MAAM,CAAC,GAEPD,EACT,EACAL,EAAU,UAAU,KAAO,UAAgB,CACzC,OAAO,KAAK,KAAK,CAAC,CACpB,EACAA,EAAU,UAAU,IAAM,SAAaO,EAAK,CAK1C,QAJIC,EAAM,KACNP,EAAOO,EAAI,KACXN,EAAWM,EAAI,QACfJ,EAAOH,EAAKM,CAAG,EACZA,EAAM,GAAG,CACd,IAAIE,EAASF,EAAM,GAAK,EACpBG,EAAUT,EAAKQ,CAAM,EACzB,GAAIP,EAASE,EAAMM,CAAO,GAAK,EAC7B,MAEFT,EAAKM,CAAG,EAAIG,EACZH,EAAME,CACR,CACAR,EAAKM,CAAG,EAAIH,CACd,EACAJ,EAAU,UAAU,MAAQ,SAAeO,EAAK,CAM9C,QALIC,EAAM,KACNP,EAAOO,EAAI,KACXN,EAAWM,EAAI,QACfG,EAAa,KAAK,QAAU,EAC5BP,EAAOH,EAAKM,CAAG,EACZA,EAAMI,GAAY,CACvB,IAAIC,GAAQL,GAAO,GAAK,EACpBM,EAAOZ,EAAKW,CAAI,EAChBE,EAAQF,EAAO,EAKnB,GAJIE,EAAQ,KAAK,QAAUZ,EAASD,EAAKa,CAAK,EAAGD,CAAI,EAAI,IACvDD,EAAOE,EACPD,EAAOZ,EAAKa,CAAK,GAEfZ,EAASW,EAAMT,CAAI,GAAK,EAC1B,MAEFH,EAAKM,CAAG,EAAIM,EACZN,EAAMK,CACR,CACAX,EAAKM,CAAG,EAAIH,CACd,EACA,SAASD,EAAe1D,EAAIC,EAAG,CAC7B,OAAOD,EAAKC,EAAI,GAAKD,EAAKC,EAAI,EAAI,CACpC,CACA,OAAOsD,CACT,CAAC,CACH,CACF,CAAC,EAGGe,GAAoBnE,EAAW,CACjC,sCAAsCuB,EAASC,EAAQ,CACrD,aACA,IAAI4C,EAAQnB,GAAkB,EAC1BmB,EAAM,UACRA,EAAQA,EAAM,SAChB5C,EAAO,QAAU6C,EACjB7C,EAAO,QAAQ,QAAU6C,EACzB,SAASA,EAAWC,EAASC,EAAWC,EAAO,CAC7CD,EAAYA,GAAa,EAEzB,QADIE,EAAMC,EAAMC,EAAMC,EACb7B,EAAK,EAAGA,EAAKuB,EAAQ,CAAC,EAAE,OAAQvB,IAAM,CAC7C,IAAIpB,EAAK2C,EAAQ,CAAC,EAAEvB,CAAE,GAClB,CAACA,GAAMpB,EAAG,CAAC,EAAI8C,KACjBA,EAAO9C,EAAG,CAAC,IACT,CAACoB,GAAMpB,EAAG,CAAC,EAAI+C,KACjBA,EAAO/C,EAAG,CAAC,IACT,CAACoB,GAAMpB,EAAG,CAAC,EAAIgD,KACjBA,EAAOhD,EAAG,CAAC,IACT,CAACoB,GAAMpB,EAAG,CAAC,EAAIiD,KACjBA,EAAOjD,EAAG,CAAC,EACf,CACA,IAAIkD,EAAQF,EAAOF,EACfK,EAASF,EAAOF,EAChBK,EAAW,KAAK,IAAIF,EAAOC,CAAM,EACjCE,EAAID,EAAW,EACnB,GAAIA,IAAa,EAAG,CAClB,IAAIE,EAAkC,CAACR,EAAMC,CAAI,EACjD,OAAAO,EAAgC,SAAW,EACpCA,CACT,CAEA,QADIC,EAAY,IAAId,EAAM,OAAQe,CAAU,EACnC9D,EAAKoD,EAAMpD,EAAKsD,EAAMtD,GAAM0D,EACnC,QAASrD,EAAIgD,EAAMhD,EAAIkD,EAAMlD,GAAKqD,EAChCG,EAAU,KAAK,IAAIE,EAAK/D,EAAK2D,EAAGtD,EAAIsD,EAAGA,EAAGV,CAAO,CAAC,EAGtD,IAAIe,EAAWC,EAAgBhB,CAAO,EAClCiB,EAAW,IAAIH,EAAKX,EAAOI,EAAQ,EAAGH,EAAOI,EAAS,EAAG,EAAGR,CAAO,EACnEiB,EAAS,EAAIF,EAAS,IACxBA,EAAWE,GAEb,QADIC,EAAYN,EAAU,OACnBA,EAAU,QAAQ,CACvB,IAAIO,EAAOP,EAAU,IAAI,EACrBO,EAAK,EAAIJ,EAAS,IACpBA,EAAWI,EACPjB,GACF,QAAQ,IAAI,gCAAiC,KAAK,MAAM,IAAMiB,EAAK,CAAC,EAAI,IAAKD,CAAS,GAEtF,EAAAC,EAAK,IAAMJ,EAAS,GAAKd,KAE7BS,EAAIS,EAAK,EAAI,EACbP,EAAU,KAAK,IAAIE,EAAKK,EAAK,EAAIT,EAAGS,EAAK,EAAIT,EAAGA,EAAGV,CAAO,CAAC,EAC3DY,EAAU,KAAK,IAAIE,EAAKK,EAAK,EAAIT,EAAGS,EAAK,EAAIT,EAAGA,EAAGV,CAAO,CAAC,EAC3DY,EAAU,KAAK,IAAIE,EAAKK,EAAK,EAAIT,EAAGS,EAAK,EAAIT,EAAGA,EAAGV,CAAO,CAAC,EAC3DY,EAAU,KAAK,IAAIE,EAAKK,EAAK,EAAIT,EAAGS,EAAK,EAAIT,EAAGA,EAAGV,CAAO,CAAC,EAC3DkB,GAAa,EACf,CACIhB,IACF,QAAQ,IAAI,eAAiBgB,CAAS,EACtC,QAAQ,IAAI,kBAAoBH,EAAS,CAAC,GAE5C,IAAIK,EAAwB,CAACL,EAAS,EAAGA,EAAS,CAAC,EACnD,OAAAK,EAAsB,SAAWL,EAAS,EACnCK,CACT,CACA,SAASP,EAAWtF,EAAIC,EAAG,CACzB,OAAOA,EAAE,IAAMD,EAAG,GACpB,CACA,SAASuF,EAAK/D,EAAIK,EAAGsD,EAAGV,EAAS,CAC/B,KAAK,EAAIjD,EACT,KAAK,EAAIK,EACT,KAAK,EAAIsD,EACT,KAAK,EAAIW,EAAmBtE,EAAIK,EAAG4C,CAAO,EAC1C,KAAK,IAAM,KAAK,EAAI,KAAK,EAAI,KAAK,KACpC,CACA,SAASqB,EAAmBtE,EAAIK,EAAG4C,EAAS,CAG1C,QAFIsB,EAAS,GACTC,EAAY,IACPjE,EAAI,EAAGA,EAAI0C,EAAQ,OAAQ1C,IAElC,QADIkE,EAAOxB,EAAQ1C,CAAC,EACXmB,EAAK,EAAGgD,EAAMD,EAAK,OAAQE,EAAID,EAAM,EAAGhD,EAAKgD,EAAKC,EAAIjD,IAAM,CACnE,IAAIlD,EAAKiG,EAAK/C,CAAE,EACZjD,EAAIgG,EAAKE,CAAC,EACVnG,EAAG,CAAC,EAAI6B,GAAM5B,EAAE,CAAC,EAAI4B,GAAKL,GAAMvB,EAAE,CAAC,EAAID,EAAG,CAAC,IAAM6B,EAAI7B,EAAG,CAAC,IAAMC,EAAE,CAAC,EAAID,EAAG,CAAC,GAAKA,EAAG,CAAC,IACrF+F,EAAS,CAACA,GACZC,EAAY,KAAK,IAAIA,EAAWI,EAAa5E,EAAIK,EAAG7B,EAAIC,CAAC,CAAC,CAC5D,CAEF,OAAO+F,IAAc,EAAI,GAAKD,EAAS,EAAI,IAAM,KAAK,KAAKC,CAAS,CACtE,CACA,SAASP,EAAgBhB,EAAS,CAKhC,QAJI4B,EAAO,EACP7E,EAAK,EACLK,EAAI,EACJyE,EAAS7B,EAAQ,CAAC,EACbvB,EAAK,EAAGgD,EAAMI,EAAO,OAAQH,EAAID,EAAM,EAAGhD,EAAKgD,EAAKC,EAAIjD,IAAM,CACrE,IAAIlD,EAAKsG,EAAOpD,CAAE,EACdjD,EAAIqG,EAAOH,CAAC,EACZI,EAAKvG,EAAG,CAAC,EAAIC,EAAE,CAAC,EAAIA,EAAE,CAAC,EAAID,EAAG,CAAC,EACnCwB,IAAOxB,EAAG,CAAC,EAAIC,EAAE,CAAC,GAAKsG,EACvB1E,IAAM7B,EAAG,CAAC,EAAIC,EAAE,CAAC,GAAKsG,EACtBF,GAAQE,EAAK,CACf,CACA,OAAIF,IAAS,EACJ,IAAId,EAAKe,EAAO,CAAC,EAAE,CAAC,EAAGA,EAAO,CAAC,EAAE,CAAC,EAAG,EAAG7B,CAAO,EACjD,IAAIc,EAAK/D,EAAK6E,EAAMxE,EAAIwE,EAAM,EAAG5B,CAAO,CACjD,CACA,SAAS2B,EAAaI,EAAIC,EAAIzG,EAAIC,EAAG,CACnC,IAAIuB,EAAKxB,EAAG,CAAC,EACT6B,EAAI7B,EAAG,CAAC,EACRkC,EAAKjC,EAAE,CAAC,EAAIuB,EACZW,EAAKlC,EAAE,CAAC,EAAI4B,EAChB,GAAIK,IAAO,GAAKC,IAAO,EAAG,CACxB,IAAIU,IAAO2D,EAAKhF,GAAMU,GAAMuE,EAAK5E,GAAKM,IAAOD,EAAKA,EAAKC,EAAKA,GACxDU,EAAK,GACPrB,EAAKvB,EAAE,CAAC,EACR4B,EAAI5B,EAAE,CAAC,GACE4C,EAAK,IACdrB,GAAMU,EAAKW,EACXhB,GAAKM,EAAKU,EAEd,CACA,OAAAX,EAAKsE,EAAKhF,EACVW,EAAKsE,EAAK5E,EACHK,EAAKA,EAAKC,EAAKA,CACxB,CACF,CACF,CAAC,EAGGuE,GAA4BvG,EAAW,CACzC,4DAA4DuB,EAASC,EAAQ,CAC3E,aACA,IAAIC,EAASH,GAAuB,EACpCE,EAAO,QAAUgF,EACjB,SAASA,EAAkBC,EAAKC,EAAKC,EAAQC,EAAMC,EAAQ,CACzD,KAAK,WAAa,CAAC,EACnB,KAAK,OAASF,EACd,KAAK,KAAO,EACZ,KAAK,KAAOF,EACZ,KAAK,UAAY,GACjB,KAAK,MAAQG,EACb,KAAK,QAAUC,EACfJ,EAAI,WAAWK,EAAa,KAAMJ,CAAG,CACvC,CACA,SAASI,EAAYC,EAAKC,EAASP,EAAK,CAClCM,GAAO,EACTC,EAAQ,GAAKP,EAAI,WAAW,EACrBM,GAAO,EACdE,EAAQR,EAAKO,CAAO,EACbD,GAAO,EACdC,EAAQ,KAAOP,EAAI,WAAW,EACvBM,GAAO,IACdC,EAAQ,UAAYP,EAAI,IAC5B,CACA,SAASQ,EAAQR,EAAKO,EAAS,CAE7B,QADIN,EAAMD,EAAI,WAAW,EAAIA,EAAI,IAC1BA,EAAI,IAAMC,GAAK,CACpB,IAAIhH,EAAMsH,EAAQ,MAAMP,EAAI,WAAW,CAAC,EAAG9G,EAAQqH,EAAQ,QAAQP,EAAI,WAAW,CAAC,EACnFO,EAAQ,WAAWtH,CAAG,EAAIC,CAC5B,CACF,CACA6G,EAAkB,MAAQ,CAAC,UAAW,QAAS,aAAc,SAAS,EACtEA,EAAkB,UAAU,aAAe,UAAW,CACpD,IAAIC,EAAM,KAAK,KACfA,EAAI,IAAM,KAAK,UAEf,QADIC,EAAMD,EAAI,WAAW,EAAIA,EAAI,IAAKS,EAAM,EAAGC,EAAS,EAAG9F,EAAK,EAAGK,EAAI,EAAG0F,EAAQ,CAAC,EAAGC,EAC/EZ,EAAI,IAAMC,GAAK,CACpB,GAAIS,GAAU,EAAG,CACf,IAAIG,EAASb,EAAI,WAAW,EAC5BS,EAAMI,EAAS,EACfH,EAASG,GAAU,CACrB,CAEA,GADAH,IACID,IAAQ,GAAKA,IAAQ,EACvB7F,GAAMoF,EAAI,YAAY,EACtB/E,GAAK+E,EAAI,YAAY,EACjBS,IAAQ,IACNG,GACFD,EAAM,KAAKC,CAAI,EACjBA,EAAO,CAAC,GAEVA,EAAK,KAAK,IAAI5F,EAAOJ,EAAIK,CAAC,CAAC,UAClBwF,IAAQ,EACbG,GACFA,EAAK,KAAKA,EAAK,CAAC,EAAE,MAAM,CAAC,MAG3B,OAAM,IAAI,MAAM,mBAAqBH,CAAG,CAE5C,CACA,OAAIG,GACFD,EAAM,KAAKC,CAAI,EACVD,CACT,EACAZ,EAAkB,UAAU,KAAO,UAAW,CAC5C,IAAIC,EAAM,KAAK,KACfA,EAAI,IAAM,KAAK,UAEf,QADIC,EAAMD,EAAI,WAAW,EAAIA,EAAI,IAAKS,EAAM,EAAGC,EAAS,EAAG9F,EAAK,EAAGK,EAAI,EAAG6F,EAAK,IAAUzE,EAAM,KAAW0E,EAAK,IAAUC,EAAK,KACvHhB,EAAI,IAAMC,GAAK,CACpB,GAAIS,GAAU,EAAG,CACf,IAAIG,EAASb,EAAI,WAAW,EAC5BS,EAAMI,EAAS,EACfH,EAASG,GAAU,CACrB,CAEA,GADAH,IACID,IAAQ,GAAKA,IAAQ,EACvB7F,GAAMoF,EAAI,YAAY,EACtB/E,GAAK+E,EAAI,YAAY,EACjBpF,EAAKkG,IACPA,EAAKlG,GACHA,EAAKyB,IACPA,EAAMzB,GACJK,EAAI8F,IACNA,EAAK9F,GACHA,EAAI+F,IACNA,EAAK/F,WACEwF,IAAQ,EACjB,MAAM,IAAI,MAAM,mBAAqBA,CAAG,CAE5C,CACA,MAAO,CAACK,EAAIC,EAAI1E,EAAK2E,CAAE,CACzB,EACAjB,EAAkB,UAAU,UAAY,SAASnF,EAAIK,EAAGgG,EAAI,CAC1D,IAAIC,EAAO,KAAK,OAAS,KAAK,IAAI,EAAGD,CAAE,EAAGE,EAAK,KAAK,OAASvG,EAAIwG,EAAK,KAAK,OAASnG,EAAGoG,EAAS,KAAK,aAAa,EAAGC,EAAOvB,EAAkB,MAAM,KAAK,IAAI,EAAGzD,EAAIiD,EACpK,SAASgC,EAASX,EAAM,CACtB,QAASY,EAAK,EAAGA,EAAKZ,EAAK,OAAQY,IAAM,CACvC,IAAItG,EAAK0F,EAAKY,CAAE,EAAGR,EAAK,KAAO9F,EAAG,EAAIkG,GAAM,IAAMF,EAClDN,EAAKY,CAAE,EAAI,EACRtG,EAAG,EAAIiG,GAAM,IAAMD,EAAO,IAC3B,IAAM,KAAK,GAAK,KAAK,KAAK,KAAK,IAAIF,EAAK,KAAK,GAAK,GAAG,CAAC,EAAI,EAC5D,CACF,CACF,CACA,OAAQ,KAAK,KAAM,CACjB,IAAK,GACH,IAAItB,EAAS,CAAC,EACd,IAAKpD,EAAK,EAAGA,EAAK+E,EAAO,OAAQ/E,IAC/BoD,EAAOpD,CAAE,EAAI+E,EAAO/E,CAAE,EAAE,CAAC,EAE3B+E,EAAS3B,EACT6B,EAASF,CAAM,EACf,MACF,IAAK,GACH,IAAK/E,EAAK,EAAGA,EAAK+E,EAAO,OAAQ/E,IAC/BiF,EAASF,EAAO/E,CAAE,CAAC,EAErB,MACF,IAAK,GAEH,IADA+E,EAASI,EAAcJ,CAAM,EACxB/E,EAAK,EAAGA,EAAK+E,EAAO,OAAQ/E,IAC/B,IAAKiD,EAAI,EAAGA,EAAI8B,EAAO/E,CAAE,EAAE,OAAQiD,IACjCgC,EAASF,EAAO/E,CAAE,EAAEiD,CAAC,CAAC,EAG1B,KACJ,CACI8B,EAAO,SAAW,EACpBA,EAASA,EAAO,CAAC,EAEjBC,EAAO,QAAUA,EAEnB,IAAII,EAAS,CACX,KAAM,UACN,SAAU,CACR,KAAAJ,EACA,YAAaD,CACf,EACA,WAAY,KAAK,UACnB,EACA,MAAI,OAAQ,OACVK,EAAO,GAAK,KAAK,IAEZA,CACT,EACA,SAASD,EAAcE,EAAO,CAC5B,IAAIrC,EAAMqC,EAAM,OAChB,GAAIrC,GAAO,EACT,MAAO,CAACqC,CAAK,EAEf,QADIC,EAAW,CAAC,EAAG/D,EAASgE,EACnBvF,EAAK,EAAGA,EAAKgD,EAAKhD,IAAM,CAC/B,IAAImD,EAAOqC,EAAWH,EAAMrF,CAAE,CAAC,EAC3BmD,IAAS,IAEToC,IAAQ,SACVA,EAAMpC,EAAO,GACXoC,IAAQpC,EAAO,GACb5B,GACF+D,EAAS,KAAK/D,CAAO,EACvBA,EAAU,CAAC8D,EAAMrF,CAAE,CAAC,GAEpBuB,EAAQ,KAAK8D,EAAMrF,CAAE,CAAC,EAE1B,CACA,OAAIuB,GACF+D,EAAS,KAAK/D,CAAO,EAChB+D,CACT,CACA,SAASE,EAAWzC,EAAM,CAExB,QADI0C,EAAM,EACDzF,EAAK,EAAGgD,EAAMD,EAAK,OAAQE,EAAID,EAAM,EAAG0C,EAAI9G,EAAIoB,EAAKgD,EAAKC,EAAIjD,IACrE0F,EAAK3C,EAAK/C,CAAE,EACZpB,EAAKmE,EAAKE,CAAC,EACXwC,IAAQ7G,EAAG,EAAI8G,EAAG,IAAMA,EAAG,EAAI9G,EAAG,GAEpC,OAAO6G,CACT,CACF,CACF,CAAC,EAGGE,GAA0B1I,EAAW,CACvC,0DAA0DuB,EAASC,EAAQ,CACzE,aACA,IAAIgF,EAAoBD,GAA0B,EAClD/E,EAAO,QAAUmH,EACjB,SAASA,EAAgBlC,EAAKC,EAAK,CACjC,KAAK,QAAU,EACf,KAAK,KAAO,KACZ,KAAK,OAAS,KACd,KAAK,OAAS,EACd,KAAK,KAAOD,EACZ,KAAK,MAAQ,CAAC,EACd,KAAK,QAAU,CAAC,EAChB,KAAK,UAAY,CAAC,EAClBA,EAAI,WAAWmC,EAAW,KAAMlC,CAAG,EACnC,KAAK,OAAS,KAAK,UAAU,MAC/B,CACA,SAASkC,EAAU7B,EAAK8B,EAAOpC,EAAK,CAC9BM,IAAQ,GACV8B,EAAM,QAAUpC,EAAI,WAAW,EACxBM,IAAQ,EACf8B,EAAM,KAAOpC,EAAI,WAAW,EACrBM,IAAQ,EACf8B,EAAM,OAASpC,EAAI,WAAW,EACvBM,IAAQ,EACf8B,EAAM,UAAU,KAAKpC,EAAI,GAAG,EACrBM,IAAQ,EACf8B,EAAM,MAAM,KAAKpC,EAAI,WAAW,CAAC,EAC1BM,IAAQ,GACf8B,EAAM,QAAQ,KAAKC,EAAiBrC,CAAG,CAAC,CAC5C,CACA,SAASqC,EAAiBrC,EAAK,CAE7B,QADI9G,EAAQ,KAAM+G,EAAMD,EAAI,WAAW,EAAIA,EAAI,IACxCA,EAAI,IAAMC,GAAK,CACpB,IAAIK,EAAMN,EAAI,WAAW,GAAK,EAC9B9G,EAAQoH,IAAQ,EAAIN,EAAI,WAAW,EAAIM,IAAQ,EAAIN,EAAI,UAAU,EAAIM,IAAQ,EAAIN,EAAI,WAAW,EAAIM,IAAQ,EAAIN,EAAI,aAAa,EAAIM,IAAQ,EAAIN,EAAI,WAAW,EAAIM,IAAQ,EAAIN,EAAI,YAAY,EAAIM,IAAQ,EAAIN,EAAI,YAAY,EAAI,IACtO,CACA,OAAO9G,CACT,CACAgJ,EAAgB,UAAU,QAAU,SAAS5F,EAAI,CAC/C,GAAIA,EAAK,GAAKA,GAAM,KAAK,UAAU,OACjC,MAAM,IAAI,MAAM,6BAA6B,EAC/C,KAAK,KAAK,IAAM,KAAK,UAAUA,CAAE,EACjC,IAAI2D,EAAM,KAAK,KAAK,WAAW,EAAI,KAAK,KAAK,IAC7C,OAAO,IAAIF,EAAkB,KAAK,KAAME,EAAK,KAAK,OAAQ,KAAK,MAAO,KAAK,OAAO,CACpF,CACF,CACF,CAAC,EAGGqC,GAAqB/I,EAAW,CAClC,qDAAqDuB,EAASC,EAAQ,CACpE,aACA,IAAImH,EAAkBD,GAAwB,EAC9ClH,EAAO,QAAUwH,EACjB,SAASA,EAAYvC,EAAKC,EAAK,CAC7B,KAAK,OAASD,EAAI,WAAWwC,EAAU,CAAC,EAAGvC,CAAG,CAChD,CACA,SAASuC,EAASlC,EAAKmC,EAAQzC,EAAK,CAClC,GAAIM,IAAQ,EAAG,CACb,IAAI8B,EAAQ,IAAIF,EAAgBlC,EAAKA,EAAI,WAAW,EAAIA,EAAI,GAAG,EAC3DoC,EAAM,SACRK,EAAOL,EAAM,IAAI,EAAIA,EACzB,CACF,CACF,CACF,CAAC,EAGGM,GAAsBnJ,EAAW,CACnC,4CAA4CuB,EAASC,EAAQ,CAC3DA,EAAO,QAAQ,WAAauH,GAAmB,EAC/CvH,EAAO,QAAQ,kBAAoB+E,GAA0B,EAC7D/E,EAAO,QAAQ,gBAAkBkH,GAAwB,CAC3D,CACF,CAAC,EAGGU,GAAkBpJ,EAAW,CAC/B,gCAAgCuB,EAAS,CACvCA,EAAQ,KAAO,SAAS8H,EAAQC,EAAQC,EAAMC,EAAMC,EAAQ,CAC1D,IAAItI,EAAIU,EACJ6H,EAAOD,EAAS,EAAID,EAAO,EAC3BG,GAAQ,GAAKD,GAAQ,EACrBE,EAAQD,GAAQ,EAChBE,EAAQ,GACR9G,EAAKwG,EAAOE,EAAS,EAAI,EACzBK,EAAIP,EAAO,GAAK,EAChBQ,EAAKV,EAAOC,EAASvG,CAAE,EAK3B,IAJAA,GAAM+G,EACN3I,EAAK4I,GAAM,GAAK,CAACF,GAAS,EAC1BE,IAAO,CAACF,EACRA,GAASH,EACFG,EAAQ,EAAG1I,EAAKA,EAAK,IAAMkI,EAAOC,EAASvG,CAAE,EAAGA,GAAM+G,EAAGD,GAAS,EAAG,CAK5E,IAHAhI,EAAIV,GAAM,GAAK,CAAC0I,GAAS,EACzB1I,IAAO,CAAC0I,EACRA,GAASL,EACFK,EAAQ,EAAGhI,EAAIA,EAAI,IAAMwH,EAAOC,EAASvG,CAAE,EAAGA,GAAM+G,EAAGD,GAAS,EAAG,CAE1E,GAAI1I,IAAO,EACTA,EAAK,EAAIyI,MACJ,IAAIzI,IAAOwI,EAChB,OAAO9H,EAAI,KAAOkI,EAAK,GAAK,GAAK,MAEjClI,EAAIA,EAAI,KAAK,IAAI,EAAG2H,CAAI,EACxBrI,EAAKA,EAAKyI,EAEZ,OAAQG,EAAK,GAAK,GAAKlI,EAAI,KAAK,IAAI,EAAGV,EAAKqI,CAAI,CAClD,EACAjI,EAAQ,MAAQ,SAAS8H,EAAQ1J,EAAO2J,EAAQC,EAAMC,EAAMC,EAAQ,CAClE,IAAItI,EAAIU,EAAGmI,EACPN,EAAOD,EAAS,EAAID,EAAO,EAC3BG,GAAQ,GAAKD,GAAQ,EACrBE,EAAQD,GAAQ,EAChBM,EAAKT,IAAS,GAAK,KAAK,IAAI,EAAG,GAAG,EAAI,KAAK,IAAI,EAAG,GAAG,EAAI,EACzDzG,EAAKwG,EAAO,EAAIE,EAAS,EACzBK,EAAIP,EAAO,EAAI,GACfQ,EAAKpK,EAAQ,GAAKA,IAAU,GAAK,EAAIA,EAAQ,EAAI,EAAI,EA+BzD,IA9BAA,EAAQ,KAAK,IAAIA,CAAK,EAClB,MAAMA,CAAK,GAAKA,IAAU,KAC5BkC,EAAI,MAAMlC,CAAK,EAAI,EAAI,EACvBwB,EAAKwI,IAELxI,EAAK,KAAK,MAAM,KAAK,IAAIxB,CAAK,EAAI,KAAK,GAAG,EACtCA,GAASqK,EAAK,KAAK,IAAI,EAAG,CAAC7I,CAAE,GAAK,IACpCA,IACA6I,GAAM,GAEJ7I,EAAKyI,GAAS,EAChBjK,GAASsK,EAAKD,EAEdrK,GAASsK,EAAK,KAAK,IAAI,EAAG,EAAIL,CAAK,EAEjCjK,EAAQqK,GAAM,IAChB7I,IACA6I,GAAM,GAEJ7I,EAAKyI,GAASD,GAChB9H,EAAI,EACJV,EAAKwI,GACIxI,EAAKyI,GAAS,GACvB/H,GAAKlC,EAAQqK,EAAK,GAAK,KAAK,IAAI,EAAGR,CAAI,EACvCrI,EAAKA,EAAKyI,IAEV/H,EAAIlC,EAAQ,KAAK,IAAI,EAAGiK,EAAQ,CAAC,EAAI,KAAK,IAAI,EAAGJ,CAAI,EACrDrI,EAAK,IAGFqI,GAAQ,EAAGH,EAAOC,EAASvG,CAAE,EAAIlB,EAAI,IAAKkB,GAAM+G,EAAGjI,GAAK,IAAK2H,GAAQ,EAAG,CAI/E,IAFArI,EAAKA,GAAMqI,EAAO3H,EAClB6H,GAAQF,EACDE,EAAO,EAAGL,EAAOC,EAASvG,CAAE,EAAI5B,EAAK,IAAK4B,GAAM+G,EAAG3I,GAAM,IAAKuI,GAAQ,EAAG,CAEhFL,EAAOC,EAASvG,EAAK+G,CAAC,GAAKC,EAAK,GAClC,CACF,CACF,CAAC,EAGGG,GAAclK,EAAW,CAC3B,4BAA4BuB,EAASC,EAAQ,CAC3C,aACAA,EAAO,QAAU2I,EACjB,IAAIC,EAAUhB,GAAgB,EAC9B,SAASe,EAAIE,EAAK,CAChB,KAAK,IAAM,YAAY,QAAU,YAAY,OAAOA,CAAG,EAAIA,EAAM,IAAI,WAAWA,GAAO,CAAC,EACxF,KAAK,IAAM,EACX,KAAK,KAAO,EACZ,KAAK,OAAS,KAAK,IAAI,MACzB,CACAF,EAAI,OAAS,EACbA,EAAI,QAAU,EACdA,EAAI,MAAQ,EACZA,EAAI,QAAU,EACd,IAAIG,EAAiB,MAAY,MAC7BC,EAAiB,EAAID,EACrBE,EAA0B,GAC1BC,EAAkB,OAAO,YAAgB,IAAc,KAAO,IAAI,YAAY,MAAM,EACxFN,EAAI,UAAY,CACd,QAAS,UAAW,CAClB,KAAK,IAAM,IACb,EACA,WAAY,SAASO,EAAWvC,EAAQzB,EAAK,CAE3C,IADAA,EAAMA,GAAO,KAAK,OACX,KAAK,IAAMA,GAAK,CACrB,IAAIiE,EAAM,KAAK,WAAW,EAAG5D,EAAM4D,GAAO,EAAGC,EAAW,KAAK,IAC7D,KAAK,KAAOD,EAAM,EAClBD,EAAU3D,EAAKoB,EAAQ,IAAI,EACvB,KAAK,MAAQyC,GACf,KAAK,KAAKD,CAAG,CACjB,CACA,OAAOxC,CACT,EACA,YAAa,SAASuC,EAAWvC,EAAQ,CACvC,OAAO,KAAK,WAAWuC,EAAWvC,EAAQ,KAAK,WAAW,EAAI,KAAK,GAAG,CACxE,EACA,YAAa,UAAW,CACtB,IAAIwC,EAAME,EAAW,KAAK,IAAK,KAAK,GAAG,EACvC,YAAK,KAAO,EACLF,CACT,EACA,aAAc,UAAW,CACvB,IAAIA,EAAMG,EAAU,KAAK,IAAK,KAAK,GAAG,EACtC,YAAK,KAAO,EACLH,CACT,EACA,YAAa,UAAW,CACtB,IAAIA,EAAME,EAAW,KAAK,IAAK,KAAK,GAAG,EAAIA,EAAW,KAAK,IAAK,KAAK,IAAM,CAAC,EAAIP,EAChF,YAAK,KAAO,EACLK,CACT,EACA,aAAc,UAAW,CACvB,IAAIA,EAAME,EAAW,KAAK,IAAK,KAAK,GAAG,EAAIC,EAAU,KAAK,IAAK,KAAK,IAAM,CAAC,EAAIR,EAC/E,YAAK,KAAO,EACLK,CACT,EACA,UAAW,UAAW,CACpB,IAAIA,EAAMP,EAAQ,KAAK,KAAK,IAAK,KAAK,IAAK,GAAM,GAAI,CAAC,EACtD,YAAK,KAAO,EACLO,CACT,EACA,WAAY,UAAW,CACrB,IAAIA,EAAMP,EAAQ,KAAK,KAAK,IAAK,KAAK,IAAK,GAAM,GAAI,CAAC,EACtD,YAAK,KAAO,EACLO,CACT,EACA,WAAY,SAASI,EAAU,CAC7B,IAAIV,EAAM,KAAK,IAAKM,EAAK7K,EAezB,OAdAA,EAAIuK,EAAI,KAAK,KAAK,EAClBM,EAAM7K,EAAI,IACNA,EAAI,MAERA,EAAIuK,EAAI,KAAK,KAAK,EAClBM,IAAQ7K,EAAI,MAAQ,EAChBA,EAAI,OAERA,EAAIuK,EAAI,KAAK,KAAK,EAClBM,IAAQ7K,EAAI,MAAQ,GAChBA,EAAI,OAERA,EAAIuK,EAAI,KAAK,KAAK,EAClBM,IAAQ7K,EAAI,MAAQ,GAChBA,EAAI,KACC6K,GACT7K,EAAIuK,EAAI,KAAK,GAAG,EAChBM,IAAQ7K,EAAI,KAAO,GACZkL,EAAqBL,EAAKI,EAAU,IAAI,EACjD,EACA,aAAc,UAAW,CACvB,OAAO,KAAK,WAAW,EAAI,CAC7B,EACA,YAAa,UAAW,CACtB,IAAIE,EAAM,KAAK,WAAW,EAC1B,OAAOA,EAAM,IAAM,GAAKA,EAAM,GAAK,GAAKA,EAAM,CAChD,EACA,YAAa,UAAW,CACtB,MAAO,EAAQ,KAAK,WAAW,CACjC,EACA,WAAY,UAAW,CACrB,IAAIvE,EAAM,KAAK,WAAW,EAAI,KAAK,IAC/B/C,EAAM,KAAK,IAEf,OADA,KAAK,IAAM+C,EACPA,EAAM/C,GAAO6G,GAA2BC,EACnCS,EAAoB,KAAK,IAAKvH,EAAK+C,CAAG,EAExCyE,EAAS,KAAK,IAAKxH,EAAK+C,CAAG,CACpC,EACA,UAAW,UAAW,CACpB,IAAIA,EAAM,KAAK,WAAW,EAAI,KAAK,IAAK2C,EAAS,KAAK,IAAI,SAAS,KAAK,IAAK3C,CAAG,EAChF,YAAK,IAAMA,EACJ2C,CACT,EACA,iBAAkB,SAAS+B,EAAML,EAAU,CACzC,GAAI,KAAK,OAASZ,EAAI,MACpB,OAAOiB,EAAK,KAAK,KAAK,WAAWL,CAAQ,CAAC,EAC5C,IAAIrE,EAAM2E,EAAc,IAAI,EAE5B,IADAD,EAAOA,GAAQ,CAAC,EACT,KAAK,IAAM1E,GAChB0E,EAAK,KAAK,KAAK,WAAWL,CAAQ,CAAC,EACrC,OAAOK,CACT,EACA,kBAAmB,SAASA,EAAM,CAChC,GAAI,KAAK,OAASjB,EAAI,MACpB,OAAOiB,EAAK,KAAK,KAAK,YAAY,CAAC,EACrC,IAAI1E,EAAM2E,EAAc,IAAI,EAE5B,IADAD,EAAOA,GAAQ,CAAC,EACT,KAAK,IAAM1E,GAChB0E,EAAK,KAAK,KAAK,YAAY,CAAC,EAC9B,OAAOA,CACT,EACA,kBAAmB,SAASA,EAAM,CAChC,GAAI,KAAK,OAASjB,EAAI,MACpB,OAAOiB,EAAK,KAAK,KAAK,YAAY,CAAC,EACrC,IAAI1E,EAAM2E,EAAc,IAAI,EAE5B,IADAD,EAAOA,GAAQ,CAAC,EACT,KAAK,IAAM1E,GAChB0E,EAAK,KAAK,KAAK,YAAY,CAAC,EAC9B,OAAOA,CACT,EACA,gBAAiB,SAASA,EAAM,CAC9B,GAAI,KAAK,OAASjB,EAAI,MACpB,OAAOiB,EAAK,KAAK,KAAK,UAAU,CAAC,EACnC,IAAI1E,EAAM2E,EAAc,IAAI,EAE5B,IADAD,EAAOA,GAAQ,CAAC,EACT,KAAK,IAAM1E,GAChB0E,EAAK,KAAK,KAAK,UAAU,CAAC,EAC5B,OAAOA,CACT,EACA,iBAAkB,SAASA,EAAM,CAC/B,GAAI,KAAK,OAASjB,EAAI,MACpB,OAAOiB,EAAK,KAAK,KAAK,WAAW,CAAC,EACpC,IAAI1E,EAAM2E,EAAc,IAAI,EAE5B,IADAD,EAAOA,GAAQ,CAAC,EACT,KAAK,IAAM1E,GAChB0E,EAAK,KAAK,KAAK,WAAW,CAAC,EAC7B,OAAOA,CACT,EACA,kBAAmB,SAASA,EAAM,CAChC,GAAI,KAAK,OAASjB,EAAI,MACpB,OAAOiB,EAAK,KAAK,KAAK,YAAY,CAAC,EACrC,IAAI1E,EAAM2E,EAAc,IAAI,EAE5B,IADAD,EAAOA,GAAQ,CAAC,EACT,KAAK,IAAM1E,GAChB0E,EAAK,KAAK,KAAK,YAAY,CAAC,EAC9B,OAAOA,CACT,EACA,mBAAoB,SAASA,EAAM,CACjC,GAAI,KAAK,OAASjB,EAAI,MACpB,OAAOiB,EAAK,KAAK,KAAK,aAAa,CAAC,EACtC,IAAI1E,EAAM2E,EAAc,IAAI,EAE5B,IADAD,EAAOA,GAAQ,CAAC,EACT,KAAK,IAAM1E,GAChB0E,EAAK,KAAK,KAAK,aAAa,CAAC,EAC/B,OAAOA,CACT,EACA,kBAAmB,SAASA,EAAM,CAChC,GAAI,KAAK,OAASjB,EAAI,MACpB,OAAOiB,EAAK,KAAK,KAAK,YAAY,CAAC,EACrC,IAAI1E,EAAM2E,EAAc,IAAI,EAE5B,IADAD,EAAOA,GAAQ,CAAC,EACT,KAAK,IAAM1E,GAChB0E,EAAK,KAAK,KAAK,YAAY,CAAC,EAC9B,OAAOA,CACT,EACA,mBAAoB,SAASA,EAAM,CACjC,GAAI,KAAK,OAASjB,EAAI,MACpB,OAAOiB,EAAK,KAAK,KAAK,aAAa,CAAC,EACtC,IAAI1E,EAAM2E,EAAc,IAAI,EAE5B,IADAD,EAAOA,GAAQ,CAAC,EACT,KAAK,IAAM1E,GAChB0E,EAAK,KAAK,KAAK,aAAa,CAAC,EAC/B,OAAOA,CACT,EACA,KAAM,SAAST,EAAK,CAClB,IAAI5C,EAAO4C,EAAM,EACjB,GAAI5C,IAASoC,EAAI,OACf,KAAO,KAAK,IAAI,KAAK,KAAK,EAAI,KAAK,SAE5BpC,IAASoC,EAAI,MACpB,KAAK,IAAM,KAAK,WAAW,EAAI,KAAK,YAC7BpC,IAASoC,EAAI,QACpB,KAAK,KAAO,UACLpC,IAASoC,EAAI,QACpB,KAAK,KAAO,MAEZ,OAAM,IAAI,MAAM,uBAAyBpC,CAAI,CACjD,EACA,SAAU,SAAShB,EAAKgB,EAAM,CAC5B,KAAK,YAAYhB,GAAO,EAAIgB,CAAI,CAClC,EACA,QAAS,SAASuD,EAAK,CAErB,QADInE,EAAS,KAAK,QAAU,GACrBA,EAAS,KAAK,IAAMmE,GACzBnE,GAAU,EACZ,GAAIA,IAAW,KAAK,OAAQ,CAC1B,IAAIkD,EAAM,IAAI,WAAWlD,CAAM,EAC/BkD,EAAI,IAAI,KAAK,GAAG,EAChB,KAAK,IAAMA,EACX,KAAK,OAASlD,CAChB,CACF,EACA,OAAQ,UAAW,CACjB,YAAK,OAAS,KAAK,IACnB,KAAK,IAAM,EACJ,KAAK,IAAI,SAAS,EAAG,KAAK,MAAM,CACzC,EACA,aAAc,SAASwD,EAAK,CAC1B,KAAK,QAAQ,CAAC,EACdY,EAAW,KAAK,IAAKZ,EAAK,KAAK,GAAG,EAClC,KAAK,KAAO,CACd,EACA,cAAe,SAASA,EAAK,CAC3B,KAAK,QAAQ,CAAC,EACdY,EAAW,KAAK,IAAKZ,EAAK,KAAK,GAAG,EAClC,KAAK,KAAO,CACd,EACA,aAAc,SAASA,EAAK,CAC1B,KAAK,QAAQ,CAAC,EACdY,EAAW,KAAK,IAAKZ,EAAM,GAAI,KAAK,GAAG,EACvCY,EAAW,KAAK,IAAK,KAAK,MAAMZ,EAAMJ,CAAc,EAAG,KAAK,IAAM,CAAC,EACnE,KAAK,KAAO,CACd,EACA,cAAe,SAASI,EAAK,CAC3B,KAAK,QAAQ,CAAC,EACdY,EAAW,KAAK,IAAKZ,EAAM,GAAI,KAAK,GAAG,EACvCY,EAAW,KAAK,IAAK,KAAK,MAAMZ,EAAMJ,CAAc,EAAG,KAAK,IAAM,CAAC,EACnE,KAAK,KAAO,CACd,EACA,YAAa,SAASI,EAAK,CAEzB,GADAA,EAAM,CAACA,GAAO,EACVA,EAAM,WAAaA,EAAM,EAAG,CAC9Ba,EAAeb,EAAK,IAAI,EACxB,MACF,CACA,KAAK,QAAQ,CAAC,EACd,KAAK,IAAI,KAAK,KAAK,EAAIA,EAAM,KAAOA,EAAM,IAAM,IAAM,GAClD,EAAAA,GAAO,OAEX,KAAK,IAAI,KAAK,KAAK,GAAKA,KAAS,GAAK,KAAOA,EAAM,IAAM,IAAM,GAC3D,EAAAA,GAAO,OAEX,KAAK,IAAI,KAAK,KAAK,GAAKA,KAAS,GAAK,KAAOA,EAAM,IAAM,IAAM,GAC3D,EAAAA,GAAO,OAEX,KAAK,IAAI,KAAK,KAAK,EAAIA,IAAQ,EAAI,MACrC,EACA,aAAc,SAASA,EAAK,CAC1B,KAAK,YAAYA,EAAM,EAAI,CAACA,EAAM,EAAI,EAAIA,EAAM,CAAC,CACnD,EACA,aAAc,SAASA,EAAK,CAC1B,KAAK,YAAY,EAAQA,CAAI,CAC/B,EACA,YAAa,SAASc,EAAK,CACzBA,EAAM,OAAOA,CAAG,EAChB,KAAK,QAAQA,EAAI,OAAS,CAAC,EAC3B,KAAK,MACL,IAAIb,EAAW,KAAK,IACpB,KAAK,IAAMc,EAAU,KAAK,IAAKD,EAAK,KAAK,GAAG,EAC5C,IAAI1F,EAAM,KAAK,IAAM6E,EACjB7E,GAAO,KACT4F,EAAuBf,EAAU7E,EAAK,IAAI,EAC5C,KAAK,IAAM6E,EAAW,EACtB,KAAK,YAAY7E,CAAG,EACpB,KAAK,KAAOA,CACd,EACA,WAAY,SAAS4E,EAAK,CACxB,KAAK,QAAQ,CAAC,EACdP,EAAQ,MAAM,KAAK,IAAKO,EAAK,KAAK,IAAK,GAAM,GAAI,CAAC,EAClD,KAAK,KAAO,CACd,EACA,YAAa,SAASA,EAAK,CACzB,KAAK,QAAQ,CAAC,EACdP,EAAQ,MAAM,KAAK,IAAKO,EAAK,KAAK,IAAK,GAAM,GAAI,CAAC,EAClD,KAAK,KAAO,CACd,EACA,WAAY,SAAStB,EAAQ,CAC3B,IAAItD,EAAMsD,EAAO,OACjB,KAAK,YAAYtD,CAAG,EACpB,KAAK,QAAQA,CAAG,EAChB,QAAShD,EAAK,EAAGA,EAAKgD,EAAKhD,IACzB,KAAK,IAAI,KAAK,KAAK,EAAIsG,EAAOtG,CAAE,CACpC,EACA,gBAAiB,SAAS6I,EAAInM,EAAK,CACjC,KAAK,MACL,IAAImL,EAAW,KAAK,IACpBgB,EAAGnM,EAAK,IAAI,EACZ,IAAIsG,EAAM,KAAK,IAAM6E,EACjB7E,GAAO,KACT4F,EAAuBf,EAAU7E,EAAK,IAAI,EAC5C,KAAK,IAAM6E,EAAW,EACtB,KAAK,YAAY7E,CAAG,EACpB,KAAK,KAAOA,CACd,EACA,aAAc,SAASgB,EAAK6E,EAAInM,EAAK,CACnC,KAAK,SAASsH,EAAKoD,EAAI,KAAK,EAC5B,KAAK,gBAAgByB,EAAInM,CAAG,CAC9B,EACA,kBAAmB,SAASsH,EAAKqE,EAAM,CACjCA,EAAK,QACP,KAAK,aAAarE,EAAK8E,EAAmBT,CAAI,CAClD,EACA,mBAAoB,SAASrE,EAAKqE,EAAM,CAClCA,EAAK,QACP,KAAK,aAAarE,EAAK+E,EAAoBV,CAAI,CACnD,EACA,mBAAoB,SAASrE,EAAKqE,EAAM,CAClCA,EAAK,QACP,KAAK,aAAarE,EAAKgF,EAAoBX,CAAI,CACnD,EACA,iBAAkB,SAASrE,EAAKqE,EAAM,CAChCA,EAAK,QACP,KAAK,aAAarE,EAAKiF,EAAkBZ,CAAI,CACjD,EACA,kBAAmB,SAASrE,EAAKqE,EAAM,CACjCA,EAAK,QACP,KAAK,aAAarE,EAAKkF,EAAmBb,CAAI,CAClD,EACA,mBAAoB,SAASrE,EAAKqE,EAAM,CAClCA,EAAK,QACP,KAAK,aAAarE,EAAKmF,EAAoBd,CAAI,CACnD,EACA,oBAAqB,SAASrE,EAAKqE,EAAM,CACnCA,EAAK,QACP,KAAK,aAAarE,EAAKoF,EAAqBf,CAAI,CACpD,EACA,mBAAoB,SAASrE,EAAKqE,EAAM,CAClCA,EAAK,QACP,KAAK,aAAarE,EAAKqF,EAAoBhB,CAAI,CACnD,EACA,oBAAqB,SAASrE,EAAKqE,EAAM,CACnCA,EAAK,QACP,KAAK,aAAarE,EAAKsF,EAAqBjB,CAAI,CACpD,EACA,gBAAiB,SAASrE,EAAKsC,EAAQ,CACrC,KAAK,SAAStC,EAAKoD,EAAI,KAAK,EAC5B,KAAK,WAAWd,CAAM,CACxB,EACA,kBAAmB,SAAStC,EAAK4D,EAAK,CACpC,KAAK,SAAS5D,EAAKoD,EAAI,OAAO,EAC9B,KAAK,aAAaQ,CAAG,CACvB,EACA,mBAAoB,SAAS5D,EAAK4D,EAAK,CACrC,KAAK,SAAS5D,EAAKoD,EAAI,OAAO,EAC9B,KAAK,cAAcQ,CAAG,CACxB,EACA,kBAAmB,SAAS5D,EAAK4D,EAAK,CACpC,KAAK,SAAS5D,EAAKoD,EAAI,OAAO,EAC9B,KAAK,aAAaQ,CAAG,CACvB,EACA,mBAAoB,SAAS5D,EAAK4D,EAAK,CACrC,KAAK,SAAS5D,EAAKoD,EAAI,OAAO,EAC9B,KAAK,cAAcQ,CAAG,CACxB,EACA,iBAAkB,SAAS5D,EAAK4D,EAAK,CACnC,KAAK,SAAS5D,EAAKoD,EAAI,MAAM,EAC7B,KAAK,YAAYQ,CAAG,CACtB,EACA,kBAAmB,SAAS5D,EAAK4D,EAAK,CACpC,KAAK,SAAS5D,EAAKoD,EAAI,MAAM,EAC7B,KAAK,aAAaQ,CAAG,CACvB,EACA,iBAAkB,SAAS5D,EAAK0E,EAAK,CACnC,KAAK,SAAS1E,EAAKoD,EAAI,KAAK,EAC5B,KAAK,YAAYsB,CAAG,CACtB,EACA,gBAAiB,SAAS1E,EAAK4D,EAAK,CAClC,KAAK,SAAS5D,EAAKoD,EAAI,OAAO,EAC9B,KAAK,WAAWQ,CAAG,CACrB,EACA,iBAAkB,SAAS5D,EAAK4D,EAAK,CACnC,KAAK,SAAS5D,EAAKoD,EAAI,OAAO,EAC9B,KAAK,YAAYQ,CAAG,CACtB,EACA,kBAAmB,SAAS5D,EAAK4D,EAAK,CACpC,KAAK,iBAAiB5D,EAAK,EAAQ4D,CAAI,CACzC,CACF,EACA,SAASK,EAAqBsB,EAAIvC,EAAIpI,EAAI,CACxC,IAAI0I,EAAM1I,EAAG,IAAKqD,EAAGlF,EAuBrB,GAtBAA,EAAIuK,EAAI1I,EAAG,KAAK,EAChBqD,GAAKlF,EAAI,MAAQ,EACbA,EAAI,MAERA,EAAIuK,EAAI1I,EAAG,KAAK,EAChBqD,IAAMlF,EAAI,MAAQ,EACdA,EAAI,OAERA,EAAIuK,EAAI1I,EAAG,KAAK,EAChBqD,IAAMlF,EAAI,MAAQ,GACdA,EAAI,OAERA,EAAIuK,EAAI1I,EAAG,KAAK,EAChBqD,IAAMlF,EAAI,MAAQ,GACdA,EAAI,OAERA,EAAIuK,EAAI1I,EAAG,KAAK,EAChBqD,IAAMlF,EAAI,MAAQ,GACdA,EAAI,OAERA,EAAIuK,EAAI1I,EAAG,KAAK,EAChBqD,IAAMlF,EAAI,IAAM,GACZA,EAAI,KACN,OAAOyM,EAAOD,EAAItH,EAAG+E,CAAE,EACzB,MAAM,IAAI,MAAM,wCAAwC,CAC1D,CACA,SAASsB,EAAc5E,EAAK,CAC1B,OAAOA,EAAI,OAAS0D,EAAI,MAAQ1D,EAAI,WAAW,EAAIA,EAAI,IAAMA,EAAI,IAAM,CACzE,CACA,SAAS8F,EAAOC,EAAKC,EAAM1B,EAAU,CACnC,OAAIA,EACK0B,EAAO,YAAcD,IAAQ,IAE9BC,IAAS,GAAK,YAAcD,IAAQ,EAC9C,CACA,SAAShB,EAAeb,EAAKlE,EAAK,CAChC,IAAI+F,EAAKC,EAcT,GAbI9B,GAAO,GACT6B,EAAM7B,EAAM,WAAa,EACzB8B,EAAO9B,EAAM,WAAa,IAE1B6B,EAAM,EAAE,CAAC7B,EAAM,YACf8B,EAAO,EAAE,CAAC9B,EAAM,YACZ6B,EAAM,WACRA,EAAMA,EAAM,EAAI,GAEhBA,EAAM,EACNC,EAAOA,EAAO,EAAI,IAGlB9B,GAAO,qBAAuBA,EAAM,qBACtC,MAAM,IAAI,MAAM,wCAAwC,EAE1DlE,EAAI,QAAQ,EAAE,EACdiG,EAAkBF,EAAKC,EAAMhG,CAAG,EAChCkG,EAAmBF,EAAMhG,CAAG,CAC9B,CACA,SAASiG,EAAkBF,EAAKC,EAAMhG,EAAK,CACzCA,EAAI,IAAIA,EAAI,KAAK,EAAI+F,EAAM,IAAM,IACjCA,KAAS,EACT/F,EAAI,IAAIA,EAAI,KAAK,EAAI+F,EAAM,IAAM,IACjCA,KAAS,EACT/F,EAAI,IAAIA,EAAI,KAAK,EAAI+F,EAAM,IAAM,IACjCA,KAAS,EACT/F,EAAI,IAAIA,EAAI,KAAK,EAAI+F,EAAM,IAAM,IACjCA,KAAS,EACT/F,EAAI,IAAIA,EAAI,GAAG,EAAI+F,EAAM,GAC3B,CACA,SAASG,EAAmBF,EAAMhG,EAAK,CACrC,IAAImG,GAAOH,EAAO,IAAM,EACxBhG,EAAI,IAAIA,EAAI,KAAK,GAAKmG,IAAQH,KAAU,GAAK,IAAM,GAC9CA,IAELhG,EAAI,IAAIA,EAAI,KAAK,EAAIgG,EAAO,MAAQA,KAAU,GAAK,IAAM,GACpDA,IAELhG,EAAI,IAAIA,EAAI,KAAK,EAAIgG,EAAO,MAAQA,KAAU,GAAK,IAAM,GACpDA,IAELhG,EAAI,IAAIA,EAAI,KAAK,EAAIgG,EAAO,MAAQA,KAAU,GAAK,IAAM,GACpDA,IAELhG,EAAI,IAAIA,EAAI,KAAK,EAAIgG,EAAO,MAAQA,KAAU,GAAK,IAAM,GACpDA,IAELhG,EAAI,IAAIA,EAAI,KAAK,EAAIgG,EAAO,QAC9B,CACA,SAASd,EAAuBf,EAAU7E,EAAKU,EAAK,CAClD,IAAIoG,EAAW9G,GAAO,MAAQ,EAAIA,GAAO,QAAU,EAAIA,GAAO,UAAY,EAAI,KAAK,MAAM,KAAK,IAAIA,CAAG,GAAK,KAAK,IAAM,EAAE,EACvHU,EAAI,QAAQoG,CAAQ,EACpB,QAAS9J,EAAK0D,EAAI,IAAM,EAAG1D,GAAM6H,EAAU7H,IACzC0D,EAAI,IAAI1D,EAAK8J,CAAQ,EAAIpG,EAAI,IAAI1D,CAAE,CACvC,CACA,SAAS8I,EAAkBT,EAAM3E,EAAK,CACpC,QAAS1D,EAAK,EAAGA,EAAKqI,EAAK,OAAQrI,IACjC0D,EAAI,YAAY2E,EAAKrI,CAAE,CAAC,CAC5B,CACA,SAAS+I,EAAmBV,EAAM3E,EAAK,CACrC,QAAS1D,EAAK,EAAGA,EAAKqI,EAAK,OAAQrI,IACjC0D,EAAI,aAAa2E,EAAKrI,CAAE,CAAC,CAC7B,CACA,SAASiJ,EAAiBZ,EAAM3E,EAAK,CACnC,QAAS1D,EAAK,EAAGA,EAAKqI,EAAK,OAAQrI,IACjC0D,EAAI,WAAW2E,EAAKrI,CAAE,CAAC,CAC3B,CACA,SAASkJ,EAAkBb,EAAM3E,EAAK,CACpC,QAAS1D,EAAK,EAAGA,EAAKqI,EAAK,OAAQrI,IACjC0D,EAAI,YAAY2E,EAAKrI,CAAE,CAAC,CAC5B,CACA,SAASgJ,EAAmBX,EAAM3E,EAAK,CACrC,QAAS1D,EAAK,EAAGA,EAAKqI,EAAK,OAAQrI,IACjC0D,EAAI,aAAa2E,EAAKrI,CAAE,CAAC,CAC7B,CACA,SAASmJ,EAAmBd,EAAM3E,EAAK,CACrC,QAAS1D,EAAK,EAAGA,EAAKqI,EAAK,OAAQrI,IACjC0D,EAAI,aAAa2E,EAAKrI,CAAE,CAAC,CAC7B,CACA,SAASoJ,EAAoBf,EAAM3E,EAAK,CACtC,QAAS1D,EAAK,EAAGA,EAAKqI,EAAK,OAAQrI,IACjC0D,EAAI,cAAc2E,EAAKrI,CAAE,CAAC,CAC9B,CACA,SAASqJ,EAAmBhB,EAAM3E,EAAK,CACrC,QAAS1D,EAAK,EAAGA,EAAKqI,EAAK,OAAQrI,IACjC0D,EAAI,aAAa2E,EAAKrI,CAAE,CAAC,CAC7B,CACA,SAASsJ,EAAoBjB,EAAM3E,EAAK,CACtC,QAAS1D,EAAK,EAAGA,EAAKqI,EAAK,OAAQrI,IACjC0D,EAAI,cAAc2E,EAAKrI,CAAE,CAAC,CAC9B,CACA,SAAS8H,EAAWR,EAAK1G,EAAK,CAC5B,OAAQ0G,EAAI1G,CAAG,EAAI0G,EAAI1G,EAAM,CAAC,GAAK,EAAI0G,EAAI1G,EAAM,CAAC,GAAK,IAAM0G,EAAI1G,EAAM,CAAC,EAAI,QAC9E,CACA,SAAS4H,EAAWlB,EAAKM,EAAKhH,EAAK,CACjC0G,EAAI1G,CAAG,EAAIgH,EACXN,EAAI1G,EAAM,CAAC,EAAIgH,IAAQ,EACvBN,EAAI1G,EAAM,CAAC,EAAIgH,IAAQ,GACvBN,EAAI1G,EAAM,CAAC,EAAIgH,IAAQ,EACzB,CACA,SAASG,EAAUT,EAAK1G,EAAK,CAC3B,OAAQ0G,EAAI1G,CAAG,EAAI0G,EAAI1G,EAAM,CAAC,GAAK,EAAI0G,EAAI1G,EAAM,CAAC,GAAK,KAAO0G,EAAI1G,EAAM,CAAC,GAAK,GAChF,CACA,SAASwH,EAASd,EAAK1G,EAAK+C,EAAK,CAG/B,QAFI+E,EAAM,GACN1I,EAAKY,EACFZ,EAAK2D,GAAK,CACf,IAAIoG,EAAKzC,EAAItH,CAAE,EACXiH,EAAK,KACL+C,EAAmBD,EAAK,IAAM,EAAIA,EAAK,IAAM,EAAIA,EAAK,IAAM,EAAI,EACpE,GAAI/J,EAAKgK,EAAmBrG,EAC1B,MACF,IAAIsG,EAAIC,EAAIC,GACRH,IAAqB,EACnBD,EAAK,MACP9C,EAAK8C,GAEEC,IAAqB,GAC9BC,EAAK3C,EAAItH,EAAK,CAAC,GACViK,EAAK,OAAS,MACjBhD,GAAM8C,EAAK,KAAO,EAAIE,EAAK,GACvBhD,GAAM,MACRA,EAAK,QAGA+C,IAAqB,GAC9BC,EAAK3C,EAAItH,EAAK,CAAC,EACfkK,EAAK5C,EAAItH,EAAK,CAAC,GACViK,EAAK,OAAS,MAAQC,EAAK,OAAS,MACvCjD,GAAM8C,EAAK,KAAO,IAAME,EAAK,KAAO,EAAIC,EAAK,IACzCjD,GAAM,MAAQA,GAAM,OAASA,GAAM,SACrCA,EAAK,QAGA+C,IAAqB,IAC9BC,EAAK3C,EAAItH,EAAK,CAAC,EACfkK,EAAK5C,EAAItH,EAAK,CAAC,EACfmK,GAAK7C,EAAItH,EAAK,CAAC,GACViK,EAAK,OAAS,MAAQC,EAAK,OAAS,MAAQC,GAAK,OAAS,MAC7DlD,GAAM8C,EAAK,KAAO,IAAME,EAAK,KAAO,IAAMC,EAAK,KAAO,EAAIC,GAAK,IAC3DlD,GAAM,OAASA,GAAM,WACvBA,EAAK,QAIPA,IAAO,MACTA,EAAK,MACL+C,EAAmB,GACV/C,EAAK,QACdA,GAAM,MACNyB,GAAO,OAAO,aAAazB,IAAO,GAAK,KAAO,KAAK,EACnDA,EAAK,MAAQA,EAAK,MAEpByB,GAAO,OAAO,aAAazB,CAAE,EAC7BjH,GAAMgK,CACR,CACA,OAAOtB,CACT,CACA,SAASP,EAAoBb,EAAK1G,EAAK+C,EAAK,CAC1C,OAAO+D,EAAgB,OAAOJ,EAAI,SAAS1G,EAAK+C,CAAG,CAAC,CACtD,CACA,SAASgF,EAAUrB,EAAKoB,EAAK9H,EAAK,CAChC,QAASZ,EAAK,EAAGiH,EAAImD,EAAMpK,EAAK0I,EAAI,OAAQ1I,IAAM,CAEhD,GADAiH,EAAKyB,EAAI,WAAW1I,CAAE,EAClBiH,EAAK,OAASA,EAAK,MACrB,GAAImD,EACF,GAAInD,EAAK,MAAO,CACdK,EAAI1G,GAAK,EAAI,IACb0G,EAAI1G,GAAK,EAAI,IACb0G,EAAI1G,GAAK,EAAI,IACbwJ,EAAOnD,EACP,QACF,MACEA,EAAKmD,EAAO,OAAS,GAAKnD,EAAK,MAAQ,MACvCmD,EAAO,SAEJ,CACDnD,EAAK,OAASjH,EAAK,IAAM0I,EAAI,QAC/BpB,EAAI1G,GAAK,EAAI,IACb0G,EAAI1G,GAAK,EAAI,IACb0G,EAAI1G,GAAK,EAAI,KAEbwJ,EAAOnD,EAET,QACF,MACSmD,IACT9C,EAAI1G,GAAK,EAAI,IACb0G,EAAI1G,GAAK,EAAI,IACb0G,EAAI1G,GAAK,EAAI,IACbwJ,EAAO,MAELnD,EAAK,IACPK,EAAI1G,GAAK,EAAIqG,GAETA,EAAK,KACPK,EAAI1G,GAAK,EAAIqG,GAAM,EAAI,KAEnBA,EAAK,MACPK,EAAI1G,GAAK,EAAIqG,GAAM,GAAK,KAExBK,EAAI1G,GAAK,EAAIqG,GAAM,GAAK,IACxBK,EAAI1G,GAAK,EAAIqG,GAAM,GAAK,GAAK,KAE/BK,EAAI1G,GAAK,EAAIqG,GAAM,EAAI,GAAK,KAE9BK,EAAI1G,GAAK,EAAIqG,EAAK,GAAK,IAE3B,CACA,OAAOrG,CACT,CACF,CACF,CAAC,EAGGyJ,GAAoBpN,EAAW,CACjC,kCAAkCuB,EAASC,EAAQ,EAChD,SAASkB,EAAIK,EAAI,CACJ,OAAOxB,GAAnB,UAA6C,OAAOC,EAAtB,IAA+BA,EAAO,QAAUuB,EAAG,EAAkB,OAAO,QAArB,YAA+B,OAAO,IAAM,OAAOA,CAAE,GAAKL,EAAKA,GAAM,MAAM,MAAQK,EAAG,CAC7K,GAAExB,EAAS,UAAW,CACpB,aACA,SAASmB,EAAG2K,EAAIC,EAAIC,EAAIC,EAAIC,EAAI,EAC7B,SAASC,EAAGC,EAAIC,EAAIC,EAAIC,EAAIC,EAAI,CAC/B,KAAOD,EAAKD,GAAM,CAChB,GAAIC,EAAKD,EAAK,IAAK,CACjB,IAAIG,EAAKF,EAAKD,EAAK,EAAGI,EAAKL,EAAKC,EAAK,EAAGK,EAAK,KAAK,IAAIF,CAAE,EAAGG,EAAK,GAAM,KAAK,IAAI,EAAID,EAAK,CAAC,EAAGE,EAAK,GAAM,KAAK,KAAKF,EAAKC,GAAMH,EAAKG,GAAMH,CAAE,GAAKC,EAAKD,EAAK,EAAI,EAAI,GAAK,GAAIK,EAAK,KAAK,IAAIR,EAAI,KAAK,MAAMD,EAAKK,EAAKE,EAAKH,EAAKI,CAAE,CAAC,EAAGE,EAAK,KAAK,IAAIR,EAAI,KAAK,MAAMF,GAAMI,EAAKC,GAAME,EAAKH,EAAKI,CAAE,CAAC,EAC3RV,EAAGC,EAAIC,EAAIS,EAAIC,EAAIP,CAAE,CACvB,CACA,IAAIQ,EAAKZ,EAAGC,CAAE,EAAG5K,EAAK6K,EAAIxM,EAAKyM,EAC/B,IAAK/K,EAAG4K,EAAIE,EAAID,CAAE,EAAGG,EAAGJ,EAAGG,CAAE,EAAGS,CAAE,EAAI,GAAKxL,EAAG4K,EAAIE,EAAIC,CAAE,EAAG9K,EAAK3B,GAAM,CACpE,IAAK0B,EAAG4K,EAAI3K,EAAI3B,CAAE,EAAG2B,IAAM3B,IAAM0M,EAAGJ,EAAG3K,CAAE,EAAGuL,CAAE,EAAI,GAChDvL,IACF,KAAO+K,EAAGJ,EAAGtM,CAAE,EAAGkN,CAAE,EAAI,GACtBlN,GACJ,CACM0M,EAAGJ,EAAGE,CAAE,EAAGU,CAAE,IAAnB,EAAuBxL,EAAG4K,EAAIE,EAAIxM,CAAE,EAAI0B,EAAG4K,EAAI,EAAEtM,EAAIyM,CAAE,EAAGzM,GAAMuM,IAAOC,EAAKxM,EAAK,GAAIuM,GAAMvM,IAAOyM,EAAKzM,EAAK,EAC9G,CACF,GAAEgM,EAAIC,EAAIC,GAAM,EAAGC,GAAMH,EAAG,OAAS,EAAGI,GAAMe,CAAE,CAClD,CACA,SAASzL,EAAGsK,EAAIoB,EAAId,EAAI,CACtB,IAAIL,EAAKD,EAAGoB,CAAE,EACdpB,EAAGoB,CAAE,EAAIpB,EAAGM,CAAE,EAAGN,EAAGM,CAAE,EAAIL,CAC5B,CACA,SAASkB,EAAGnB,EAAIoB,EAAI,CAClB,OAAOpB,EAAKoB,EAAK,GAAKpB,EAAKoB,EAAK,EAAI,CACtC,CACA,IAAIC,EAAK,SAASrB,EAAI,CACTA,IAAX,SAAkBA,EAAK,GAAI,KAAK,YAAc,KAAK,IAAI,EAAGA,CAAE,EAAG,KAAK,YAAc,KAAK,IAAI,EAAG,KAAK,KAAK,GAAM,KAAK,WAAW,CAAC,EAAG,KAAK,MAAM,CAC/I,EACA,SAASlM,EAAGkM,EAAIoB,EAAId,EAAI,CACtB,GAAI,CAACA,EACH,OAAOc,EAAG,QAAQpB,CAAE,EACtB,QAASC,EAAK,EAAGA,EAAKmB,EAAG,OAAQnB,IAC/B,GAAIK,EAAGN,EAAIoB,EAAGnB,CAAE,CAAC,EACf,OAAOA,EACX,MAAO,EACT,CACA,SAASzN,EAAGwN,EAAIoB,EAAI,CAClBzJ,EAAEqI,EAAI,EAAGA,EAAG,SAAS,OAAQoB,EAAIpB,CAAE,CACrC,CACA,SAASrI,EAAEqI,EAAIoB,EAAId,EAAIL,EAAIC,EAAI,CAC7BA,IAAOA,EAAK5L,EAAG,IAAI,GAAI4L,EAAG,KAAO,IAAOA,EAAG,KAAO,IAAOA,EAAG,KAAO,KAAQA,EAAG,KAAO,KACrF,QAASC,EAAKiB,EAAIjB,EAAKG,EAAIH,IAAM,CAC/B,IAAIC,EAAKJ,EAAG,SAASG,CAAE,EACvBmB,EAAGpB,EAAIF,EAAG,KAAOC,EAAGG,CAAE,EAAIA,CAAE,CAC9B,CACA,OAAOF,CACT,CACA,SAASoB,EAAGtB,EAAIoB,EAAI,CAClB,OAAOpB,EAAG,KAAO,KAAK,IAAIA,EAAG,KAAMoB,EAAG,IAAI,EAAGpB,EAAG,KAAO,KAAK,IAAIA,EAAG,KAAMoB,EAAG,IAAI,EAAGpB,EAAG,KAAO,KAAK,IAAIA,EAAG,KAAMoB,EAAG,IAAI,EAAGpB,EAAG,KAAO,KAAK,IAAIA,EAAG,KAAMoB,EAAG,IAAI,EAAGpB,CACjK,CACA,SAAStD,EAAGsD,EAAIoB,EAAI,CAClB,OAAOpB,EAAG,KAAOoB,EAAG,IACtB,CACA,SAASnC,EAAGe,EAAIoB,EAAI,CAClB,OAAOpB,EAAG,KAAOoB,EAAG,IACtB,CACA,SAASrI,EAAGiH,EAAI,CACd,OAAQA,EAAG,KAAOA,EAAG,OAASA,EAAG,KAAOA,EAAG,KAC7C,CACA,SAASuB,EAAGvB,EAAI,CACd,OAAOA,EAAG,KAAOA,EAAG,MAAQA,EAAG,KAAOA,EAAG,KAC3C,CACA,SAASxL,EAAEwL,EAAIoB,EAAI,CACjB,OAAOpB,EAAG,MAAQoB,EAAG,MAAQpB,EAAG,MAAQoB,EAAG,MAAQA,EAAG,MAAQpB,EAAG,MAAQoB,EAAG,MAAQpB,EAAG,IACzF,CACA,SAASrD,EAAGqD,EAAIoB,EAAI,CAClB,OAAOA,EAAG,MAAQpB,EAAG,MAAQoB,EAAG,MAAQpB,EAAG,MAAQoB,EAAG,MAAQpB,EAAG,MAAQoB,EAAG,MAAQpB,EAAG,IACzF,CACA,SAAS1L,EAAG0L,EAAI,CACd,MAAO,CAAE,SAAUA,EAAI,OAAQ,EAAG,KAAM,GAAM,KAAM,IAAO,KAAM,IAAO,KAAM,KAAQ,KAAM,IAAO,CACrG,CACA,SAASvD,EAAE2E,EAAId,EAAIL,EAAIC,EAAIC,EAAI,CAC7B,QAASC,EAAK,CAACE,EAAIL,CAAE,EAAGG,EAAG,QACzB,GAAI,GAAGH,EAAKG,EAAG,IAAI,IAAME,EAAKF,EAAG,IAAI,IAAMF,GAAK,CAC9C,IAAIS,EAAKL,EAAK,KAAK,MAAML,EAAKK,GAAMJ,EAAK,CAAC,EAAIA,EAC9C7K,EAAG+L,EAAIT,EAAIL,EAAIL,EAAIE,CAAE,EAAGC,EAAG,KAAKE,EAAIK,EAAIA,EAAIV,CAAE,CAChD,CACJ,CACA,OAAOoB,EAAG,UAAU,IAAM,UAAW,CACnC,OAAO,KAAK,KAAK,KAAK,KAAM,CAAC,CAAC,CAChC,EAAGA,EAAG,UAAU,OAAS,SAASrB,EAAI,CACpC,IAAIoB,EAAK,KAAK,KAAMd,EAAK,CAAC,EAC1B,GAAI,CAAC3D,EAAGqD,EAAIoB,CAAE,EACZ,OAAOd,EACT,QAASL,EAAK,KAAK,OAAQC,EAAK,CAAC,EAAGkB,GAAM,CACxC,QAASjB,EAAK,EAAGA,EAAKiB,EAAG,SAAS,OAAQjB,IAAM,CAC9C,IAAIC,EAAKgB,EAAG,SAASjB,CAAE,EAAGQ,EAAKS,EAAG,KAAOnB,EAAGG,CAAE,EAAIA,EAClDzD,EAAGqD,EAAIW,CAAE,IAAMS,EAAG,KAAOd,EAAG,KAAKF,CAAE,EAAI5L,EAAEwL,EAAIW,CAAE,EAAI,KAAK,KAAKP,EAAIE,CAAE,EAAIJ,EAAG,KAAKE,CAAE,EACnF,CACAgB,EAAKlB,EAAG,IAAI,CACd,CACA,OAAOI,CACT,EAAGe,EAAG,UAAU,SAAW,SAASrB,EAAI,CACtC,IAAIoB,EAAK,KAAK,KACd,GAAI,CAACzE,EAAGqD,EAAIoB,CAAE,EACZ,MAAO,GACT,QAASd,EAAK,CAAC,EAAGc,GAAM,CACtB,QAASnB,EAAK,EAAGA,EAAKmB,EAAG,SAAS,OAAQnB,IAAM,CAC9C,IAAIC,EAAKkB,EAAG,SAASnB,CAAE,EAAGE,EAAKiB,EAAG,KAAO,KAAK,OAAOlB,CAAE,EAAIA,EAC3D,GAAIvD,EAAGqD,EAAIG,CAAE,EAAG,CACd,GAAIiB,EAAG,MAAQ5M,EAAEwL,EAAIG,CAAE,EACrB,MAAO,GACTG,EAAG,KAAKJ,CAAE,CACZ,CACF,CACAkB,EAAKd,EAAG,IAAI,CACd,CACA,MAAO,EACT,EAAGe,EAAG,UAAU,KAAO,SAASrB,EAAI,CAClC,GAAI,CAACA,GAAM,CAACA,EAAG,OACb,OAAO,KACT,GAAIA,EAAG,OAAS,KAAK,YAAa,CAChC,QAASoB,EAAK,EAAGA,EAAKpB,EAAG,OAAQoB,IAC/B,KAAK,OAAOpB,EAAGoB,CAAE,CAAC,EACpB,OAAO,IACT,CACA,IAAId,EAAK,KAAK,OAAON,EAAG,MAAM,EAAG,EAAGA,EAAG,OAAS,EAAG,CAAC,EACpD,GAAI,KAAK,KAAK,SAAS,OACrB,GAAI,KAAK,KAAK,SAAWM,EAAG,OAC1B,KAAK,WAAW,KAAK,KAAMA,CAAE,MAC1B,CACH,GAAI,KAAK,KAAK,OAASA,EAAG,OAAQ,CAChC,IAAIL,EAAK,KAAK,KACd,KAAK,KAAOK,EAAIA,EAAKL,CACvB,CACA,KAAK,QAAQK,EAAI,KAAK,KAAK,OAASA,EAAG,OAAS,EAAG,EAAI,CACzD,MAEA,KAAK,KAAOA,EACd,OAAO,IACT,EAAGe,EAAG,UAAU,OAAS,SAASrB,EAAI,CACpC,OAAOA,GAAM,KAAK,QAAQA,EAAI,KAAK,KAAK,OAAS,CAAC,EAAG,IACvD,EAAGqB,EAAG,UAAU,MAAQ,UAAW,CACjC,OAAO,KAAK,KAAO/M,EAAG,CAAC,CAAC,EAAG,IAC7B,EAAG+M,EAAG,UAAU,OAAS,SAASrB,EAAIoB,EAAI,CACxC,GAAI,CAACpB,EACH,OAAO,KACT,QAASM,EAAIL,EAAIE,EAAIC,EAAK,KAAK,KAAMO,EAAK,KAAK,OAAOX,CAAE,EAAGY,EAAK,CAAC,EAAGC,EAAK,CAAC,EAAGT,GAAMQ,EAAG,QAAU,CAC9F,GAAIR,IAAOA,EAAKQ,EAAG,IAAI,EAAGX,EAAKW,EAAGA,EAAG,OAAS,CAAC,EAAGN,EAAKO,EAAG,IAAI,EAAGV,EAAK,IAAOC,EAAG,KAAM,CACpF,IAAIU,EAAKhN,EAAGkM,EAAII,EAAG,SAAUgB,CAAE,EAC/B,GAAWN,IAAP,GACF,OAAOV,EAAG,SAAS,OAAOU,EAAI,CAAC,EAAGF,EAAG,KAAKR,CAAE,EAAG,KAAK,UAAUQ,CAAE,EAAG,IACvE,CACAT,GAAMC,EAAG,MAAQ,CAAC5L,EAAE4L,EAAIO,CAAE,EAAIV,GAAMK,IAAMF,EAAKH,EAAG,SAASK,CAAE,EAAGH,EAAK,IAASC,EAAK,MAAQQ,EAAG,KAAKR,CAAE,EAAGS,EAAG,KAAKP,CAAE,EAAGA,EAAK,EAAGL,EAAKG,EAAIA,EAAKA,EAAG,SAAS,CAAC,EAC1J,CACA,OAAO,IACT,EAAGiB,EAAG,UAAU,OAAS,SAASrB,EAAI,CACpC,OAAOA,CACT,EAAGqB,EAAG,UAAU,YAAc,SAASrB,EAAIoB,EAAI,CAC7C,OAAOpB,EAAG,KAAOoB,EAAG,IACtB,EAAGC,EAAG,UAAU,YAAc,SAASrB,EAAIoB,EAAI,CAC7C,OAAOpB,EAAG,KAAOoB,EAAG,IACtB,EAAGC,EAAG,UAAU,OAAS,UAAW,CAClC,OAAO,KAAK,IACd,EAAGA,EAAG,UAAU,SAAW,SAASrB,EAAI,CACtC,OAAO,KAAK,KAAOA,EAAI,IACzB,EAAGqB,EAAG,UAAU,KAAO,SAASrB,EAAIoB,EAAI,CACtC,QAASd,EAAK,CAAC,EAAGN,GAChBA,EAAG,KAAOoB,EAAG,KAAK,MAAMA,EAAIpB,EAAG,QAAQ,EAAIM,EAAG,KAAK,MAAMA,EAAIN,EAAG,QAAQ,EAAGA,EAAKM,EAAG,IAAI,EACzF,OAAOc,CACT,EAAGC,EAAG,UAAU,OAAS,SAASrB,EAAIoB,EAAId,EAAIL,EAAI,CAChD,IAAIC,EAAIE,EAAKE,EAAKc,EAAK,EAAGT,EAAK,KAAK,YACpC,GAAIP,GAAMO,EACR,OAAOnO,EAAG0N,EAAK5L,EAAG0L,EAAG,MAAMoB,EAAId,EAAK,CAAC,CAAC,EAAG,KAAK,MAAM,EAAGJ,EACzDD,IAAOA,EAAK,KAAK,KAAK,KAAK,IAAIG,CAAE,EAAI,KAAK,IAAIO,CAAE,CAAC,EAAGA,EAAK,KAAK,KAAKP,EAAK,KAAK,IAAIO,EAAIV,EAAK,CAAC,CAAC,IAAKC,EAAK5L,EAAG,CAAC,CAAC,GAAG,KAAO,GAAO4L,EAAG,OAASD,EACxI,IAAIW,EAAK,KAAK,KAAKR,EAAKO,CAAE,EAAGE,EAAKD,EAAK,KAAK,KAAK,KAAK,KAAKD,CAAE,CAAC,EAC9DlE,EAAEuD,EAAIoB,EAAId,EAAIO,EAAI,KAAK,WAAW,EAClC,QAASC,EAAKM,EAAIN,GAAMR,EAAIQ,GAAMD,EAAI,CACpC,IAAIE,EAAK,KAAK,IAAID,EAAKD,EAAK,EAAGP,CAAE,EACjC7D,EAAEuD,EAAIc,EAAIC,EAAIH,EAAI,KAAK,WAAW,EAClC,QAASI,EAAKF,EAAIE,GAAMD,EAAIC,GAAMJ,EAAI,CACpC,IAAIK,EAAK,KAAK,IAAID,EAAKJ,EAAK,EAAGG,CAAE,EACjCb,EAAG,SAAS,KAAK,KAAK,OAAOF,EAAIgB,EAAIC,EAAIhB,EAAK,CAAC,CAAC,CAClD,CACF,CACA,OAAOzN,EAAG0N,EAAI,KAAK,MAAM,EAAGA,CAC9B,EAAGmB,EAAG,UAAU,eAAiB,SAASrB,EAAIoB,EAAId,EAAIL,EAAI,CACxD,KAAOA,EAAG,KAAKmB,CAAE,EAAG,CAACA,EAAG,MAAQnB,EAAG,OAAS,IAAMK,GAAM,CACtD,QAASJ,EAAK,IAAOC,EAAK,IAAOC,EAAK,OAAQO,EAAK,EAAGA,EAAKS,EAAG,SAAS,OAAQT,IAAM,CACnF,IAAIC,EAAKQ,EAAG,SAAST,CAAE,EAAGE,EAAK9H,EAAG6H,CAAE,EAAGG,GAAMC,EAAKhB,EAAIiB,EAAKL,GAAK,KAAK,IAAIK,EAAG,KAAMD,EAAG,IAAI,EAAI,KAAK,IAAIC,EAAG,KAAMD,EAAG,IAAI,IAAM,KAAK,IAAIC,EAAG,KAAMD,EAAG,IAAI,EAAI,KAAK,IAAIC,EAAG,KAAMD,EAAG,IAAI,GAAKH,GACvLE,EAAKZ,GAAMA,EAAKY,EAAIb,EAAKW,EAAKX,EAAKW,EAAKX,EAAIE,EAAKQ,GAAMG,IAAOZ,GAAMU,EAAKX,IAAOA,EAAKW,EAAIT,EAAKQ,EAChG,CACAQ,EAAKhB,GAAMgB,EAAG,SAAS,CAAC,CAC1B,CACA,IAAIJ,EAAIC,EACR,OAAOG,CACT,EAAGC,EAAG,UAAU,QAAU,SAASrB,EAAIoB,EAAId,EAAI,CAC7C,IAAIL,EAAKK,EAAKN,EAAK,KAAK,OAAOA,CAAE,EAAGE,EAAK,CAAC,EAAGC,EAAK,KAAK,eAAeF,EAAI,KAAK,KAAMmB,EAAIlB,CAAE,EAC3F,IAAKC,EAAG,SAAS,KAAKH,CAAE,EAAGsB,EAAGnB,EAAIF,CAAE,EAAGmB,GAAM,GAAKlB,EAAGkB,CAAE,EAAE,SAAS,OAAS,KAAK,aAC9E,KAAK,OAAOlB,EAAIkB,CAAE,EAAGA,IACvB,KAAK,oBAAoBnB,EAAIC,EAAIkB,CAAE,CACrC,EAAGC,EAAG,UAAU,OAAS,SAASrB,EAAIoB,EAAI,CACxC,IAAId,EAAKN,EAAGoB,CAAE,EAAGnB,EAAKK,EAAG,SAAS,OAAQJ,EAAK,KAAK,YACpD,KAAK,iBAAiBI,EAAIJ,EAAID,CAAE,EAChC,IAAIG,EAAK,KAAK,kBAAkBE,EAAIJ,EAAID,CAAE,EAAGU,EAAKrM,EAAGgM,EAAG,SAAS,OAAOF,EAAIE,EAAG,SAAS,OAASF,CAAE,CAAC,EACpGO,EAAG,OAASL,EAAG,OAAQK,EAAG,KAAOL,EAAG,KAAM9N,EAAG8N,EAAI,KAAK,MAAM,EAAG9N,EAAGmO,EAAI,KAAK,MAAM,EAAGS,EAAKpB,EAAGoB,EAAK,CAAC,EAAE,SAAS,KAAKT,CAAE,EAAI,KAAK,WAAWL,EAAIK,CAAE,CAChJ,EAAGU,EAAG,UAAU,WAAa,SAASrB,EAAIoB,EAAI,CAC5C,KAAK,KAAO9M,EAAG,CAAC0L,EAAIoB,CAAE,CAAC,EAAG,KAAK,KAAK,OAASpB,EAAG,OAAS,EAAG,KAAK,KAAK,KAAO,GAAOxN,EAAG,KAAK,KAAM,KAAK,MAAM,CAC/G,EAAG6O,EAAG,UAAU,kBAAoB,SAASrB,EAAIoB,EAAId,EAAI,CACvD,QAASL,EAAIC,EAAIC,EAAIQ,EAAIC,EAAIC,EAAIE,EAAIC,EAAK,IAAOC,EAAK,IAAOC,EAAKE,EAAIF,GAAMZ,EAAKc,EAAIF,IAAM,CACzF,IAAIvL,EAAKgC,EAAEqI,EAAI,EAAGkB,EAAI,KAAK,MAAM,EAAGlN,EAAK2D,EAAEqI,EAAIkB,EAAIZ,EAAI,KAAK,MAAM,EAAGkB,GAAKtB,EAAKvK,EAAIwK,EAAKnM,EAAI2M,EAAK,OAAQC,EAAK,OAAQC,EAAK,OAAQE,EAAK,OAAQJ,EAAK,KAAK,IAAIT,EAAG,KAAMC,EAAG,IAAI,EAAGS,EAAK,KAAK,IAAIV,EAAG,KAAMC,EAAG,IAAI,EAAGU,EAAK,KAAK,IAAIX,EAAG,KAAMC,EAAG,IAAI,EAAGY,EAAK,KAAK,IAAIb,EAAG,KAAMC,EAAG,IAAI,EAAG,KAAK,IAAI,EAAGU,EAAKF,CAAE,EAAI,KAAK,IAAI,EAAGI,EAAKH,CAAE,GAAIa,EAAI1I,EAAGpD,CAAE,EAAIoD,EAAG/E,CAAE,EACpVwN,EAAIR,GAAMA,EAAKQ,EAAGvB,EAAKiB,EAAID,EAAKQ,EAAIR,EAAKQ,EAAIR,GAAMO,IAAMR,GAAMS,EAAIR,IAAOA,EAAKQ,EAAGxB,EAAKiB,EACzF,CACA,OAAOjB,GAAMK,EAAKc,CACpB,EAAGC,EAAG,UAAU,iBAAmB,SAASrB,EAAIoB,EAAId,EAAI,CACtD,IAAIL,EAAKD,EAAG,KAAO,KAAK,YAActD,EAAIwD,EAAKF,EAAG,KAAO,KAAK,YAAcf,EAC5E,KAAK,eAAee,EAAIoB,EAAId,EAAIL,CAAE,EAAI,KAAK,eAAeD,EAAIoB,EAAId,EAAIJ,CAAE,GAAKF,EAAG,SAAS,KAAKC,CAAE,CAClG,EAAGoB,EAAG,UAAU,eAAiB,SAASrB,EAAIoB,EAAId,EAAIL,EAAI,CACxDD,EAAG,SAAS,KAAKC,CAAE,EACnB,QAASC,EAAK,KAAK,OAAQC,EAAKxI,EAAEqI,EAAI,EAAGoB,EAAIlB,CAAE,EAAGU,EAAKjJ,EAAEqI,EAAIM,EAAKc,EAAId,EAAIJ,CAAE,EAAGW,EAAKU,EAAGpB,CAAE,EAAIoB,EAAGX,CAAE,EAAGE,EAAKM,EAAIN,EAAKR,EAAKc,EAAIN,IAAM,CAChI,IAAIE,EAAKhB,EAAG,SAASc,CAAE,EACvBQ,EAAGnB,EAAIH,EAAG,KAAOE,EAAGc,CAAE,EAAIA,CAAE,EAAGH,GAAMU,EAAGpB,CAAE,CAC5C,CACA,QAASc,EAAKX,EAAKc,EAAK,EAAGH,GAAMG,EAAIH,IAAM,CACzC,IAAIC,EAAKlB,EAAG,SAASiB,CAAE,EACvBK,EAAGV,EAAIZ,EAAG,KAAOE,EAAGgB,CAAE,EAAIA,CAAE,EAAGL,GAAMU,EAAGX,CAAE,CAC5C,CACA,OAAOC,CACT,EAAGQ,EAAG,UAAU,oBAAsB,SAASrB,EAAIoB,EAAId,EAAI,CACzD,QAASL,EAAKK,EAAIL,GAAM,EAAGA,IACzBqB,EAAGF,EAAGnB,CAAE,EAAGD,CAAE,CACjB,EAAGqB,EAAG,UAAU,UAAY,SAASrB,EAAI,CACvC,QAASoB,EAAKpB,EAAG,OAAS,EAAGM,EAAK,OAAQc,GAAM,EAAGA,IAC3CpB,EAAGoB,CAAE,EAAE,SAAS,SAAtB,EAA+BA,EAAK,GAAKd,EAAKN,EAAGoB,EAAK,CAAC,EAAE,UAAU,OAAOd,EAAG,QAAQN,EAAGoB,CAAE,CAAC,EAAG,CAAC,EAAI,KAAK,MAAM,EAAI5O,EAAGwN,EAAGoB,CAAE,EAAG,KAAK,MAAM,CAC5I,EAAGC,CACL,CAAC,CACH,CACF,CAAC,EAGGK,GAAyBvO,EAAQc,GAAuB,CAAC,EAGzD0N,GAAO,CACT,MAAO,UACP,QAAS,UACT,YAAa,UACb,SAAU,UACV,SAAU,UACV,OAAQ,UACR,WAAY,UACZ,KAAM,UACN,MAAO,UACP,KAAM,UACN,MAAO,UACP,KAAM,UACN,UAAW,UACX,cAAe,UACf,gBAAiB,UACjB,iBAAkB,UAClB,gBAAiB,UACjB,QAAS,UACT,UAAW,UACX,WAAY,UACZ,UAAW,UACX,WAAY,UACZ,KAAM,UACN,aAAc,UACd,UAAW,UACX,WAAY,UACZ,mBAAoB,UACpB,aAAc,UACd,WAAY,UACZ,aAAc,UACd,WAAY,UACZ,UAAW,SACb,EAGIC,GAAQ,CACV,MAAO,UACP,QAAS,UACT,YAAa,UACb,SAAU,UACV,SAAU,UACV,OAAQ,UACR,WAAY,UACZ,KAAM,UACN,MAAO,UACP,KAAM,UACN,MAAO,UACP,KAAM,UACN,UAAW,UACX,cAAe,UACf,gBAAiB,UACjB,iBAAkB,UAClB,gBAAiB,UACjB,QAAS,UACT,UAAW,UACX,WAAY,UACZ,UAAW,UACX,WAAY,UACZ,KAAM,UACN,aAAc,UACd,UAAW,UACX,WAAY,UACZ,mBAAoB,UACpB,aAAc,UACd,WAAY,UACZ,aAAc,UACd,WAAY,UACZ,UAAW,SACb,EAGA,SAASC,GAAExM,EAAI8L,EAAIE,EAAI,CACrB,OAAO,KAAK,IAAI,KAAK,IAAIhM,EAAIgM,CAAE,EAAGF,CAAE,CACtC,CACA,IAAIW,GAAI,cAAc,KAAM,CAC1B,YAAYzM,EAAI,CACd,MAAM,2BAA2BA,CAAE,GAAG,CACxC,CACF,EACA,SAAS0M,GAAEV,EAAI,CACb,GAAgB,OAAOA,GAAnB,SACF,MAAM,IAAIS,GAAET,CAAE,EAChB,GAAsBA,EAAG,KAAK,EAAE,YAAY,IAAxC,cACF,MAAO,CAAC,EAAG,EAAG,EAAG,CAAC,EACpB,IAAIvN,EAAKuN,EAAG,KAAK,EACjBvN,EAAKkO,GAAE,KAAKX,CAAE,EAAI,SAAShM,EAAI,CAC7B,IAAM4K,EAAK5K,EAAG,YAAY,EAAE,KAAK,EAAG6K,EAAK+B,GAAE,SAASjC,EAAI,CACtD,IAAImB,EAAK,KAAMZ,EAAKP,EAAG,OACvB,KAAOO,GACLY,EAAK,GAAKA,EAAKnB,EAAG,WAAW,EAAEO,CAAE,EACnC,OAAQY,IAAO,GAAK,IACtB,EAAElB,CAAE,CAAC,EACL,GAAI,CAACC,EACH,MAAM,IAAI4B,GAAEzM,CAAE,EAChB,MAAO,IAAI6K,CAAE,EACf,EAAEmB,CAAE,EAAIA,EACR,IAAMtI,EAAKmJ,GAAE,KAAKpO,CAAE,EACpB,GAAIiF,EAAI,CACN,IAAM1D,EAAK,MAAM,KAAK0D,CAAE,EAAE,MAAM,CAAC,EACjC,MAAO,CAAC,GAAG1D,EAAG,MAAM,EAAG,CAAC,EAAE,IAAK2K,GAAO,SAASmC,GAAEnC,EAAI,CAAC,EAAG,EAAE,CAAC,EAAG,SAASmC,GAAE9M,EAAG,CAAC,GAAK,IAAK,CAAC,EAAG,EAAE,EAAI,GAAG,CACvG,CACA,IAAMf,EAAK8N,GAAE,KAAKtO,CAAE,EACpB,GAAIQ,EAAI,CACN,IAAMe,EAAK,MAAM,KAAKf,CAAE,EAAE,MAAM,CAAC,EACjC,MAAO,CAAC,GAAGe,EAAG,MAAM,EAAG,CAAC,EAAE,IAAK2K,GAAO,SAASA,EAAI,EAAE,CAAC,EAAG,SAAS3K,EAAG,CAAC,GAAK,KAAM,EAAE,EAAI,GAAG,CAC5F,CACA,IAAMgF,EAAKgI,GAAE,KAAKvO,CAAE,EACpB,GAAIuG,EAAI,CACN,IAAMhF,EAAK,MAAM,KAAKgF,CAAE,EAAE,MAAM,CAAC,EACjC,MAAO,CAAC,GAAGhF,EAAG,MAAM,EAAG,CAAC,EAAE,IAAK2K,GAAO,SAASA,EAAI,EAAE,CAAC,EAAG,WAAW3K,EAAG,CAAC,GAAK,GAAG,CAAC,CACnF,CACA,IAAMsC,EAAI2K,GAAE,KAAKxO,CAAE,EACnB,GAAI6D,EAAG,CACL,GAAM,CAACuI,EAAIoB,EAAIiB,EAAI7F,CAAE,EAAI,MAAM,KAAK/E,CAAC,EAAE,MAAM,CAAC,EAAE,IAAI,UAAU,EAC9D,GAAIkK,GAAE,EAAG,IAAKP,CAAE,IAAMA,EACpB,MAAM,IAAIQ,GAAET,CAAE,EAChB,GAAIQ,GAAE,EAAG,IAAKU,CAAE,IAAMA,EACpB,MAAM,IAAIT,GAAET,CAAE,EAChB,MAAO,CAAC,GAAGmB,GAAEtC,EAAIoB,EAAIiB,CAAE,EAAG7F,GAAM,CAAC,CACnC,CACA,MAAM,IAAIoF,GAAET,CAAE,CAChB,CACA,IAAIoB,GAAKpN,GAAO,SAASA,EAAG,QAAQ,KAAM,EAAE,EAAG,EAAE,EAC7C4M,GAAI,szCAAszC,MAAM,GAAG,EAAE,OAAO,CAAC5M,EAAI8L,IAAO,CAC11C,IAAME,EAAKoB,GAAEtB,EAAG,UAAU,EAAG,CAAC,CAAC,EAAGG,EAAKmB,GAAEtB,EAAG,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,EACjEoB,EAAK,GACT,QAASvC,EAAK,EAAGA,EAAK,EAAIsB,EAAG,OAAQtB,IACnCuC,GAAM,IACR,OAAOlN,EAAGgM,CAAE,EAAI,GAAGkB,CAAE,GAAGjB,CAAE,GAAIjM,CAChC,EAAG,CAAC,CAAC,EACD8M,GAAI,CAAC9M,EAAI8L,IAAO,MAAM,KAAK,MAAMA,CAAE,CAAC,EAAE,IAAI,IAAM9L,CAAE,EAAE,KAAK,EAAE,EAC3D6M,GAAI,IAAI,OAAO,KAAKC,GAAE,aAAc,CAAC,CAAC,eAAgB,GAAG,EACzDC,GAAI,IAAI,OAAO,KAAKD,GAAE,gBAAiB,CAAC,CAAC,kBAAmB,GAAG,EAC/DE,GAAI,IAAI,OAAO,0BAA0BF,GAAE,kBAAmB,CAAC,CAAC,8BAA+B,GAAG,EAClGG,GAAI,iFACJN,GAAI,YACJU,GAAKrN,GAAO,KAAK,MAAM,IAAMA,CAAE,EAC/BmN,GAAI,CAACnN,EAAI8L,EAAIE,IAAO,CACtB,IAAIvN,EAAKuN,EAAK,IACd,GAAUF,IAAN,EACF,MAAO,CAACrN,EAAIA,EAAIA,CAAE,EAAE,IAAI4O,EAAC,EAC3B,IAAMpB,GAAMjM,EAAK,IAAM,KAAO,IAAM,GAAIkN,GAAM,EAAI,KAAK,IAAI,EAAIzO,EAAK,CAAC,IAAMqN,EAAK,KAAMzE,EAAK6F,GAAM,EAAI,KAAK,IAAIjB,EAAK,EAAI,CAAC,GACpH5L,EAAK,EAAGlD,EAAK,EAAGmK,EAAK,EACzB2E,GAAM,GAAKA,EAAK,GAAK5L,EAAK6M,EAAI/P,EAAKkK,GAAM4E,GAAM,GAAKA,EAAK,GAAK5L,EAAKgH,EAAIlK,EAAK+P,GAAMjB,GAAM,GAAKA,EAAK,GAAK9O,EAAK+P,EAAI5F,EAAKD,GAAM4E,GAAM,GAAKA,EAAK,GAAK9O,EAAKkK,EAAIC,EAAK4F,GAAMjB,GAAM,GAAKA,EAAK,GAAK5L,EAAKgH,EAAIC,EAAK4F,GAAMjB,GAAM,GAAKA,EAAK,IAAM5L,EAAK6M,EAAI5F,EAAKD,GACjP,IAAM6E,EAAKzN,EAAKyO,EAAK,EACrB,MAAO,CAAC7M,EAAK6L,EAAI/O,EAAK+O,EAAI5E,EAAK4E,CAAE,EAAE,IAAImB,EAAC,CAC1C,EACA,SAASC,GAAEtN,EAAI,CACb,GAAM,CAAC8L,EAAIrN,EAAIwN,EAAIiB,CAAE,EAAIR,GAAE1M,CAAE,EAAE,IAAI,CAAC2K,EAAIM,IAAaA,IAAN,EAAWN,EAAKA,EAAK,GAAG,EAAGtD,EAAK,KAAK,IAAIyE,EAAIrN,EAAIwN,CAAE,EAAG5L,EAAK,KAAK,IAAIyL,EAAIrN,EAAIwN,CAAE,EAAG9O,GAAMkK,EAAKhH,GAAM,EACjJ,GAAIgH,IAAOhH,EACT,MAAO,CAAC,EAAG,EAAGlD,EAAI+P,CAAE,EACtB,IAAM5F,EAAKD,EAAKhH,EAChB,MAAO,CAAC,IAAMyL,IAAOzE,GAAM5I,EAAKwN,GAAM3E,GAAM7I,EAAKwN,EAAK,EAAI,GAAKxN,IAAO4I,GAAM4E,EAAKH,GAAMxE,EAAK,GAAKwE,EAAKrN,GAAM6I,EAAK,GAAInK,EAAK,GAAMmK,GAAM,EAAID,EAAKhH,GAAMiH,GAAMD,EAAKhH,GAAKlD,EAAI+P,CAAE,CAC7K,CACA,SAASK,GAAEzB,EAAIE,EAAIvN,EAAIwN,EAAI,CACzB,MAAO,SAASH,EAAK,KAAK,QAAQ,CAAC,KAAKU,GAAE,EAAG,IAAK,IAAMR,CAAE,EAAE,QAAQ,CAAC,MAAMQ,GAAE,EAAG,IAAK,IAAM/N,CAAE,EAAE,QAAQ,CAAC,MAAM,WAAW+N,GAAE,EAAG,EAAGP,CAAE,EAAE,QAAQ,CAAC,CAAC,CAAC,GAClJ,CAGA,IAAIuB,EAAyB1P,EAAQc,GAAuB,CAAC,EACzD6O,GAAoB3P,EAAQ4B,GAAmB,CAAC,EAChDgO,GAAmB5P,EAAQ2D,GAAkB,CAAC,EAG9CkM,EAAa,KAAM,CACrB,YAAYrG,EAAIsG,EAAc,CAC5B,KAAK,IAAMtG,GAAkBsG,EAC7B,KAAK,YAAc,OAAO,KAAK,KAAQ,YAAc,KAAK,IAAI,SAAW,CAC3E,CACA,IAAI5I,EAAItB,EAAI,CACV,OAAI,OAAO,KAAK,KAAQ,WACf,KAAK,IAAIsB,EAAItB,CAAE,EAEjB,KAAK,GACd,CACF,EACImK,EAAa,KAAM,CACrB,YAAYvG,EAAIsG,EAAe,EAAG,CAChC,KAAK,MAAQtG,GAAkBsG,EAC/B,KAAK,YAAc,OAAO,KAAK,OAAU,YAAc,KAAK,MAAM,SAAW,CAC/E,CACA,IAAI5I,EAAItB,EAAI,CACV,OAAI,OAAO,KAAK,OAAU,WACjB,KAAK,MAAMsB,EAAItB,CAAE,EAEnB,KAAK,KACd,CACF,EACIoK,GAAW,KAAM,CACnB,YAAYC,EAAS,CACnB,IAAIC,EACJ,KAAK,aAAeA,EAAiCD,GAAQ,cAAgB,KAAOC,EAAM,CAAC,MAAM,EACjG,KAAK,cAA2CD,GAAQ,aAC1D,CACA,IAAI/I,EAAItB,EAAI,CACV,IAAIuK,EACAC,EACA,OAAO,KAAK,aAAgB,WAC9BA,EAAc,KAAK,YAAYlJ,EAAItB,CAAE,EAErCwK,EAAc,KAAK,YAErB,QAAWC,KAAYD,EACrB,GAAIxK,EAAG,MAAM,eAAeyK,CAAQ,GAAK,OAAOzK,EAAG,MAAMyK,CAAQ,GAAM,SAAU,CAC/EF,EAASvK,EAAG,MAAMyK,CAAQ,EAC1B,KACF,CAEF,IAAIC,EACJ,OAAI,OAAO,KAAK,eAAkB,WAChCA,EAAY,KAAK,cAAcpJ,EAAItB,CAAE,EAErC0K,EAAY,KAAK,cAEfH,GAAUG,IAAc,YAC1BH,EAASA,EAAO,YAAY,EACrBA,GAAUG,IAAc,YAC/BH,EAASA,EAAO,YAAY,EACrBA,GAAUG,IAAc,eAK/BH,EAJmBA,EAAO,YAAY,EAAE,MAAM,GAAG,EACpB,IAAKI,GACzBA,EAAK,CAAC,EAAE,YAAY,EAAIA,EAAK,MAAM,CAAC,CAC5C,EACkB,KAAK,GAAG,GAEtBJ,CACT,CACF,EACIK,GAAW,KAAM,CACnB,YAAYP,EAAS,CACnB,IAAIC,EAAKO,EACsBR,GAAQ,KACrC,KAAK,KAAOA,EAAQ,MAEpB,KAAK,QAAUC,EAAiCD,GAAQ,aAAe,KAAOC,EAAM,aACpF,KAAK,MAAQO,EAAiCR,GAAQ,WAAa,KAAOQ,EAAM,GAChF,KAAK,OAAoCR,GAAQ,WACjD,KAAK,MAAmCA,GAAQ,UAEpD,CACA,IAAI/I,EAAItB,EAAI,CACV,GAAI,KAAK,KACP,OAAI,OAAO,KAAK,MAAS,WAChB,KAAK,KAAKsB,EAAItB,CAAE,EAElB,KAAK,KAEd,IAAI8K,EAAQ,GACR,KAAK,QACH,OAAO,KAAK,OAAU,WACxBA,EAAQ,GAAG,KAAK,MAAMxJ,EAAItB,CAAE,CAAC,IAE7B8K,EAAQ,GAAG,KAAK,KAAK,KAGzB,IAAIC,EAAS,GACT,KAAK,SACH,OAAO,KAAK,QAAW,WACzBA,EAAS,GAAG,KAAK,OAAOzJ,EAAItB,CAAE,CAAC,IAE/B+K,EAAS,GAAG,KAAK,MAAM,KAG3B,IAAIxJ,EACA,OAAO,KAAK,MAAS,WACvBA,EAAO,KAAK,KAAKD,EAAItB,CAAE,EAEvBuB,EAAO,KAAK,KAEd,IAAIyJ,EACJ,OAAI,OAAO,KAAK,QAAW,WACzBA,EAAS,KAAK,OAAO1J,EAAItB,CAAE,EAE3BgL,EAAS,KAAK,OAET,GAAGF,CAAK,GAAGC,CAAM,GAAGxJ,CAAI,MAAMyJ,CAAM,EAC7C,CACF,EACIC,GAAY,KAAM,CACpB,YAAYrH,EAAIsG,EAAe,CAAC,EAAG,CACjC,KAAK,MAAQtG,GAAkBsG,EAC/B,KAAK,YAAc,OAAO,KAAK,OAAU,YAAc,KAAK,MAAM,SAAW,CAC/E,CACA,IAAI5I,EAAItB,EAAI,CACV,OAAI,OAAO,KAAK,OAAU,WACjB,KAAK,MAAMsB,EAAItB,CAAE,EAEnB,KAAK,KACd,CACF,EAGIkL,GAAwB9Q,EAAQc,GAAuB,CAAC,EACxDiQ,GAAY,CAACC,EAAKC,EAAiBC,IAAc,CACnD,IAAMC,EAAS,CAAC,EACZ9R,EACAC,EACAkK,EACAjH,EAAK,EACLyL,EAAK,EACL1E,EAAI,EACJ8H,EAAQ,EACRC,EAAQ,EACRC,EAAM,EACNC,EAAM,EACNC,EAAM,EACNC,EAAM,EACNC,EAAK,EACLC,EAAU,EACVC,EAAU,EACd,GAAIZ,EAAI,OAAS,EACf,MAAO,CAAC,EACV,GAAIA,EAAI,SAAW,EACjB,OAAA1H,EAAI,KAAK,KAAKvK,EAAMiS,EAAI,CAAC,EAAE,EAAIA,EAAI,CAAC,EAAE,EAAG,CAAC,EAAIjS,EAAMiS,EAAI,CAAC,EAAE,EAAIA,EAAI,CAAC,EAAE,EAAG,CAAC,CAAC,EACpE,CACL,CACE,OAAQ1H,EACR,WAAY,EACZ,cAAe,EACf,SAAU,EACV,YAAaA,CACf,CACF,EAGF,IADA8H,EAAQ,KAAK,KAAKrS,EAAMiS,EAAI,CAAC,EAAE,EAAIA,EAAI,CAAC,EAAE,EAAG,CAAC,EAAIjS,EAAMiS,EAAI,CAAC,EAAE,EAAIA,EAAI,CAAC,EAAE,EAAG,CAAC,CAAC,EAC1EzO,EAAK,EAAGyL,EAAKgD,EAAI,OAAS,EAAGzO,EAAKyL,EAAIzL,IACzClD,EAAK2R,EAAIzO,EAAK,CAAC,EACfjD,EAAI0R,EAAIzO,CAAE,EACViH,EAAKwH,EAAIzO,EAAK,CAAC,EACf+O,EAAMhS,EAAE,EAAID,EAAG,EACfkS,EAAMjS,EAAE,EAAID,EAAG,EACfmS,EAAMhI,EAAG,EAAIlK,EAAE,EACfmS,EAAMjI,EAAG,EAAIlK,EAAE,EACf+R,EAAQ,KAAK,KAAKG,EAAMA,EAAMC,EAAMA,CAAG,EACvCnI,GAAK8H,EACLM,EAAK,KAAK,MAAMJ,EAAME,EAAMD,EAAME,IAAQL,EAAQC,EAAM,GACpDK,EAAKT,GAAmB3H,EAAIsI,EAAUV,KACxCC,EAAO,KAAK,CACV,OAAQ7H,EAAIsI,EACZ,cAAeA,EACf,WAAYD,EACZ,SAAUpP,EAAK,EACf,YAAa+G,CACf,CAAC,EACDqI,EAAUpP,EACVqP,EAAUtI,GAEZ8H,EAAQC,EAEV,OAAI9O,EAAKoP,EAAU,GACjBR,EAAO,KAAK,CACV,OAAQ7H,EAAIsI,EAAUP,EACtB,WAAYM,EACZ,cAAeC,EACf,SAAUrP,EAAK,EACf,YAAa+G,EAAI+H,CACnB,CAAC,EAEIF,CACT,EACA,SAASU,GAAYC,EAAKC,EAASC,EAAgBzN,EAAU,CAE3D,IAAM0N,EAAa,CAAC,EAEpB,QAAWC,KAAMJ,EAAK,CACpB,IAAMK,EAAWpB,GAAUmB,EAAI,KAAK,GAAK,GAAIH,CAAO,EACpD,QAAWK,KAAWD,EACpB,GAAIC,EAAQ,QAAUL,EAAUxN,EAAU,CACxC,IAAM8N,EAAQ,IAAIvB,GAAsB,QACtCoB,EAAGE,EAAQ,UAAU,EAAE,EACvBF,EAAGE,EAAQ,UAAU,EAAE,CACzB,EACMlM,EAAMgM,EAAGE,EAAQ,SAAW,CAAC,EAC7BE,EAAa,IAAIxB,GAAsB,SAC1C5K,EAAI,EAAImM,EAAM,GAAKD,EAAQ,QAC3BlM,EAAI,EAAImM,EAAM,GAAKD,EAAQ,MAC9B,EACA,QAAS7P,EAAKgC,EAAUhC,EAAK6P,EAAQ,OAASL,EAASxP,GAAMyP,EAC3DC,EAAW,KAAK,CACd,MAAOI,EAAM,IAAIC,EAAW,KAAK/P,CAAE,CAAC,EACpC,IAAK8P,EAAM,IAAIC,EAAW,KAAK/P,EAAKwP,CAAO,CAAC,CAC9C,CAAC,CAEL,CAEJ,CACA,OAAOE,CACT,CACA,SAASM,GAAUlT,EAAIC,EAAGqH,EAAQ6L,EAAS,CACzC,IAAMjR,EAAKjC,EAAE,EAAID,EAAG,EACdmC,EAAKlC,EAAE,EAAID,EAAG,EACdoT,EAAO,KAAK,KAAK1T,EAAMO,EAAE,EAAID,EAAG,EAAG,CAAC,EAAIN,EAAMO,EAAE,EAAID,EAAG,EAAG,CAAC,CAAC,EAC5D8Q,EAAS,CAAC,EAChB,QAAS5N,EAAK,EAAGA,EAAKoE,EAAS6L,EAASjQ,GAAM,EAAIiQ,EAAS,CACzD,IAAME,EAASnQ,EAAK,EAAIkQ,EACxBtC,EAAO,KAAK,CAAE,EAAG9Q,EAAG,EAAIqT,EAASnR,EAAI,EAAGlC,EAAG,EAAIqT,EAASlR,CAAG,CAAC,CAC9D,CACA,OAAO2O,CACT,CAGA,SAASwC,GAAU1H,EAAK2H,EAAU,CAChC,GAAI3H,EAAI,QAAU2H,EAChB,MAAO,CAAC3H,CAAG,EACb,IAAM4H,EAAWD,EAAW,EACtBE,EAAe7H,EAAI,YAAY,IAAK4H,CAAQ,EAC5CE,EAAc9H,EAAI,QAAQ,IAAK4H,CAAQ,EAC7C,GAAIC,IAAiB,IAAMC,IAAgB,GACzC,MAAO,CAAC9H,CAAG,EAEb,IAAI+H,EACAC,EACJ,OAAIF,IAAgB,IAAMD,GAAgB,GAAKD,EAAWC,EAAeC,EAAcF,GACrFG,EAAQ/H,EAAI,UAAU,EAAG6H,CAAY,EACrCG,EAAQhI,EAAI,UAAU6H,EAAe,EAAG7H,EAAI,MAAM,IAElD+H,EAAQ/H,EAAI,UAAU,EAAG8H,CAAW,EACpCE,EAAQhI,EAAI,UAAU8H,EAAc,EAAG9H,EAAI,MAAM,GAE5C,CAAC+H,EAAO,GAAGL,GAAUM,EAAOL,CAAQ,CAAC,CAC9C,CACA,IAAIM,GAAY,kLACZC,GAAW,IAAI,OAAO,KAAKD,EAAS,KAAK,EAGzCE,GAAyBpT,EAAQc,GAAuB,CAAC,EACzDuS,GAAqBrT,EAAQ2I,GAAoB,CAAC,EAClD2K,GAAatT,EAAQ0J,GAAY,CAAC,EAGlC6J,EAAW,CAACnT,EAAQC,EAAaC,IAC5B,IAAI,QAAQ,CAACC,EAASC,IAAW,CACtC,IAAIC,EAAatB,GAAU,CACzB,GAAI,CACFuB,EAAMJ,EAAU,KAAKnB,CAAK,CAAC,CAC7B,OAASwB,EAAI,CACXH,EAAOG,CAAE,CACX,CACF,EACIC,EAAYzB,GAAU,CACxB,GAAI,CACFuB,EAAMJ,EAAU,MAAMnB,CAAK,CAAC,CAC9B,OAASwB,EAAI,CACXH,EAAOG,CAAE,CACX,CACF,EACID,EAASG,GAAOA,EAAG,KAAON,EAAQM,EAAG,KAAK,EAAI,QAAQ,QAAQA,EAAG,KAAK,EAAE,KAAKJ,EAAWG,CAAQ,EACpGF,GAAOJ,EAAYA,EAAU,MAAMF,EAAQC,CAAW,GAAG,KAAK,CAAC,CACjE,CAAC,EAECmT,EAAK,WACLC,GAAM,YACNC,GAAM,YACNC,GAAO,IAAIH,EAAG,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,CAAC,EAC9GI,GAAO,IAAIJ,EAAG,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,CAAC,CAAC,EACtHK,GAAO,IAAIL,EAAG,CAAC,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,EAAE,CAAC,EAChFM,GAAO,SAASC,EAAI1B,EAAO,CAE7B,QADI/S,EAAI,IAAImU,GAAI,EAAE,EACTlR,EAAK,EAAGA,EAAK,GAAI,EAAEA,EAC1BjD,EAAEiD,CAAE,EAAI8P,GAAS,GAAK0B,EAAGxR,EAAK,CAAC,EAGjC,QADI2L,EAAK,IAAIwF,GAAIpU,EAAE,EAAE,CAAC,EACbiD,EAAK,EAAGA,EAAK,GAAI,EAAEA,EAC1B,QAASiD,EAAIlG,EAAEiD,CAAE,EAAGiD,EAAIlG,EAAEiD,EAAK,CAAC,EAAG,EAAEiD,EACnC0I,EAAG1I,CAAC,EAAIA,EAAIlG,EAAEiD,CAAE,GAAK,EAAIA,EAG7B,MAAO,CAACjD,EAAG4O,CAAE,CACf,EACI8F,GAAKF,GAAKH,GAAM,CAAC,EACjBM,GAAKD,GAAG,CAAC,EACTE,GAAQF,GAAG,CAAC,EAChBC,GAAG,EAAE,EAAI,IAAKC,GAAM,GAAG,EAAI,GAC3B,IAAIC,GAAKL,GAAKF,GAAM,CAAC,EACjBQ,GAAKD,GAAG,CAAC,EACTE,GAAQF,GAAG,CAAC,EACZG,GAAM,IAAIb,GAAI,KAAK,EACvB,IAAKc,EAAK,EAAGA,EAAK,MAAO,EAAEA,EACzBC,IAAKD,EAAK,SAAW,GAAKA,EAAK,QAAU,EACzCC,IAAKA,GAAI,SAAW,GAAKA,GAAI,QAAU,EACvCA,IAAKA,GAAI,SAAW,GAAKA,GAAI,OAAS,EACtCF,GAAIC,CAAE,IAAMC,GAAI,SAAW,GAAKA,GAAI,MAAQ,KAAO,EAErD,IAAIA,GACAD,EACAE,GAAO,SAASC,EAAIC,EAAIzG,EAAI,CAI9B,QAHI3E,EAAKmL,EAAG,OACRnS,EAAK,EACLuJ,EAAK,IAAI2H,GAAIkB,CAAE,EACZpS,EAAKgH,EAAI,EAAEhH,EACZmS,EAAGnS,CAAE,GACP,EAAEuJ,EAAG4I,EAAGnS,CAAE,EAAI,CAAC,EAEnB,IAAIqS,EAAK,IAAInB,GAAIkB,CAAE,EACnB,IAAKpS,EAAK,EAAGA,EAAKoS,EAAI,EAAEpS,EACtBqS,EAAGrS,CAAE,EAAIqS,EAAGrS,EAAK,CAAC,EAAIuJ,EAAGvJ,EAAK,CAAC,GAAK,EAEtC,IAAIsS,EACJ,GAAI3G,EAAI,CACN2G,EAAK,IAAIpB,GAAI,GAAKkB,CAAE,EACpB,IAAIG,EAAM,GAAKH,EACf,IAAKpS,EAAK,EAAGA,EAAKgH,EAAI,EAAEhH,EACtB,GAAImS,EAAGnS,CAAE,EAIP,QAHIwS,EAAKxS,GAAM,EAAImS,EAAGnS,CAAE,EACpByS,EAAML,EAAKD,EAAGnS,CAAE,EAChB8L,EAAIuG,EAAGF,EAAGnS,CAAE,EAAI,CAAC,KAAOyS,EACnB3T,EAAIgN,GAAK,GAAK2G,GAAO,EAAG3G,GAAKhN,EAAG,EAAEgN,EACzCwG,EAAGP,GAAIjG,CAAC,IAAMyG,CAAG,EAAIC,CAI7B,KAEE,KADAF,EAAK,IAAIpB,GAAIlK,CAAE,EACVhH,EAAK,EAAGA,EAAKgH,EAAI,EAAEhH,EAClBmS,EAAGnS,CAAE,IACPsS,EAAGtS,CAAE,EAAI+R,GAAIM,EAAGF,EAAGnS,CAAE,EAAI,CAAC,GAAG,IAAM,GAAKmS,EAAGnS,CAAE,GAInD,OAAOsS,CACT,EACII,GAAM,IAAIzB,EAAG,GAAG,EACpB,IAAKe,EAAK,EAAGA,EAAK,IAAK,EAAEA,EACvBU,GAAIV,CAAE,EAAI,EACZ,IAAIA,EACJ,IAAKA,EAAK,IAAKA,EAAK,IAAK,EAAEA,EACzBU,GAAIV,CAAE,EAAI,EACZ,IAAIA,EACJ,IAAKA,EAAK,IAAKA,EAAK,IAAK,EAAEA,EACzBU,GAAIV,CAAE,EAAI,EACZ,IAAIA,EACJ,IAAKA,EAAK,IAAKA,EAAK,IAAK,EAAEA,EACzBU,GAAIV,CAAE,EAAI,EACZ,IAAIA,EACAW,GAAM,IAAI1B,EAAG,EAAE,EACnB,IAAKe,EAAK,EAAGA,EAAK,GAAI,EAAEA,EACtBW,GAAIX,CAAE,EAAI,EACZ,IAAIA,EACAY,GAAuBV,GAAKQ,GAAK,EAAG,CAAC,EACrCG,GAAuBX,GAAKS,GAAK,EAAG,CAAC,EACrCG,GAAM,SAAShW,EAAI,CAErB,QADIgC,EAAIhC,EAAG,CAAC,EACHkD,EAAK,EAAGA,EAAKlD,EAAG,OAAQ,EAAEkD,EAC7BlD,EAAGkD,CAAE,EAAIlB,IACXA,EAAIhC,EAAGkD,CAAE,GAEb,OAAOlB,CACT,EACIiU,EAAO,SAAShM,EAAGnI,EAAIE,EAAG,CAC5B,IAAI8M,EAAKhN,EAAK,EAAI,EAClB,OAAQmI,EAAE6E,CAAE,EAAI7E,EAAE6E,EAAK,CAAC,GAAK,KAAOhN,EAAK,GAAKE,CAChD,EACIkU,GAAS,SAASjM,EAAGnI,EAAI,CAC3B,IAAIgN,EAAKhN,EAAK,EAAI,EAClB,OAAQmI,EAAE6E,CAAE,EAAI7E,EAAE6E,EAAK,CAAC,GAAK,EAAI7E,EAAE6E,EAAK,CAAC,GAAK,MAAQhN,EAAK,EAC7D,EACIqU,GAAO,SAASrU,EAAI,CACtB,OAAQA,EAAK,GAAK,EAAI,CACxB,EACIsU,GAAM,SAASpH,EAAG9E,EAAI5I,EAAI,EACxB4I,GAAM,MAAQA,EAAK,KACrBA,EAAK,IACH5I,GAAM,MAAQA,EAAK0N,EAAE,UACvB1N,EAAK0N,EAAE,QACT,IAAIL,EAAK,IAAKK,EAAE,mBAAqB,EAAIoF,GAAMpF,EAAE,mBAAqB,EAAIqF,GAAMF,GAAI7S,EAAK4I,CAAE,EAC3F,OAAAyE,EAAG,IAAIK,EAAE,SAAS9E,EAAI5I,CAAE,CAAC,EAClBqN,CACT,EACI0H,GAAK,CACP,iBACA,qBACA,yBACA,mBACA,kBACA,oBACA,CACA,cACA,qBACA,uBACA,8BACA,oBACA,mBACA,kBACF,EACIC,EAAM,SAASC,EAAKC,EAAKC,EAAI,CAC/B,IAAInV,EAAK,IAAI,MAAMkV,GAAOH,GAAGE,CAAG,CAAC,EAIjC,GAHAjV,EAAG,KAAOiV,EACN,MAAM,mBACR,MAAM,kBAAkBjV,EAAIgV,CAAG,EAC7B,CAACG,EACH,MAAMnV,EACR,OAAOA,CACT,EACIoV,GAAQ,SAASC,EAAKnM,EAAKoM,EAAI,CACjC,IAAIC,EAAKF,EAAI,OACb,GAAI,CAACE,GAAMD,GAAMA,EAAG,GAAK,CAACA,EAAG,EAC3B,OAAOpM,GAAO,IAAI2J,EAAG,CAAC,EACxB,IAAI2C,EAAQ,CAACtM,GAAOoM,EAChBG,EAAO,CAACH,GAAMA,EAAG,EAChBA,IACHA,EAAK,CAAC,GACHpM,IACHA,EAAM,IAAI2J,EAAG0C,EAAK,CAAC,GACrB,IAAIG,EAAO,SAASC,GAAK,CACvB,IAAIC,GAAK1M,EAAI,OACb,GAAIyM,GAAMC,GAAI,CACZ,IAAIC,GAAO,IAAIhD,EAAG,KAAK,IAAI+C,GAAK,EAAGD,EAAG,CAAC,EACvCE,GAAK,IAAI3M,CAAG,EACZA,EAAM2M,EACR,CACF,EACIC,EAAQR,EAAG,GAAK,EAAG9S,EAAM8S,EAAG,GAAK,EAAGS,EAAKT,EAAG,GAAK,EAAGU,EAAKV,EAAG,EAAGW,EAAKX,EAAG,EAAGY,EAAMZ,EAAG,EAAGa,EAAMb,EAAG,EAC/Fc,EAAOb,EAAK,EAChB,EAAG,CACD,GAAI,CAACS,EAAI,CACPF,EAAQnB,EAAKU,EAAK7S,EAAK,CAAC,EACxB,IAAIoE,EAAO+N,EAAKU,EAAK7S,EAAM,EAAG,CAAC,EAE/B,GADAA,GAAO,EACFoE,EAYE,GAAIA,GAAQ,EACjBoP,EAAKxB,GAAMyB,EAAKxB,GAAMyB,EAAM,EAAGC,EAAM,UAC9BvP,GAAQ,EAAG,CAClB,IAAIyP,EAAO1B,EAAKU,EAAK7S,EAAK,EAAE,EAAI,IAAK8T,EAAQ3B,EAAKU,EAAK7S,EAAM,GAAI,EAAE,EAAI,EACnE+T,EAAKF,EAAO1B,EAAKU,EAAK7S,EAAM,EAAG,EAAE,EAAI,EACzCA,GAAO,GAGP,QAFIgU,EAAM,IAAI3D,EAAG0D,CAAE,EACfE,EAAM,IAAI5D,EAAG,EAAE,EACVjR,EAAK,EAAGA,EAAK0U,EAAO,EAAE1U,EAC7B6U,EAAIvD,GAAKtR,CAAE,CAAC,EAAI+S,EAAKU,EAAK7S,EAAMZ,EAAK,EAAG,CAAC,EAE3CY,GAAO8T,EAAQ,EAGf,QAFII,EAAMhC,GAAI+B,CAAG,EAAGE,GAAU,GAAKD,GAAO,EACtCE,EAAM9C,GAAK2C,EAAKC,EAAK,CAAC,EACjB9U,EAAK,EAAGA,EAAK2U,GAAM,CAC1B,IAAIhJ,EAAKqJ,EAAIjC,EAAKU,EAAK7S,EAAKmU,CAAM,CAAC,EACnCnU,GAAO+K,EAAK,GACZ,IAAI3E,EAAK2E,IAAO,EAChB,GAAI3E,EAAK,GACP4N,EAAI5U,GAAI,EAAIgH,MACP,CACL,IAAIC,EAAK,EAAGwE,EAAK,EAOjB,IANIzE,GAAM,IACRyE,EAAK,EAAIsH,EAAKU,EAAK7S,EAAK,CAAC,EAAGA,GAAO,EAAGqG,EAAK2N,EAAI5U,EAAK,CAAC,GAC9CgH,GAAM,IACbyE,EAAK,EAAIsH,EAAKU,EAAK7S,EAAK,CAAC,EAAGA,GAAO,GAC5BoG,GAAM,KACbyE,EAAK,GAAKsH,EAAKU,EAAK7S,EAAK,GAAG,EAAGA,GAAO,GACjC6K,KACLmJ,EAAI5U,GAAI,EAAIiH,CAChB,CACF,CACA,IAAIgO,EAAKL,EAAI,SAAS,EAAGH,CAAI,EAAGtF,EAAKyF,EAAI,SAASH,CAAI,EACtDH,EAAMxB,GAAImC,CAAE,EACZV,EAAMzB,GAAI3D,CAAE,EACZiF,EAAKlC,GAAK+C,EAAIX,EAAK,CAAC,EACpBD,EAAKnC,GAAK/C,EAAIoF,EAAK,CAAC,CACtB,MACEnB,EAAI,CAAC,MAlDI,CACT,IAAIpM,EAAKiM,GAAKrS,CAAG,EAAI,EAAG2I,EAAKkK,EAAIzM,EAAK,CAAC,EAAIyM,EAAIzM,EAAK,CAAC,GAAK,EAAGrH,EAAKqH,EAAKuC,EACvE,GAAI5J,EAAKgU,EAAI,CACPE,GACFT,EAAI,CAAC,EACP,KACF,CACIQ,GACFE,EAAKK,EAAK5K,CAAE,EACdjC,EAAI,IAAImM,EAAI,SAASzM,EAAIrH,CAAE,EAAGwU,CAAE,EAChCT,EAAG,EAAIS,GAAM5K,EAAImK,EAAG,EAAI9S,EAAMjB,EAAK,EAAG+T,EAAG,EAAIQ,EAC7C,QACF,CAuCA,GAAItT,EAAM4T,EAAM,CACVX,GACFT,EAAI,CAAC,EACP,KACF,CACF,CACIQ,GACFE,EAAKK,EAAK,MAAM,EAGlB,QAFIe,GAAO,GAAKZ,GAAO,EAAGa,GAAO,GAAKZ,GAAO,EACzCa,EAAOxU,GACFwU,EAAOxU,EAAK,CACnB,IAAIqG,EAAKmN,EAAGpB,GAAOS,EAAK7S,CAAG,EAAIsU,CAAG,EAAGG,EAAMpO,IAAO,EAElD,GADArG,GAAOqG,EAAK,GACRrG,EAAM4T,EAAM,CACVX,GACFT,EAAI,CAAC,EACP,KACF,CAGA,GAFKnM,GACHmM,EAAI,CAAC,EACHiC,EAAM,IACR/N,EAAI6M,GAAI,EAAIkB,UACLA,GAAO,IAAK,CACnBD,EAAOxU,EAAKwT,EAAK,KACjB,KACF,KAAO,CACL,IAAIkB,EAAMD,EAAM,IAChB,GAAIA,EAAM,IAAK,CACb,IAAIrV,EAAKqV,EAAM,IAAKtY,EAAIqU,GAAKpR,CAAE,EAC/BsV,EAAMvC,EAAKU,EAAK7S,GAAM,GAAK7D,GAAK,CAAC,EAAI2U,GAAG1R,CAAE,EAC1CY,GAAO7D,CACT,CACA,IAAIgK,EAAIsN,EAAGrB,GAAOS,EAAK7S,CAAG,EAAIuU,CAAG,EAAGI,GAAOxO,IAAM,EAC5CA,GACHqM,EAAI,CAAC,EACPxS,GAAOmG,EAAI,GACX,IAAIoI,EAAK0C,GAAG0D,EAAI,EAChB,GAAIA,GAAO,EAAG,CACZ,IAAIxY,EAAIsU,GAAKkE,EAAI,EACjBpG,GAAM6D,GAAOS,EAAK7S,CAAG,GAAK,GAAK7D,GAAK,EAAG6D,GAAO7D,CAChD,CACA,GAAI6D,EAAM4T,EAAM,CACVX,GACFT,EAAI,CAAC,EACP,KACF,CACIQ,GACFE,EAAKK,EAAK,MAAM,EAElB,QADIxQ,GAAMwQ,EAAKmB,EACRnB,EAAKxQ,GAAKwQ,GAAM,EACrB7M,EAAI6M,CAAE,EAAI7M,EAAI6M,EAAKhF,CAAE,EACrB7H,EAAI6M,EAAK,CAAC,EAAI7M,EAAI6M,EAAK,EAAIhF,CAAE,EAC7B7H,EAAI6M,EAAK,CAAC,EAAI7M,EAAI6M,EAAK,EAAIhF,CAAE,EAC7B7H,EAAI6M,EAAK,CAAC,EAAI7M,EAAI6M,EAAK,EAAIhF,CAAE,EAE/BgF,EAAKxQ,EACP,CACF,CACA+P,EAAG,EAAIU,EAAIV,EAAG,EAAI0B,EAAM1B,EAAG,EAAIS,EAAIT,EAAG,EAAIQ,EACtCE,IACFF,EAAQ,EAAGR,EAAG,EAAIY,EAAKZ,EAAG,EAAIW,EAAIX,EAAG,EAAIa,EAC7C,OAAS,CAACL,GACV,OAAOC,GAAM7M,EAAI,OAASA,EAAM4L,GAAI5L,EAAK,EAAG6M,CAAE,CAChD,EACIqB,GAAqB,IAAIvE,EAAG,CAAC,EAC7BwE,GAAM,SAAS1O,EAAG,EAChBA,EAAE,CAAC,GAAK,IAAMA,EAAE,CAAC,GAAK,KAAOA,EAAE,CAAC,GAAK,IACvCqM,EAAI,EAAG,mBAAmB,EAC5B,IAAIsC,EAAM3O,EAAE,CAAC,EACT2M,EAAK,GACLgC,EAAM,IACRhC,GAAM3M,EAAE,EAAE,GAAKA,EAAE,EAAE,GAAK,GAAK,GAC/B,QAAS4O,GAAMD,GAAO,EAAI,IAAMA,GAAO,EAAI,GAAIC,EAAK,EAAGA,GAAM,CAAC5O,EAAE2M,GAAI,EAClE,CACF,OAAOA,GAAMgC,EAAM,EACrB,EACIE,GAAM,SAAS7O,EAAG,CACpB,IAAIwC,EAAKxC,EAAE,OACX,OAAQA,EAAEwC,EAAK,CAAC,EAAIxC,EAAEwC,EAAK,CAAC,GAAK,EAAIxC,EAAEwC,EAAK,CAAC,GAAK,GAAKxC,EAAEwC,EAAK,CAAC,GAAK,MAAQ,CAC9E,EACIsM,GAAM,SAAS9O,EAAG,GACfA,EAAE,CAAC,EAAI,KAAO,GAAKA,EAAE,CAAC,IAAM,EAAI,IAAMA,EAAE,CAAC,GAAK,EAAIA,EAAE,CAAC,GAAK,KAC7DqM,EAAI,EAAG,mBAAmB,EACxBrM,EAAE,CAAC,EAAI,IACTqM,EAAI,EAAG,sDAAsD,CACjE,EACA,SAAS0C,GAAYxV,EAAMyV,EAAK,CAC9B,OAAOvC,GAAMlT,EAAMyV,CAAG,CACxB,CACA,SAASC,GAAW1V,EAAMyV,EAAK,CAC7B,OAAOvC,GAAMlT,EAAK,SAASmV,GAAInV,CAAI,EAAG,EAAE,EAAGyV,GAAO,IAAI9E,EAAG2E,GAAItV,CAAI,CAAC,CAAC,CACrE,CACA,SAAS2V,GAAW3V,EAAMyV,EAAK,CAC7B,OAAOvC,IAAOqC,GAAIvV,CAAI,EAAGA,EAAK,SAAS,EAAG,EAAE,GAAIyV,CAAG,CACrD,CACA,SAASG,GAAe5V,EAAMyV,EAAK,CACjC,OAAOzV,EAAK,CAAC,GAAK,IAAMA,EAAK,CAAC,GAAK,KAAOA,EAAK,CAAC,GAAK,EAAI0V,GAAW1V,EAAMyV,CAAG,GAAKzV,EAAK,CAAC,EAAI,KAAO,GAAKA,EAAK,CAAC,GAAK,EAAI,IAAMA,EAAK,CAAC,GAAK,EAAIA,EAAK,CAAC,GAAK,GAAKwV,GAAYxV,EAAMyV,CAAG,EAAIE,GAAW3V,EAAMyV,CAAG,CAC3M,CACA,IAAII,GAAK,OAAO,YAAe,KAA+B,IAAI,YAC9DC,GAAM,EACV,GAAI,CACFD,GAAG,OAAOX,GAAI,CAAE,OAAQ,EAAK,CAAC,EAC9BY,GAAM,CACR,MAAa,CACb,CACA,IAAIC,GAAQ,CAAC5K,EAAI6K,IACR7K,EAAK,KAAK,IAAI,EAAG6K,CAAM,EAE5BC,GAAU,CAAC9K,EAAI6K,IACV,KAAK,MAAM7K,EAAK,KAAK,IAAI,EAAG6K,CAAM,CAAC,EAExCE,GAAY,CAACC,EAAM7V,IACdyV,GAAMI,EAAK,UAAU7V,EAAM,EAAG,EAAI,EAAG,CAAC,EAAI6V,EAAK,SAAS7V,CAAG,EAEhE8V,GAAY,CAACD,EAAM7V,IACdyV,GAAMI,EAAK,UAAU7V,EAAM,EAAG,EAAI,EAAG,EAAE,EAAI6V,EAAK,UAAU7V,EAAK,EAAI,EAExE+V,GAAU,CAACC,EAAIC,EAAIC,EAAIL,EAAMzW,IAAO,CACtC,GAAI4W,GAAMH,EAAK,SAASzW,CAAE,EACxB,OAAO4W,EAAKH,EAAK,SAASzW,CAAE,EAC9B,IAAM1B,EAAKkY,GAAUC,EAAMzW,EAAK,CAAC,EACjC,GAAI6W,GAAMvY,EACR,OAAOuY,EAAKvY,EACd,IAAMK,EAAI6X,GAAUC,EAAMzW,EAAK,CAAC,EAChC,OAAI8W,GAAMnY,EACDmY,EAAKnY,EACP,CACT,EACIoY,GAAe,CAACN,EAAM9R,EAAIrG,EAAIK,IAAM,CACtC,IAAMqY,EAAaC,GAAUR,EAAM9R,EAAK,IAAKrG,EAAIK,CAAC,EAClD,OAAIqY,EACK,CACL,EAAGrS,EACH,EAAGrG,EACH,EAAAK,EACA,OAAQqY,EAAW,CAAC,EACpB,OAAQA,EAAW,CAAC,EACpB,OAAQ,EACV,EAEK,IACT,EACIE,GAAY,CAACT,EAAM9R,EAAIrG,EAAIK,IAAM,CACnC,IAAMqY,EAAaC,GAAUR,EAAM9R,EAAIrG,EAAIK,CAAC,EAC5C,OAAIqY,EACK,CACL,EAAGrS,EACH,EAAGrG,EACH,EAAAK,EACA,OAAQqY,EAAW,CAAC,EACpB,OAAQA,EAAW,CAAC,EACpB,OAAQ,EACV,EAEK,IACT,EACIC,GAAY,CAACR,EAAM9R,EAAIrG,EAAIK,IAAM,CACnC,IAAIG,EAAI,EACJ2M,EAAKgL,EAAK,WAAa,GAAK,EAChC,KAAO3X,GAAK2M,GAAI,CACd,IAAM5M,EAAI4M,EAAK3M,GAAK,EACdqY,EAAMR,GAAQhS,EAAIrG,EAAIK,EAAG8X,EAAM5X,EAAI,EAAE,EAC3C,GAAIsY,EAAM,EACRrY,EAAID,EAAI,UACCsY,EAAM,EACf1L,EAAK5M,EAAI,MAET,OAAO,CAAC6X,GAAUD,EAAM5X,EAAI,GAAK,CAAC,EAAG4X,EAAK,UAAU5X,EAAI,GAAK,GAAI,EAAI,CAAC,CAE1E,CACA,OAAO,IACT,EACIuY,GAAY,CAACta,EAAIC,IACfD,EAAG,QAAU,CAACC,EAAE,OACX,EAEL,CAACD,EAAG,QAAUC,EAAE,OACX,GAELD,EAAG,IAAMC,EAAE,EACND,EAAG,EAAIC,EAAE,EAEdD,EAAG,IAAMC,EAAE,EACND,EAAG,EAAIC,EAAE,EAEXD,EAAG,EAAIC,EAAE,EAEdsa,GAAa,CAACC,EAAUtX,IAAO,CACjC,IAAMuX,EAAQD,EAAS,SAAStX,EAAK,EAAE,EAEvC,MAAO,CACL,EAFSuX,EAAQ,IAGjB,EAAGf,GAAUc,EAAUtX,EAAK,GAAK,CAAC,EAClC,EAAGwW,GAAUc,EAAUtX,EAAK,GAAK,CAAC,EAClC,OAAQ0W,GAAUY,EAAUtX,EAAK,GAAK,CAAC,EACvC,OAAQsX,EAAS,UAAUtX,EAAK,GAAK,GAAI,EAAI,EAC7C,OAAQuX,GAAS,IAAM,CACzB,CACF,EACIC,GAAW1a,GAAO,CACpB,IAAM2a,EAAU,CAAC,EACXhB,EAAO,IAAI,SAAS3Z,CAAE,EAC5B,QAASkD,EAAK,EAAGA,EAAKyW,EAAK,WAAa,GAAIzW,IAC1CyX,EAAQ,KAAKJ,GAAWZ,EAAMzW,CAAE,CAAC,EAEnC,OAAO0X,GAAgBD,CAAO,CAChC,EACIC,GAAmBD,GAAY,CACjCA,EAAQ,KAAKL,EAAS,EACtB,IAAM9Q,EAAS,IAAI,YAAY,GAAKmR,EAAQ,MAAM,EAC5CpP,EAAO,IAAI,WAAW/B,CAAM,EAClC,QAAStG,EAAK,EAAGA,EAAKyX,EAAQ,OAAQzX,IAAM,CAC1C,IAAM2X,EAAQF,EAAQzX,CAAE,EACpB2E,EAAKgT,EAAM,EACXA,EAAM,SACRhT,EAAKA,EAAK,KACZ0D,EAAKrI,EAAK,EAAE,EAAI2E,EAChB0D,EAAKrI,EAAK,GAAK,CAAC,EAAI2X,EAAM,EAAI,IAC9BtP,EAAKrI,EAAK,GAAK,CAAC,EAAI2X,EAAM,GAAK,EAAI,IACnCtP,EAAKrI,EAAK,GAAK,CAAC,EAAI2X,EAAM,GAAK,GAAK,IACpCtP,EAAKrI,EAAK,GAAK,CAAC,EAAI2X,EAAM,EAAI,IAC9BtP,EAAKrI,EAAK,GAAK,CAAC,EAAI2X,EAAM,GAAK,EAAI,IACnCtP,EAAKrI,EAAK,GAAK,CAAC,EAAI2X,EAAM,GAAK,GAAK,IACpCtP,EAAKrI,EAAK,GAAK,CAAC,EAAI2X,EAAM,OAAS,IACnCtP,EAAKrI,EAAK,GAAK,CAAC,EAAIuW,GAAQoB,EAAM,OAAQ,CAAC,EAAI,IAC/CtP,EAAKrI,EAAK,GAAK,CAAC,EAAIuW,GAAQoB,EAAM,OAAQ,EAAE,EAAI,IAChDtP,EAAKrI,EAAK,GAAK,EAAE,EAAIuW,GAAQoB,EAAM,OAAQ,EAAE,EAAI,IACjDtP,EAAKrI,EAAK,GAAK,EAAE,EAAIuW,GAAQoB,EAAM,OAAQ,EAAE,EAAI,IACjDtP,EAAKrI,EAAK,GAAK,EAAE,EAAIuW,GAAQoB,EAAM,OAAQ,EAAE,EAAI,IACjDtP,EAAKrI,EAAK,GAAK,EAAE,EAAI2X,EAAM,OAAS,IACpCtP,EAAKrI,EAAK,GAAK,EAAE,EAAI2X,EAAM,QAAU,EAAI,IACzCtP,EAAKrI,EAAK,GAAK,EAAE,EAAI2X,EAAM,QAAU,GAAK,IAC1CtP,EAAKrI,EAAK,GAAK,EAAE,EAAI2X,EAAM,QAAU,GAAK,GAC5C,CACA,OAAOrR,CACT,EACIsR,GAAa,CAACnB,EAAMoB,IAAS,CAC/B,GAAIpB,EAAK,WAAa,GACpB,OAAO,KACT,IAAMqB,EAAarB,EAAK,WAAa,GAC/BkB,EAAQN,GAAWZ,EAAMqB,EAAa,CAAC,EAC7C,GAAIH,EAAM,OAAQ,CAChB,IAAMI,EAAaJ,EAAM,EACnBK,EAAaH,EAAK,EAAIE,EACtBE,EAAS,KAAK,MAAMJ,EAAK,GAAK,GAAKG,EAAW,EAC9CE,EAAS,KAAK,MAAML,EAAK,GAAK,GAAKG,EAAW,EACpD,MAAO,CAAE,EAAGD,EAAY,EAAGE,EAAQ,EAAGC,CAAO,CAC/C,CACA,OAAO,IACT,EACA,SAASC,GAAUC,EAAQ,CACzB,OAAOpH,EAAS,KAAM,KAAM,WAAa,CACvC,IAAMqH,EAAO,MAAMD,EAAO,SAAS,EAAG,KAAK,EACrCd,EAAW,IAAI,SAASe,EAAK,IAAI,EACjCC,EAAYhB,EAAS,UAAU,EAAG,EAAI,EACtCiB,EAAejB,EAAS,UAAU,EAAG,EAAI,EACzCkB,EAAM,IAAI,YAAY,OAAO,EAC7BC,EAAgB,KAAK,MACzBD,EAAI,OAAO,IAAI,SAASH,EAAK,KAAM,GAAIC,CAAS,CAAC,CACnD,EACII,EAAmB,EACnBD,EAAc,cAAgB,SAChCC,EAAmB,GAErB,IAAIC,EAAU,EACV,YAAaF,IACfE,EAAU,CAACF,EAAc,SAE3B,IAAIG,EAAU,EACV,YAAaH,IACfG,EAAU,CAACH,EAAc,SAE3B,IAAII,EAAa,EACbC,EAAa,EACbC,EAAc,EACdC,EAAU,KACVC,EAAU,IACVC,EAAU,IACVC,EAAU,GACd,GAAIV,EAAc,OAAQ,CACxB,IAAMW,EAAQX,EAAc,OAAO,MAAM,GAAG,EAC5CO,EAAU,CAACI,EAAM,CAAC,EAClBH,EAAU,CAACG,EAAM,CAAC,EAClBF,EAAU,CAACE,EAAM,CAAC,EAClBD,EAAU,CAACC,EAAM,CAAC,CACpB,CACA,GAAIX,EAAc,OAAQ,CACxB,IAAMW,EAAQX,EAAc,OAAO,MAAM,GAAG,EAC5CI,EAAa,CAACO,EAAM,CAAC,EACrBN,EAAa,CAACM,EAAM,CAAC,EACrBL,EAAc,CAACK,EAAM,CAAC,CACxB,CA6BA,MA5Be,CACb,YAAa9B,EAAS,UAAU,EAAG,EAAI,EACvC,oBAAqB,GAAKgB,EAC1B,oBAAqBC,EAAe,GACpC,mBAAoB,GACpB,mBAAoBD,EACpB,oBAAqB,EACrB,oBAAqB,OACrB,eAAgB,EAChB,eAAgB,OAChB,kBAAmB,EACnB,eAAgB,EAChB,gBAAiB,EACjB,UAAW,GACX,oBAAqB,EACrB,gBAAiBI,EACjB,SAAU,EACV,QAASC,EACT,QAASC,EACT,OAAQI,EACR,OAAQC,EACR,OAAQC,EACR,OAAQC,EACR,WAAYJ,EACZ,UAAWF,EACX,UAAWC,EACX,KAAMT,EAAK,IACb,CAEF,CAAC,CACH,CACA,SAASgB,GAAOC,EAAQlB,EAAQmB,EAAO5U,EAAIrG,EAAIK,EAAG6a,EAAQ,CACxD,OAAOxI,EAAS,KAAM,KAAM,WAAa,CACvC,IAAIyI,EAAW,MAAMF,EAAM,eACzBnB,EACAkB,EAAO,oBACPA,EAAO,oBACPA,CACF,EACIA,EAAO,cAAgB,IACzBG,EAAWjC,GAAQiC,CAAQ,GAE7B,IAAM9B,EAAQT,GAAU,IAAI,SAASuC,CAAQ,EAAG9U,EAAIrG,EAAIK,CAAC,EACzD,GAAIgZ,EAAO,CAET,IAAI+B,GADS,MAAMtB,EAAO,SAAST,EAAM,OAAQA,EAAM,OAAQ6B,CAAM,GAChD,KACf/C,EAAO,IAAI,SAASiD,CAAS,EACnC,OAAIjD,EAAK,SAAS,CAAC,GAAK,IAAMA,EAAK,SAAS,CAAC,GAAK,MAChDiD,EAAYxD,GAAe,IAAI,WAAWwD,CAAS,CAAC,GAE/C,CACL,KAAMA,CACR,CACF,CACA,IAAMC,EAAa/B,GAAW,IAAI,SAAS6B,CAAQ,EAAG,CAAE,EAAG9U,EAAI,EAAGrG,EAAI,EAAAK,CAAE,CAAC,EACzE,GAAIgb,EAAY,CACd,IAAMC,EAAgB7C,GACpB,IAAI,SAAS0C,CAAQ,EACrBE,EAAW,EACXA,EAAW,EACXA,EAAW,CACb,EACA,GAAIC,EAAe,CACjB,IAAIC,EAAW,MAAMN,EAAM,eACzBnB,EACAwB,EAAc,OACdA,EAAc,OACdN,CACF,EACIA,EAAO,cAAgB,IACzBO,EAAWrC,GAAQqC,CAAQ,GAE7B,IAAMC,EAAa5C,GAAU,IAAI,SAAS2C,CAAQ,EAAGlV,EAAIrG,EAAIK,CAAC,EAC9D,GAAImb,EAAY,CAMd,IAAIJ,GALS,MAAMtB,EAAO,SACxB0B,EAAW,OACXA,EAAW,OACXN,CACF,GACqB,KACf/C,EAAO,IAAI,SAASiD,CAAS,EACnC,OAAIjD,EAAK,SAAS,CAAC,GAAK,IAAMA,EAAK,SAAS,CAAC,GAAK,MAChDiD,EAAYxD,GAAe,IAAI,WAAWwD,CAAS,CAAC,GAE/C,CACL,KAAMA,CACR,CACF,CACF,CACF,CAEF,CAAC,CACH,CACA,IAAIK,GAAa,CACf,UAAA5B,GACA,OAAAkB,EACF,EACA,SAASW,GAAMvQ,EAAKC,EAAM,CACxB,OAAQA,IAAS,GAAK,YAAcD,IAAQ,EAC9C,CACA,SAASwQ,GAAoB1Q,EAAI3K,EAAI,CACnC,IAAM0I,EAAM1I,EAAG,IACXqD,EAAGlF,EAuBP,GAtBAA,EAAIuK,EAAI1I,EAAG,KAAK,EAChBqD,GAAKlF,EAAI,MAAQ,EACbA,EAAI,MAERA,EAAIuK,EAAI1I,EAAG,KAAK,EAChBqD,IAAMlF,EAAI,MAAQ,EACdA,EAAI,OAERA,EAAIuK,EAAI1I,EAAG,KAAK,EAChBqD,IAAMlF,EAAI,MAAQ,GACdA,EAAI,OAERA,EAAIuK,EAAI1I,EAAG,KAAK,EAChBqD,IAAMlF,EAAI,MAAQ,GACdA,EAAI,OAERA,EAAIuK,EAAI1I,EAAG,KAAK,EAChBqD,IAAMlF,EAAI,MAAQ,GACdA,EAAI,OAERA,EAAIuK,EAAI1I,EAAG,KAAK,EAChBqD,IAAMlF,EAAI,IAAM,GACZA,EAAI,KACN,OAAOid,GAAMzQ,EAAItH,CAAC,EACpB,MAAM,IAAI,MAAM,wCAAwC,CAC1D,CACA,SAASiY,GAAWtb,EAAI,CACtB,IAAM0I,EAAM1I,EAAG,IACXgJ,EAAK7K,EAeT,OAdAA,EAAIuK,EAAI1I,EAAG,KAAK,EAChBgJ,EAAM7K,EAAI,IACNA,EAAI,MAERA,EAAIuK,EAAI1I,EAAG,KAAK,EAChBgJ,IAAQ7K,EAAI,MAAQ,EAChBA,EAAI,OAERA,EAAIuK,EAAI1I,EAAG,KAAK,EAChBgJ,IAAQ7K,EAAI,MAAQ,GAChBA,EAAI,OAERA,EAAIuK,EAAI1I,EAAG,KAAK,EAChBgJ,IAAQ7K,EAAI,MAAQ,GAChBA,EAAI,KACC6K,GACT7K,EAAIuK,EAAI1I,EAAG,GAAG,EACdgJ,IAAQ7K,EAAI,KAAO,GACZkd,GAAoBrS,EAAKhJ,CAAE,EACpC,CACA,SAASub,GAAO1O,EAAI2O,EAAIC,EAAIC,EAAI,CAC9B,GAAIA,GAAM,EAAG,CACPD,GAAM,IACRD,EAAG,CAAC,EAAI3O,EAAK,EAAI2O,EAAG,CAAC,EACrBA,EAAG,CAAC,EAAI3O,EAAK,EAAI2O,EAAG,CAAC,GAEvB,IAAMza,EAAKya,EAAG,CAAC,EACfA,EAAG,CAAC,EAAIA,EAAG,CAAC,EACZA,EAAG,CAAC,EAAIza,CACV,CACF,CACA,SAAS4a,GAAY5V,EAAIrG,EAAIK,EAAG,CAC9B,GAAIgG,EAAK,GACP,MAAM,MAAM,oDAAoD,EAElE,GAAIrG,EAAK,KAAK,IAAI,EAAGqG,CAAE,EAAI,GAAKhG,EAAI,KAAK,IAAI,EAAGgG,CAAE,EAAI,EACpD,MAAM,MAAM,oCAAoC,EAElD,IAAI6V,EAAM,EACN5D,EAAK,EACT,KAAOA,EAAKjS,GACV6V,GAAO,KAAK,IAAI,EAAG5D,CAAE,EAAI,KAAK,IAAI,EAAGA,CAAE,EACvCA,IAEF,IAAMnL,EAAK,KAAK,IAAI,EAAG9G,CAAE,EACrB0V,EAAK,EACLC,EAAK,EACLvT,EAAI,EACFqT,EAAK,CAAC9b,EAAIK,CAAC,EACbqI,EAAKyE,EAAK,EACd,KAAOzE,EAAK,GACVqT,GAAMD,EAAG,CAAC,EAAIpT,GAAM,EAAI,EAAI,EAC5BsT,GAAMF,EAAG,CAAC,EAAIpT,GAAM,EAAI,EAAI,EAC5BD,GAAKC,EAAKA,GAAM,EAAIqT,EAAKC,GACzBH,GAAOnT,EAAIoT,EAAIC,EAAIC,CAAE,EACrBtT,EAAKA,EAAK,EAEZ,OAAOwT,EAAMzT,CACf,CACA,SAAS0T,GAAiBnT,EAAKoT,EAAa,CAC1C,OAAO1J,EAAS,KAAM,KAAM,WAAa,CACvC,GAAI0J,IAAgB,GAAKA,IAAgB,EACvC,OAAOpT,EACF,GAAIoT,IAAgB,EACzB,OAAOxE,GAAe,IAAI,WAAW5O,CAAG,CAAC,EAEzC,MAAM,MAAM,kCAAkC,CAElD,CAAC,CACH,CACA,IAAIqT,GAAoB,IACxB,SAASC,GAASnD,EAASoD,EAAQ,CACjC,IAAI/b,EAAI,EACJ2M,EAAKgM,EAAQ,OAAS,EAC1B,KAAO3Y,GAAK2M,GAAI,CACd,IAAM5M,EAAI4M,EAAK3M,GAAK,EACdqY,EAAM0D,EAASpD,EAAQ5Y,CAAC,EAAE,OAChC,GAAIsY,EAAM,EACRrY,EAAID,EAAI,UACCsY,EAAM,EACf1L,EAAK5M,EAAI,MAET,QAAO4Y,EAAQ5Y,CAAC,CAEpB,CACA,OAAI4M,GAAM,IACJgM,EAAQhM,CAAE,EAAE,YAAc,GAG1BoP,EAASpD,EAAQhM,CAAE,EAAE,OAASgM,EAAQhM,CAAE,EAAE,WACrCgM,EAAQhM,CAAE,EAGd,IACT,CACA,IAAIqP,GAAc,KAAM,CACtB,YAAYC,EAAK,CACf,KAAK,IAAMA,CACb,CACA,QAAS,CACP,OAAO,KAAK,GACd,CACA,SAASxU,EAAQnC,EAAQoV,EAAQ,CAC/B,OAAOxI,EAAS,KAAM,KAAM,WAAa,CACvC,IAAIgK,EACCxB,IACHwB,EAAa,IAAI,gBACjBxB,EAASwB,EAAW,QAEtB,IAAI3C,EAAO,MAAM,MAAM,KAAK,IAAK,CAC/B,OAAAmB,EACA,QAAS,CAAE,MAAO,SAAWjT,EAAS,KAAOA,EAASnC,EAAS,EAAG,CACpE,CAAC,EACD,GAAIiU,EAAK,SAAW,KAAO9R,IAAW,EAAG,CACvC,IAAM0U,EAAgB5C,EAAK,QAAQ,IAAI,eAAe,EACtD,GAAI,CAAC4C,GAAiB,CAACA,EAAc,WAAW,UAAU,EACxD,MAAM,MAAM,wCAAwC,EAEtD,IAAMC,EAAgB,CAACD,EAAc,OAAO,CAAC,EAC7C5C,EAAO,MAAM,MAAM,KAAK,IAAK,CAC3B,OAAAmB,EACA,QAAS,CAAE,MAAO,YAAc0B,EAAgB,EAAG,CACrD,CAAC,CACH,CACA,GAAI7C,EAAK,QAAU,IACjB,MAAM,MAAM,sBAAwBA,EAAK,MAAM,EAEjD,IAAM8C,EAAiB9C,EAAK,QAAQ,IAAI,gBAAgB,EACxD,GAAIA,EAAK,SAAW,MAAQ,CAAC8C,GAAkB,CAACA,EAAiB/W,GAC/D,MAAI4W,GACFA,EAAW,MAAM,EACb,MACJ,2IACF,EAGF,MAAO,CACL,KAFS,MAAM3C,EAAK,YAAY,EAGhC,KAAMA,EAAK,QAAQ,IAAI,MAAM,GAAK,OAClC,aAAcA,EAAK,QAAQ,IAAI,eAAe,GAAK,OACnD,QAASA,EAAK,QAAQ,IAAI,SAAS,GAAK,MAC1C,CACF,CAAC,CACH,CACF,EACA,SAAS+C,EAAUtP,EAAGvF,EAAQ,CAC5B,IAAM8U,EAAKvP,EAAE,UAAUvF,EAAS,EAAG,EAAI,EACjC+U,EAAKxP,EAAE,UAAUvF,EAAS,EAAG,EAAI,EACvC,OAAO8U,EAAK,KAAK,IAAI,EAAG,EAAE,EAAIC,CAChC,CACA,SAASC,GAAcC,EAAOC,EAAM,CAClC,IAAM3P,EAAI,IAAI,SAAS0P,CAAK,EACtBE,EAAe5P,EAAE,SAAS,CAAC,EACjC,GAAI4P,EAAe,EACjB,MAAM,MACJ,2BAA2BA,CAAY,iDACzC,EAEF,MAAO,CACL,YAAaA,EACb,oBAAqBN,EAAUtP,EAAG,CAAC,EACnC,oBAAqBsP,EAAUtP,EAAG,EAAE,EACpC,mBAAoBsP,EAAUtP,EAAG,EAAE,EACnC,mBAAoBsP,EAAUtP,EAAG,EAAE,EACnC,oBAAqBsP,EAAUtP,EAAG,EAAE,EACpC,oBAAqBsP,EAAUtP,EAAG,EAAE,EACpC,eAAgBsP,EAAUtP,EAAG,EAAE,EAC/B,eAAgBsP,EAAUtP,EAAG,EAAE,EAC/B,kBAAmBsP,EAAUtP,EAAG,EAAE,EAClC,eAAgBsP,EAAUtP,EAAG,EAAE,EAC/B,gBAAiBsP,EAAUtP,EAAG,EAAE,EAChC,UAAWA,EAAE,SAAS,EAAE,IAAM,EAC9B,oBAAqBA,EAAE,SAAS,EAAE,EAClC,gBAAiBA,EAAE,SAAS,EAAE,EAC9B,SAAUA,EAAE,SAAS,EAAE,EACvB,QAASA,EAAE,SAAS,GAAG,EACvB,QAASA,EAAE,SAAS,GAAG,EACvB,OAAQA,EAAE,SAAS,IAAK,EAAI,EAAI,IAChC,OAAQA,EAAE,SAAS,IAAK,EAAI,EAAI,IAChC,OAAQA,EAAE,SAAS,IAAK,EAAI,EAAI,IAChC,OAAQA,EAAE,SAAS,IAAK,EAAI,EAAI,IAChC,WAAYA,EAAE,SAAS,GAAG,EAC1B,UAAWA,EAAE,SAAS,IAAK,EAAI,EAAI,IACnC,UAAWA,EAAE,SAAS,IAAK,EAAI,EAAI,IACnC,KAAA2P,CACF,CACF,CACA,SAASE,GAAiBrV,EAAQ,CAChC,IAAM1H,EAAK,CAAE,IAAK,IAAI,WAAW0H,CAAM,EAAG,IAAK,CAAE,EAC3CwR,EAAaoC,GAAWtb,CAAE,EAC1B6Y,EAAU,CAAC,EACbmE,EAAS,EACb,QAAS5b,EAAK,EAAGA,EAAK8X,EAAY9X,IAAM,CACtC,IAAM8L,EAAIoO,GAAWtb,CAAE,EACvB6Y,EAAQ,KAAK,CAAE,OAAQmE,EAAS9P,EAAG,OAAQ,EAAG,OAAQ,EAAG,UAAW,CAAE,CAAC,EACvE8P,GAAU9P,CACZ,CACA,QAAS9L,EAAK,EAAGA,EAAK8X,EAAY9X,IAChCyX,EAAQzX,CAAE,EAAE,UAAYka,GAAWtb,CAAE,EAEvC,QAASoB,EAAK,EAAGA,EAAK8X,EAAY9X,IAChCyX,EAAQzX,CAAE,EAAE,OAASka,GAAWtb,CAAE,EAEpC,QAASoB,EAAK,EAAGA,EAAK8X,EAAY9X,IAAM,CACtC,IAAM8L,EAAIoO,GAAWtb,CAAE,EACnBkN,IAAM,GAAK9L,EAAK,EAClByX,EAAQzX,CAAE,EAAE,OAASyX,EAAQzX,EAAK,CAAC,EAAE,OAASyX,EAAQzX,EAAK,CAAC,EAAE,OAE9DyX,EAAQzX,CAAE,EAAE,OAAS8L,EAAI,CAE7B,CACA,OAAO2L,CACT,CACA,SAASoE,GAAc/e,EAAI,CACzB,IAAMgP,EAAI,IAAI,SAAShP,CAAE,EACzB,OAAIgP,EAAE,UAAU,EAAG,EAAI,IAAM,GAC3B,QAAQ,KACN,0GACF,EACO,GACEA,EAAE,UAAU,EAAG,EAAI,IAAM,GAClC,QAAQ,KACN,0GACF,EACO,GAEF,CACT,CACA,IAAIgQ,GAAe,cAAc,KAAM,CACvC,EACA,SAASC,GAAiB3D,EAAQ4D,EAAYC,EAAUC,EAAc,CACpE,OAAOlL,EAAS,KAAM,KAAM,WAAa,CACvC,IAAMqH,EAAO,MAAMD,EAAO,SAAS,EAAG,KAAK,EAE3C,GADU,IAAI,SAASC,EAAK,IAAI,EAC1B,UAAU,EAAG,EAAI,IAAM,MAC3B,MAAM,IAAI,MAAM,wCAAwC,EAE1D,GAAIwD,GAAcxD,EAAK,IAAI,EAAI,EAC7B,MAAO,CAAC,MAAM0B,GAAW,UAAU3B,CAAM,CAAC,EAE5C,IAAM+D,EAAa9D,EAAK,KAAK,MAAM,EAAGsC,EAAiB,EACnDyB,EAAY/D,EAAK,KACjB6D,GAAgB7D,EAAK,MAAQ6D,IAC/B,QAAQ,KACN,6GAA+G9D,EAAO,OAAO,CAC/H,EACAgE,EAAY,QAEd,IAAM9C,EAASiC,GAAcY,EAAYC,CAAS,EAClD,GAAIH,EAAU,CACZ,IAAMI,EAAchE,EAAK,KAAK,MAC5BiB,EAAO,oBACPA,EAAO,oBAAsBA,EAAO,mBACtC,EACMgD,EAASlE,EAAO,OAAO,EAAI,KAAOkB,EAAO,MAAQ,IAAM,IAAMA,EAAO,oBAAsB,IAAMA,EAAO,oBACvGiD,EAAUZ,GACd,MAAMK,EAAWK,EAAa/C,EAAO,mBAAmB,CAC1D,EACA,MAAO,CAACA,EAAQ,CAACgD,EAAQC,EAAQ,OAAQA,CAAO,CAAC,CACnD,CACA,MAAO,CAACjD,EAAQ,MAAM,CACxB,CAAC,CACH,CACA,SAASkD,GAAapE,EAAQ4D,EAAYzV,EAAQnC,EAAQkV,EAAQ,CAChE,OAAOtI,EAAS,KAAM,KAAM,WAAa,CACvC,IAAMqH,EAAO,MAAMD,EAAO,SAAS7R,EAAQnC,CAAM,EACjD,GAAIkV,EAAO,MAAQA,EAAO,OAASjB,EAAK,KACtC,MAAM,IAAIyD,GAAazD,EAAK,IAAI,EAElC,IAAM/X,EAAO,MAAM0b,EAAW3D,EAAK,KAAMiB,EAAO,mBAAmB,EAC7DmD,EAAYd,GAAiBrb,CAAI,EACvC,GAAImc,EAAU,SAAW,EACvB,MAAM,IAAI,MAAM,4BAA4B,EAE9C,OAAOA,CACT,CAAC,CACH,CACA,IAAIC,GAAqB,KAAM,CAC7B,YAAYC,EAAkB,IAAKV,EAAW,GAAMD,EAAavB,GAAkB,CACjF,KAAK,MAAwB,IAAI,IACjC,KAAK,gBAAkBkC,EACvB,KAAK,QAAU,EACf,KAAK,SAAWV,EAChB,KAAK,WAAaD,CACpB,CACA,UAAU5D,EAAQ8D,EAAc,CAC9B,OAAOlL,EAAS,KAAM,KAAM,WAAa,CACvC,IAAM4L,EAAWxE,EAAO,OAAO,EAC/B,GAAI,KAAK,MAAM,IAAIwE,CAAQ,EACzB,YAAK,MAAM,IAAIA,CAAQ,EAAE,SAAW,KAAK,UAC5B,MAAM,KAAK,MAAM,IAAIA,CAAQ,EAAE,KAG9C,IAAMhe,EAAK,IAAI,QAAQ,CAACZ,EAASC,IAAW,CAC1C8d,GAAiB3D,EAAQ,KAAK,WAAY,KAAK,SAAU8D,CAAY,EAAE,KAAMW,GAAQ,CAC/EA,EAAI,CAAC,GACP,KAAK,MAAM,IAAIA,EAAI,CAAC,EAAE,CAAC,EAAG,CACxB,SAAU,KAAK,UACf,KAAM,QAAQ,QAAQA,EAAI,CAAC,EAAE,CAAC,CAAC,CACjC,CAAC,EAEH7e,EAAQ6e,EAAI,CAAC,CAAC,EACd,KAAK,MAAM,CACb,CAAC,EAAE,MAAOze,GAAO,CACfH,EAAOG,CAAE,CACX,CAAC,CACH,CAAC,EACD,YAAK,MAAM,IAAIwe,EAAU,CAAE,SAAU,KAAK,UAAW,KAAMhe,CAAG,CAAC,EACxDA,CACT,CAAC,CACH,CACA,aAAawZ,EAAQ7R,EAAQnC,EAAQkV,EAAQ,CAC3C,OAAOtI,EAAS,KAAM,KAAM,WAAa,CACvC,IAAM4L,EAAWxE,EAAO,OAAO,EAAI,KAAOkB,EAAO,MAAQ,IAAM,IAAM/S,EAAS,IAAMnC,EACpF,GAAI,KAAK,MAAM,IAAIwY,CAAQ,EACzB,YAAK,MAAM,IAAIA,CAAQ,EAAE,SAAW,KAAK,UAC5B,MAAM,KAAK,MAAM,IAAIA,CAAQ,EAAE,KAG9C,IAAMhe,EAAK,IAAI,QAAQ,CAACZ,EAASC,IAAW,CAC1Cue,GAAapE,EAAQ,KAAK,WAAY7R,EAAQnC,EAAQkV,CAAM,EAAE,KAAMmD,GAAc,CAChFze,EAAQye,CAAS,EACjB,KAAK,MAAM,CACb,CAAC,EAAE,MAAOre,GAAO,CACfH,EAAOG,CAAE,CACX,CAAC,CACH,CAAC,EACD,YAAK,MAAM,IAAIwe,EAAU,CAAE,SAAU,KAAK,UAAW,KAAMhe,CAAG,CAAC,EACxDA,CACT,CAAC,CACH,CACA,eAAewZ,EAAQ7R,EAAQnC,EAAQkV,EAAQ,CAC7C,OAAOtI,EAAS,KAAM,KAAM,WAAa,CACvC,IAAM4L,EAAWxE,EAAO,OAAO,EAAI,KAAOkB,EAAO,MAAQ,IAAM,IAAM/S,EAAS,IAAMnC,EACpF,GAAI,KAAK,MAAM,IAAIwY,CAAQ,EACzB,YAAK,MAAM,IAAIA,CAAQ,EAAE,SAAW,KAAK,UAC5B,MAAM,KAAK,MAAM,IAAIA,CAAQ,EAAE,KAG9C,IAAMhe,EAAK,IAAI,QAAQ,CAACZ,EAASC,IAAW,CAC1Cma,EAAO,SAAS7R,EAAQnC,CAAM,EAAE,KAAMiU,GAAS,CAC7C,GAAIiB,EAAO,MAAQA,EAAO,OAASjB,EAAK,KACtC,MAAM,IAAIyD,GAAazD,EAAK,IAAI,EAElCra,EAAQqa,EAAK,IAAI,EACb,KAAK,MAAM,IAAIuE,CAAQ,EAE3B,KAAK,MAAM,CACb,CAAC,EAAE,MAAOxe,GAAO,CACfH,EAAOG,CAAE,CACX,CAAC,CACH,CAAC,EACD,YAAK,MAAM,IAAIwe,EAAU,CAAE,SAAU,KAAK,UAAW,KAAMhe,CAAG,CAAC,EACxDA,CACT,CAAC,CACH,CACA,OAAQ,CACN,GAAI,KAAK,MAAM,MAAQ,KAAK,gBAAiB,CAC3C,IAAIke,EAAU,IACVC,EACJ,KAAK,MAAM,QACT,CAACC,EAAargB,IAAQ,CAChBqgB,EAAY,SAAWF,IACzBA,EAAUE,EAAY,SACtBD,EAASpgB,EAEb,CACF,EACIogB,GACF,KAAK,MAAM,OAAOA,CAAM,CAE5B,CACF,CACA,WAAW3E,EAAQ8D,EAAc,CAC/B,OAAOlL,EAAS,KAAM,KAAM,WAAa,CACvC,KAAK,MAAM,OAAOoH,EAAO,OAAO,CAAC,EACjC,MAAM,KAAK,UAAUA,EAAQ8D,CAAY,CAC3C,CAAC,CACH,CACF,EACIe,GAAU,KAAM,CAClB,YAAY7E,EAAQmB,EAAOyC,EAAY,CACjC,OAAO5D,GAAW,SACpB,KAAK,OAAS,IAAI0C,GAAY1C,CAAM,EAEpC,KAAK,OAASA,EAEZ4D,EACF,KAAK,WAAaA,EAElB,KAAK,WAAavB,GAEhBlB,EACF,KAAK,MAAQA,EAEb,KAAK,MAAQ,IAAImD,EAErB,CACA,WAAY,CACV,OAAO1L,EAAS,KAAM,KAAM,WAAa,CACvC,OAAO,MAAM,KAAK,MAAM,UAAU,KAAK,MAAM,CAC/C,CAAC,CACH,CACA,cAAcrM,EAAIrG,EAAIK,EAAG6a,EAAQ,CAC/B,OAAOxI,EAAS,KAAM,KAAM,WAAa,CACvC,IAAMkM,EAAU3C,GAAY5V,EAAIrG,EAAIK,CAAC,EAC/B2a,EAAS,MAAM,KAAK,MAAM,UAAU,KAAK,MAAM,EACrD,GAAIA,EAAO,YAAc,EACvB,OAAOS,GAAW,OAAOT,EAAQ,KAAK,OAAQ,KAAK,MAAO3U,EAAIrG,EAAIK,EAAG6a,CAAM,EAE7E,GAAI7U,EAAK2U,EAAO,SAAW3U,EAAK2U,EAAO,QACrC,OAEF,IAAI6D,EAAM7D,EAAO,oBACb8D,EAAM9D,EAAO,oBACjB,QAAS+D,EAAQ,EAAGA,GAAS,EAAGA,IAAS,CACvC,IAAMZ,EAAY,MAAM,KAAK,MAAM,aACjC,KAAK,OACLU,EACAC,EACA9D,CACF,EACM3B,EAAQiD,GAAS6B,EAAWS,CAAO,EACzC,GAAIvF,EACF,GAAIA,EAAM,UAAY,EAAG,CACvB,IAAMU,EAAO,MAAM,KAAK,OAAO,SAC7BiB,EAAO,eAAiB3B,EAAM,OAC9BA,EAAM,OACN6B,CACF,EACA,GAAIF,EAAO,MAAQA,EAAO,OAASjB,EAAK,KACtC,MAAM,IAAIyD,GAAazD,EAAK,IAAI,EAElC,MAAO,CACL,KAAM,MAAM,KAAK,WAAWA,EAAK,KAAMiB,EAAO,eAAe,EAC7D,aAAcjB,EAAK,aACnB,QAASA,EAAK,OAChB,CACF,MACE8E,EAAM7D,EAAO,oBAAsB3B,EAAM,OACzCyF,EAAMzF,EAAM,WAGd,OAEJ,CACA,MAAM,MAAM,kCAAkC,CAChD,CAAC,CACH,CACA,OAAOhT,EAAIrG,EAAIK,EAAG6a,EAAQ,CACxB,OAAOxI,EAAS,KAAM,KAAM,WAAa,CACvC,GAAI,CACF,OAAO,MAAM,KAAK,cAAcrM,EAAIrG,EAAIK,EAAG6a,CAAM,CACnD,OAASpb,EAAI,CACX,GAAIA,aAAc0d,GAChB,YAAK,MAAM,WAAW,KAAK,OAAQ1d,EAAG,OAAO,EACtC,MAAM,KAAK,cAAcuG,EAAIrG,EAAIK,EAAG6a,CAAM,EAEjD,MAAMpb,CAEV,CACF,CAAC,CACH,CACA,oBAAqB,CACnB,OAAO4S,EAAS,KAAM,KAAM,WAAa,CACvC,IAAMsI,EAAS,MAAM,KAAK,MAAM,UAAU,KAAK,MAAM,EAC/CjB,EAAO,MAAM,KAAK,OAAO,SAC7BiB,EAAO,mBACPA,EAAO,kBACT,EACA,GAAIA,EAAO,MAAQA,EAAO,OAASjB,EAAK,KACtC,MAAM,IAAIyD,GAAazD,EAAK,IAAI,EAElC,IAAMiF,EAAe,MAAM,KAAK,WAC9BjF,EAAK,KACLiB,EAAO,mBACT,EACMd,EAAM,IAAI,YAAY,OAAO,EACnC,OAAO,KAAK,MAAMA,EAAI,OAAO8E,CAAY,CAAC,CAC5C,CAAC,CACH,CACA,aAAc,CACZ,OAAOtM,EAAS,KAAM,KAAM,WAAa,CACvC,GAAI,CACF,OAAO,MAAM,KAAK,mBAAmB,CACvC,OAAS5S,EAAI,CACX,GAAIA,aAAc0d,GAChB,YAAK,MAAM,WAAW,KAAK,OAAQ1d,EAAG,OAAO,EACtC,MAAM,KAAK,mBAAmB,EAErC,MAAMA,CAEV,CACF,CAAC,CACH,CACF,EASA,SAASmf,GAAQC,EAAI,CACnB,MAAO,GAAGA,EAAG,CAAC,IAAIA,EAAG,CAAC,IAAIA,EAAG,CAAC,EAChC,CACA,IAAIC,GAAkB,CAACC,EAAKC,EAAUC,IAAU,CAC9CF,EAAI,IAAMC,EACV,IAAME,EAAMH,EAAI,WAAW,EAAIA,EAAI,IAC/BI,EAAM,EACNC,EAAS,EACTC,EAAK,EACLC,EAAI,EACJC,EAAK,IACLC,EAAM,KACNC,EAAK,IACLC,EAAK,KACHC,EAAQ,CAAC,EACXC,EAAO,CAAC,EACZ,KAAOb,EAAI,IAAMG,GAAK,CACpB,GAAIE,GAAU,EAAG,CACf,IAAMS,EAASd,EAAI,WAAW,EAC9BI,EAAMU,EAAS,EACfT,EAASS,GAAU,CACrB,CAEA,GADAT,IACID,IAAQ,GAAKA,IAAQ,EACvBE,GAAMN,EAAI,YAAY,EAAIE,EAC1BK,GAAKP,EAAI,YAAY,EAAIE,EACrBI,EAAKE,IACPA,EAAKF,GACHA,EAAKG,IACPA,EAAMH,GACJC,EAAIG,IACNA,EAAKH,GACHA,EAAII,IACNA,EAAKJ,GACHH,IAAQ,IACNS,EAAK,OAAS,GAChBD,EAAM,KAAKC,CAAI,EACjBA,EAAO,CAAC,GAEVA,EAAK,KAAK,IAAIE,GAAuB,QAAQT,EAAIC,CAAC,CAAC,UAC1CH,IAAQ,EACbS,GACFA,EAAK,KAAKA,EAAK,CAAC,EAAE,MAAM,CAAC,MAE3B,OAAM,IAAI,MAAM,mBAAmBT,CAAG,EAAE,CAC5C,CACA,OAAIS,GACFD,EAAM,KAAKC,CAAI,EACV,CAAE,KAAMD,EAAO,KAAM,CAAE,KAAMJ,EAAI,KAAME,EAAI,KAAMD,EAAK,KAAME,CAAG,CAAE,CAC1E,EACA,SAASK,GAAUC,EAAQC,EAAU,CACnC,IAAMC,EAAI,IAAIC,GAAmB,WAAW,IAAIC,GAAW,QAAQJ,CAAM,CAAC,EACpEK,EAAyB,IAAI,IACnC,OAAW,CAACC,EAAKC,CAAK,IAAK,OAAO,QAAQL,EAAE,MAAM,EAAG,CACnD,IAAMM,EAAW,CAAC,EACZC,EAAQF,EACd,QAASG,EAAK,EAAGA,EAAKD,EAAM,OAAQC,IAAM,CACxC,IAAMC,EAAS7B,GACb2B,EAAM,QAAQC,CAAE,EAAE,KAClBD,EAAM,QAAQC,CAAE,EAAE,UAClBT,EAAWQ,EAAM,MACnB,EACIG,EAAc,EAClB,QAAWC,KAAQF,EAAO,KACxBC,GAAeC,EAAK,OACtBL,EAAS,KAAK,CACZ,GAAIC,EAAM,QAAQC,CAAE,EAAE,GACtB,SAAUD,EAAM,QAAQC,CAAE,EAAE,KAC5B,KAAMC,EAAO,KACb,YAAAC,EACA,KAAMD,EAAO,KACb,MAAOF,EAAM,QAAQC,CAAE,EAAE,UAC3B,CAAC,CACH,CACAL,EAAO,IAAIC,EAAKE,CAAQ,CAC1B,CACA,OAAOH,CACT,CACA,IAAIS,GAAgB,KAAM,CACxB,YAAYC,EAAKC,EAAmB,CAC9B,OAAOD,GAAQ,SACjB,KAAK,EAAI,IAAIE,GAAQF,CAAG,EAExB,KAAK,EAAIA,EAEX,KAAK,WAAa,CAAC,EACnB,KAAK,kBAAoBC,CAC3B,CACA,IAAInC,EAAIoB,EAAU,CAChB,OAAOiB,GAAQ,KAAM,KAAM,WAAa,CAClC,KAAK,oBACP,KAAK,WAAa,KAAK,WAAW,OAAQC,GACpCA,EAAG,IAAMtC,EAAG,GACdsC,EAAG,WAAW,MAAM,EACb,IAEF,EACR,GAEH,IAAMC,EAAa,IAAI,gBACvB,KAAK,WAAW,KAAK,CAAE,EAAGvC,EAAG,EAAG,WAAAuC,CAAW,CAAC,EAC5C,IAAMC,EAASD,EAAW,OACpBf,EAAS,MAAM,KAAK,EAAE,OAAOxB,EAAG,EAAGA,EAAG,EAAGA,EAAG,EAAGwC,CAAM,EAC3D,OAAIhB,EACKN,GAAUM,EAAO,KAAMJ,CAAQ,EAEjB,IAAI,GAC7B,CAAC,CACH,CACF,EACIqB,GAAY,KAAM,CACpB,YAAYP,EAAKC,EAAmB,CAClC,KAAK,IAAMD,EACX,KAAK,WAAa,CAAC,EACnB,KAAK,kBAAoBC,CAC3B,CACA,IAAInC,EAAIoB,EAAU,CAChB,OAAOiB,GAAQ,KAAM,KAAM,WAAa,CAClC,KAAK,oBACP,KAAK,WAAa,KAAK,WAAW,OAAQC,GACpCA,EAAG,IAAMtC,EAAG,GACdsC,EAAG,WAAW,MAAM,EACb,IAEF,EACR,GAEH,IAAMJ,EAAM,KAAK,IAAI,QAAQ,MAAOlC,EAAG,EAAE,SAAS,CAAC,EAAE,QAAQ,MAAOA,EAAG,EAAE,SAAS,CAAC,EAAE,QAAQ,MAAOA,EAAG,EAAE,SAAS,CAAC,EAC7GuC,EAAa,IAAI,gBACvB,KAAK,WAAW,KAAK,CAAE,EAAGvC,EAAG,EAAG,WAAAuC,CAAW,CAAC,EAC5C,IAAMC,EAASD,EAAW,OAC1B,OAAO,IAAI,QAAQ,CAACG,EAASC,IAAW,CACtC,MAAMT,EAAK,CAAE,OAAAM,CAAO,CAAC,EAAE,KAAMI,GACpBA,EAAK,YAAY,CACzB,EAAE,KAAMzB,GAAW,CAClB,IAAMK,EAASN,GAAUC,EAAQC,CAAQ,EACzCsB,EAAQlB,CAAM,CAChB,CAAC,EAAE,MAAOqB,GAAO,CACfF,EAAOE,CAAE,CACX,CAAC,CACH,CAAC,CACH,CAAC,CACH,CACF,EACIC,GAAI,QACJC,GAAe,cACfC,GAAWF,GAAI,KAAK,GACpBG,GAAWC,GAAW,CACxB,IAAMC,EAAI,KAAK,GAAK,IACdC,EAAkB,KAAK,IAC3B,KAAK,IAAIL,GAAcG,EAAO,CAAC,CAAC,EAChC,CAACH,EACH,EACMM,EAAM,KAAK,IAAID,EAAkBD,CAAC,EACxC,OAAO,IAAIlC,GAAuB,QAChC6B,GAAII,EAAO,CAAC,EAAIC,EAChBL,GAAI,KAAK,KAAK,EAAIO,IAAQ,EAAIA,EAAI,EAAI,CACxC,CACF,EACA,SAASC,GAAI9C,EAAI,CACf,OAAOA,EAAKA,CACd,CACA,SAAS+C,GAAMlC,EAAGmC,EAAG,CACnB,OAAOF,GAAIjC,EAAE,EAAImC,EAAE,CAAC,EAAIF,GAAIjC,EAAE,EAAImC,EAAE,CAAC,CACvC,CACA,SAASC,GAAqBC,EAAIrC,EAAGmC,EAAG,CACtC,IAAMG,EAAKJ,GAAMlC,EAAGmC,CAAC,EACrB,GAAIG,IAAO,EACT,OAAOJ,GAAMG,EAAIrC,CAAC,EACpB,IAAIuC,IAAOF,EAAG,EAAIrC,EAAE,IAAMmC,EAAE,EAAInC,EAAE,IAAMqC,EAAG,EAAIrC,EAAE,IAAMmC,EAAE,EAAInC,EAAE,IAAMsC,EACrE,OAAAC,EAAK,KAAK,IAAI,EAAG,KAAK,IAAI,EAAGA,CAAE,CAAC,EACzBL,GAAMG,EAAI,IAAIzC,GAAuB,QAAQI,EAAE,EAAIuC,GAAMJ,EAAE,EAAInC,EAAE,GAAIA,EAAE,EAAIuC,GAAMJ,EAAE,EAAInC,EAAE,EAAE,CAAC,CACrG,CACA,SAASwC,GAASC,EAAOC,EAAM,CAC7B,IAAIC,EAAS,GACb,QAASnC,EAAK,EAAGoC,EAAIF,EAAK,OAAS,EAAGlC,EAAKkC,EAAK,OAAQE,EAAIpC,IAAM,CAChE,IAAMqC,EAAKH,EAAKlC,CAAE,EAAE,EACdsC,EAAKJ,EAAKlC,CAAE,EAAE,EACduC,EAAKL,EAAKE,CAAC,EAAE,EACbI,EAAKN,EAAKE,CAAC,EAAE,EACDE,EAAKL,EAAM,GAAMO,EAAKP,EAAM,GAAKA,EAAM,GAAKM,EAAKF,IAAOJ,EAAM,EAAIK,IAAOE,EAAKF,GAAMD,IAEpGF,EAAS,CAACA,EACd,CACA,OAAOA,CACT,CACA,SAASM,GAAMP,EAAM,CACnB,IAAIQ,EAAO,EACX,QAAS1C,EAAK,EAAGA,EAAKkC,EAAK,OAAQlC,IAAM,CACvC,IAAMoC,GAAKpC,EAAK,GAAKkC,EAAK,OAC1BQ,GAAQR,EAAKlC,CAAE,EAAE,EAAIkC,EAAKE,CAAC,EAAE,EAC7BM,GAAQR,EAAKE,CAAC,EAAE,EAAIF,EAAKlC,CAAE,EAAE,CAC/B,CACA,OAAO0C,EAAO,CAChB,CACA,SAASC,GAAeV,EAAOW,EAAM,CACnC,IAAIC,EAAsB,GAC1B,QAAWX,KAAQU,EACjB,GAAIH,GAAMP,CAAI,EACRF,GAASC,EAAOC,CAAI,IACtBW,EAAsB,QACnB,CACL,GAAIA,EACF,MAAO,GACLb,GAASC,EAAOC,CAAI,IACtBW,EAAsB,GAC1B,CAEF,OAAOA,CACT,CACA,SAASC,GAAqBb,EAAOW,EAAM,CACzC,IAAIG,EAAM,IACV,QAAWjB,KAAMc,EAAM,CACrB,IAAMI,EAAO,KAAK,KAAKtB,GAAMO,EAAOH,EAAG,CAAC,CAAC,CAAC,EACtCkB,EAAOD,IACTA,EAAMC,EACV,CACA,OAAOD,CACT,CACA,SAASE,GAAoBhB,EAAOW,EAAM,CACxC,IAAIG,EAAM,IACV,QAAWjB,KAAMc,EACf,QAAS5C,EAAK,EAAGA,EAAK8B,EAAG,OAAS,EAAG9B,IAAM,CACzC,IAAMgD,EAAO,KAAK,KAAKpB,GAAqBK,EAAOH,EAAG9B,CAAE,EAAG8B,EAAG9B,EAAK,CAAC,CAAC,CAAC,EAClEgD,EAAOD,IACTA,EAAMC,EACV,CAEF,OAAOD,CACT,CACA,IAAIG,GAAY,KAAM,CACpB,YAAYC,EAAQ5D,EAAU,CAC5B,KAAK,OAAS4D,EACd,KAAK,MAAwB,IAAI,IACjC,KAAK,SAA2B,IAAI,IACpC,KAAK,SAAW5D,CAClB,CACA,cAAc6D,EAAKC,EAAKC,EAAMC,EAAW,CACvC,IAAMC,EAAYpC,GAAQ,CAACiC,EAAKD,CAAG,CAAC,EAC9BK,EAAa,IAAIrE,GAAuB,SAC3CoE,EAAU,EAAIrC,KAAaA,GAAW,GACvC,GAAKqC,EAAU,EAAIrC,KAAaA,GAAW,EAC7C,EACIsC,EAAW,EAAI,IACjBA,EAAW,EAAIA,EAAW,EAAI,KAAK,MAAMA,EAAW,CAAC,GACvD,IAAMC,EAAUD,EAAW,KAAK,GAAKH,CAAI,EACnCK,EAAS,KAAK,MAAMD,EAAQ,CAAC,EAC7BE,EAAS,KAAK,MAAMF,EAAQ,CAAC,EAC7BG,EAAM3F,GAAQ,CAAE,EAAGoF,EAAM,EAAGK,EAAQ,EAAGC,CAAO,CAAC,EAC/CE,EAAS,CAAC,EACVC,EAAQ,KAAK,MAAM,IAAIF,CAAG,EAChC,GAAIE,EAAO,CACT,IAAMC,EAAS,IAAI5E,GAAuB,SACvCsE,EAAQ,EAAIC,GAAU,KAAK,UAC3BD,EAAQ,EAAIE,GAAU,KAAK,QAC9B,EACA,OAAW,CAACK,EAAYC,CAAS,IAAKH,EAAM,KAAK,QAAQ,EACvD,QAAWI,KAAWD,EAChBC,EAAQ,WAAa,EACnBrB,GAAqBkB,EAAQG,EAAQ,IAAI,EAAIZ,GAC/CO,EAAO,KAAK,CAAE,QAAAK,EAAS,UAAWF,CAAW,CAAC,EAEvCE,EAAQ,WAAa,EAC1BlB,GAAoBe,EAAQG,EAAQ,IAAI,EAAIZ,GAC9CO,EAAO,KAAK,CAAE,QAAAK,EAAS,UAAWF,CAAW,CAAC,EAG5CtB,GAAeqB,EAAQG,EAAQ,IAAI,GACrCL,EAAO,KAAK,CAAE,QAAAK,EAAS,UAAWF,CAAW,CAAC,CAKxD,CACA,OAAOH,CACT,CACA,IAAI3F,EAAI,CACN,OAAOqC,GAAQ,KAAM,KAAM,WAAa,CACtC,IAAMqD,EAAM3F,GAAQC,CAAE,EACtB,OAAO,IAAI,QAAQ,CAAC0C,EAASC,IAAW,CACtC,IAAMiD,EAAQ,KAAK,MAAM,IAAIF,CAAG,EAChC,GAAIE,EACFA,EAAM,KAAO,YAAY,IAAI,EAC7BlD,EAAQkD,EAAM,IAAI,MACb,CACL,IAAMK,EAAU,KAAK,SAAS,IAAIP,CAAG,EACjCO,EACFA,EAAQ,KAAK,CAACvD,EAASC,CAAM,CAAC,GAE9B,KAAK,SAAS,IAAI+C,EAAK,CAAC,CAAC,EACzB,KAAK,OAAO,IAAI1F,EAAI,KAAK,QAAQ,EAAE,KAAMkG,GAAS,CAChD,KAAK,MAAM,IAAIR,EAAK,CAAE,KAAM,YAAY,IAAI,EAAG,KAAMQ,CAAK,CAAC,EAC3D,IAAMC,EAAW,KAAK,SAAS,IAAIT,CAAG,EACtC,GAAIS,EACF,QAAWC,KAAMD,EACfC,EAAG,CAAC,EAAEF,CAAI,EAKd,GAFA,KAAK,SAAS,OAAOR,CAAG,EACxBhD,EAAQwD,CAAI,EACR,KAAK,MAAM,MAAQ,GAAI,CACzB,IAAIG,EAAW,IACXC,EACJ,KAAK,MAAM,QAAQ,CAAC5E,EAAOD,IAAQ,CAC7BC,EAAM,KAAO2E,IACfA,EAAW3E,EAAM,KACjB4E,EAAU7E,EAEd,CAAC,EACG6E,GACF,KAAK,MAAM,OAAOA,CAAO,CAC7B,CACF,CAAC,EAAE,MAAOzD,GAAO,CACf,IAAMsD,EAAW,KAAK,SAAS,IAAIT,CAAG,EACtC,GAAIS,EACF,QAAWC,KAAMD,EACfC,EAAG,CAAC,EAAEvD,CAAE,EAGZ,KAAK,SAAS,OAAO6C,CAAG,EACxB/C,EAAOE,CAAE,CACX,CAAC,EAEL,CACF,CAAC,CACH,CAAC,CACH,CACF,EAGI0D,GAA6B,KA2BjC,IAAIC,EAAoB,KAAM,CAC5B,YAAYC,EAAS,CACnB,IAAIC,EACJ,KAAK,QAAUD,EAAQ,QACvB,KAAK,KAAO,IAAIE,EAAWF,EAAQ,KAAM,OAAO,EAChD,KAAK,QAAU,IAAIG,EAAWH,EAAQ,QAAS,CAAC,EAChD,KAAK,OAAS,IAAIE,EAAWF,EAAQ,OAAQ,OAAO,EACpD,KAAK,MAAQ,IAAIG,EAAWH,EAAQ,MAAO,CAAC,EAC5C,KAAK,aAAeC,EAAM,KAAK,KAAK,aAAe,KAAK,QAAQ,aAAe,KAAK,OAAO,aAAe,KAAK,MAAM,aAAeD,EAAQ,cAAgB,KAAOC,EAAM,GACzK,KAAK,UAAY,EACnB,CACA,OAAOG,EAAKC,EAAI,CACd,GAAI,CAAC,KAAK,YAAa,CACrBD,EAAI,YAAc,KAAK,QAAQ,IAAIC,CAAE,EACrCD,EAAI,UAAY,KAAK,KAAK,IAAIC,CAAE,EAChCD,EAAI,YAAc,KAAK,OAAO,IAAIC,CAAE,EACpC,IAAMC,EAAQ,KAAK,MAAM,IAAID,CAAE,EAC3BC,EAAQ,IACV,KAAK,UAAY,IACnBF,EAAI,UAAYE,CAClB,CACA,GAAI,KAAK,QAAS,CAChB,IAAMC,EAASH,EAAI,cAAc,KAAK,QAAS,QAAQ,EACnDG,IACFH,EAAI,UAAYG,EACpB,CACF,CACA,KAAKH,EAAKI,EAAMH,EAAII,EAAI,CACtB,IAAIC,EAAY,GAChB,GAAI,KAAK,YAAa,CACpBN,EAAI,YAAc,KAAK,QAAQ,IAAIC,EAAII,CAAE,EACzCL,EAAI,UAAY,KAAK,KAAK,IAAIC,EAAII,CAAE,EACpC,IAAMH,EAAQ,KAAK,MAAM,IAAID,EAAII,CAAE,EAC/BH,IACFI,EAAY,GACZN,EAAI,YAAc,KAAK,OAAO,IAAIC,EAAII,CAAE,EACxCL,EAAI,UAAYE,EAEpB,CACA,IAAMK,EAAW,IAAM,CACrBP,EAAI,KAAK,GACLM,GAAa,KAAK,YACpBN,EAAI,OAAO,CAEf,EACIQ,EAAmB,EACvBR,EAAI,UAAU,EACd,QAAWS,KAAQL,EAAM,CACnBI,EAAmBC,EAAK,OAASC,KACnCH,EAAS,EACTC,EAAmB,EACnBR,EAAI,UAAU,GAEhB,QAASW,EAAK,EAAGA,EAAKF,EAAK,OAAQE,IAAM,CACvC,IAAMC,EAAKH,EAAKE,CAAE,EACdA,IAAO,EACTX,EAAI,OAAOY,EAAG,EAAGA,EAAG,CAAC,EAErBZ,EAAI,OAAOY,EAAG,EAAGA,EAAG,CAAC,CACzB,CACAJ,GAAoBC,EAAK,MAC3B,CACID,EAAmB,GACrBD,EAAS,CACb,CACF,EAUA,SAASM,GAAaC,EAAOC,EAAO,CAClC,IAAIC,EAAM,EACV,KAAOD,EAAMC,EAAM,CAAC,EAAE,CAAC,EAAIF,GACzBE,IACF,OAAOA,CACT,CACA,SAASC,GAAYC,EAAQC,EAAOC,EAAK,CACvC,OAAOF,GAAUE,EAAMD,GAASA,CAClC,CACA,SAASE,GAA2BC,EAAIN,EAAKO,EAAMR,EAAO,CACxD,IAAMS,EAAaT,EAAMC,EAAM,CAAC,EAAE,CAAC,EAAID,EAAMC,CAAG,EAAE,CAAC,EAC7CS,EAAWH,EAAKP,EAAMC,CAAG,EAAE,CAAC,EAClC,OAAIQ,IAAe,EACV,EACLD,IAAS,EACJE,EAAWD,GACZE,EAAMH,EAAME,CAAQ,EAAI,IAAMC,EAAMH,EAAMC,CAAU,EAAI,EAClE,CACA,SAASG,GAAIJ,EAAMR,EAAO,CACxB,OAAQO,GAAO,CACb,GAAIP,EAAM,OAAS,EACjB,MAAO,GACT,GAAIO,GAAMP,EAAM,CAAC,EAAE,CAAC,EAClB,OAAOA,EAAM,CAAC,EAAE,CAAC,EACnB,GAAIO,GAAMP,EAAMA,EAAM,OAAS,CAAC,EAAE,CAAC,EACjC,OAAOA,EAAMA,EAAM,OAAS,CAAC,EAAE,CAAC,EAClC,IAAMC,EAAMH,GAAaS,EAAIP,CAAK,EAC5BG,EAASG,GAA2BC,EAAIN,EAAKO,EAAMR,CAAK,EAC9D,OAAOE,GAAYC,EAAQH,EAAMC,CAAG,EAAE,CAAC,EAAGD,EAAMC,EAAM,CAAC,EAAE,CAAC,CAAC,CAC7D,CACF,CA0BA,IAAIY,GAAiB,KAAM,CACzB,YAAYC,EAAS,CACnB,IAAIC,EACJ,KAAK,MAAQ,IAAIC,EAAWF,EAAQ,MAAO,OAAO,EAClD,KAAK,MAAQ,IAAIG,EAAWH,EAAQ,KAAK,EACzC,KAAK,QAAU,IAAIG,EAAWH,EAAQ,OAAO,EAC7C,KAAK,KAAOA,EAAQ,KAAO,IAAII,GAAUJ,EAAQ,IAAI,EAAI,KACzD,KAAK,UAAY,IAAIE,EAAWF,EAAQ,UAAW,OAAO,EAC1D,KAAK,UAAY,IAAIG,EAAWH,EAAQ,UAAW,CAAC,EACpD,KAAK,QAAU,IAAIE,EAAWF,EAAQ,QAAS,MAAM,EACrD,KAAK,SAAW,IAAIE,EAAWF,EAAQ,SAAU,OAAO,EACxD,KAAK,KAAO,GACZ,KAAK,YAAc,CAAC,GAAIC,EAAM,KAAK,OAAS,MAAgBA,EAAI,aAAgB,KAAK,MAAM,aAAe,KAAK,QAAQ,aAAe,KAAK,MAAM,aAAe,KAAK,QAAQ,aAAe,KAAK,SAAS,aAAeD,EAAQ,YACnO,CACA,OAAOK,EAAKC,EAAI,CACT,KAAK,cACRD,EAAI,YAAc,KAAK,MAAM,IAAIC,CAAE,EACnCD,EAAI,UAAY,KAAK,MAAM,IAAIC,CAAE,EACjCD,EAAI,YAAc,KAAK,QAAQ,IAAIC,CAAE,EACrCD,EAAI,QAAU,KAAK,QAAQ,IAAIC,CAAE,EACjCD,EAAI,SAAW,KAAK,SAAS,IAAIC,CAAE,EAEvC,CACA,KAAKD,EAAKE,EAAMD,EAAIE,EAAI,CACtB,GAAI,KAAK,KACP,OACF,IAAMC,EAAa,IAAM,CACnB,KAAK,cACPJ,EAAI,YAAc,KAAK,QAAQ,IAAIC,EAAIE,CAAE,EACzCH,EAAI,QAAU,KAAK,QAAQ,IAAIC,EAAIE,CAAE,EACrCH,EAAI,SAAW,KAAK,SAAS,IAAIC,EAAIE,CAAE,GAErC,KAAK,MACPH,EAAI,KAAK,EACL,KAAK,aACPA,EAAI,UAAY,KAAK,UAAU,IAAIC,EAAIE,CAAE,EACzCH,EAAI,YAAc,KAAK,UAAU,IAAIC,EAAIE,CAAE,EAC3CH,EAAI,YAAY,KAAK,KAAK,IAAIC,EAAIE,CAAE,CAAC,GAErCH,EAAI,YAAY,KAAK,KAAK,IAAIC,CAAE,CAAC,EAEnCD,EAAI,OAAO,EACXA,EAAI,QAAQ,IAEZA,EAAI,KAAK,EACL,KAAK,cACPA,EAAI,UAAY,KAAK,MAAM,IAAIC,EAAIE,CAAE,EACrCH,EAAI,YAAc,KAAK,MAAM,IAAIC,EAAIE,CAAE,GAEzCH,EAAI,OAAO,EACXA,EAAI,QAAQ,EAEhB,EACIK,EAAmB,EACvBL,EAAI,UAAU,EACd,QAAWM,KAAMJ,EAAM,CACjBG,EAAmBC,EAAG,OAASC,KACjCH,EAAW,EACXC,EAAmB,EACnBL,EAAI,UAAU,GAEhB,QAASQ,EAAK,EAAGA,EAAKF,EAAG,OAAQE,IAAM,CACrC,IAAMC,EAAKH,EAAGE,CAAE,EACZA,IAAO,EACTR,EAAI,OAAOS,EAAG,EAAGA,EAAG,CAAC,EAErBT,EAAI,OAAOS,EAAG,EAAGA,EAAG,CAAC,CACzB,CACAJ,GAAoBC,EAAG,MACzB,CACID,EAAmB,GACrBD,EAAW,CACf,CACF,EAoCA,IAAIM,GAAmB,KAAM,CAC3B,YAAYC,EAAS,CACnB,KAAK,OAAS,IAAIC,EAAWD,EAAQ,OAAQ,CAAC,EAC9C,KAAK,KAAO,IAAIE,EAAWF,EAAQ,KAAM,OAAO,EAChD,KAAK,OAAS,IAAIE,EAAWF,EAAQ,OAAQ,OAAO,EACpD,KAAK,MAAQ,IAAIC,EAAWD,EAAQ,MAAO,CAAC,EAC5C,KAAK,QAAU,IAAIC,EAAWD,EAAQ,OAAO,CAC/C,CACA,KAAKG,EAAKC,EAAMC,EAAIC,EAAI,CACtBH,EAAI,YAAc,KAAK,QAAQ,IAAIE,EAAIC,CAAE,EACzC,IAAMC,EAAS,KAAK,OAAO,IAAIF,EAAIC,CAAE,EAC/BE,EAAQ,KAAK,MAAM,IAAIH,EAAIC,CAAE,EAC/BE,EAAQ,IACVL,EAAI,YAAc,KAAK,OAAO,IAAIE,EAAIC,CAAE,EACxCH,EAAI,UAAYK,EAChBL,EAAI,UAAU,EACdA,EAAI,IAAIC,EAAK,CAAC,EAAE,CAAC,EAAE,EAAGA,EAAK,CAAC,EAAE,CAAC,EAAE,EAAGG,EAASC,EAAQ,EAAG,EAAG,EAAI,KAAK,EAAE,EACtEL,EAAI,OAAO,GAEbA,EAAI,UAAY,KAAK,KAAK,IAAIE,EAAIC,CAAE,EACpCH,EAAI,UAAU,EACdA,EAAI,IAAIC,EAAK,CAAC,EAAE,CAAC,EAAE,EAAGA,EAAK,CAAC,EAAE,CAAC,EAAE,EAAGG,EAAQ,EAAG,EAAI,KAAK,EAAE,EAC1DJ,EAAI,KAAK,CACX,CACA,MAAMM,EAAQL,EAAMM,EAAS,CAC3B,IAAMC,EAAKP,EAAK,CAAC,EACXQ,EAAK,IAAIC,EAAuB,QAAQT,EAAK,CAAC,EAAE,CAAC,EAAE,EAAGA,EAAK,CAAC,EAAE,CAAC,EAAE,CAAC,EAClEG,EAAS,KAAK,OAAO,IAAIE,EAAO,KAAMC,CAAO,EAC7CI,EAAO,CACX,KAAMF,EAAG,EAAIL,EACb,KAAMK,EAAG,EAAIL,EACb,KAAMK,EAAG,EAAIL,EACb,KAAMK,EAAG,EAAIL,CACf,EAIA,MAAO,CAAC,CAAE,OAAQK,EAAI,OAAQ,CAACE,CAAI,EAAG,KAHxBX,GAAQ,CACpB,KAAK,KAAKA,EAAK,CAAC,CAAC,IAAIU,EAAuB,QAAQ,EAAG,CAAC,CAAC,CAAC,EAAGJ,EAAO,KAAMC,CAAO,CACnF,CAC2C,CAAC,CAC9C,CACF,EACIK,GAAmB,KAAM,CAC3B,YAAYf,EAAS,CACnB,KAAK,KAAO,IAAIgB,GAAShB,CAAO,EAChC,KAAK,KAAO,IAAIiB,GAASjB,CAAO,EAChC,KAAK,KAAO,IAAIE,EAAWF,EAAQ,KAAM,OAAO,EAChD,KAAK,WAAa,IAAIE,EAAWF,EAAQ,WAAY,OAAO,EAC5D,KAAK,QAAU,IAAIC,EAAWD,EAAQ,QAAS,CAAC,CAClD,CACA,MAAMS,EAAQL,EAAME,EAAI,CACtB,IAAMY,EAAW,KAAK,KAAK,IAAIT,EAAO,KAAMH,CAAE,EAC9C,GAAI,CAACY,EACH,OACF,IAAMC,EAAO,KAAK,KAAK,IAAIV,EAAO,KAAMH,CAAE,EAC1CG,EAAO,QAAQ,KAAOU,EACtB,IAAMC,EAAUX,EAAO,QAAQ,YAAYS,CAAQ,EAC7CV,EAAQY,EAAQ,MAChBC,EAASD,EAAQ,wBACjBE,EAAUF,EAAQ,yBAClBT,EAAKP,EAAK,CAAC,EACXQ,EAAK,IAAIC,EAAuB,QAAQT,EAAK,CAAC,EAAE,CAAC,EAAE,EAAGA,EAAK,CAAC,EAAE,CAAC,EAAE,CAAC,EAClEmB,EAAK,KAAK,QAAQ,IAAId,EAAO,KAAMH,CAAE,EACrCQ,EAAO,CACX,KAAMF,EAAG,EAAIJ,EAAQ,EAAIe,EACzB,KAAMX,EAAG,EAAIS,EAASE,EACtB,KAAMX,EAAG,EAAIJ,EAAQ,EAAIe,EACzB,KAAMX,EAAG,EAAIU,EAAUC,CACzB,EAcA,MAAO,CAAC,CAAE,OAAQX,EAAI,OAAQ,CAACE,CAAI,EAAG,KAbxBX,GAAQ,CACpBA,EAAI,YAAc,EAClBA,EAAI,UAAY,KAAK,WAAW,IAAIM,EAAO,KAAMH,CAAE,EACnDH,EAAI,SACF,CAACK,EAAQ,EAAIe,EACb,CAACF,EAASE,EACVf,EAAQ,EAAIe,EACZF,EAASC,EAAU,EAAIC,CACzB,EACApB,EAAI,UAAY,KAAK,KAAK,IAAIM,EAAO,KAAMH,CAAE,EAC7CH,EAAI,KAAOgB,EACXhB,EAAI,SAASe,EAAU,CAACV,EAAQ,EAAG,CAAC,CACtC,CAC2C,CAAC,CAC9C,CACF,EACIgB,GAAiB,KAAM,CACzB,YAAYC,EAAM,CAChB,KAAK,KAAOA,CACd,CACA,MAAMhB,EAAQL,EAAMM,EAAS,CAC3B,IAAIgB,EAAS,KAAK,KAAK,CAAC,EAAE,MAAMjB,EAAQL,EAAMM,CAAO,EACrD,GAAI,CAACgB,EACH,OACF,IAAIC,EAAQD,EAAO,CAAC,EACdE,EAASD,EAAM,OACjBb,EAAOa,EAAM,OAAO,CAAC,EACnBE,EAASf,EAAK,KAAOA,EAAK,KAC1BgB,EAAQ,CAAC,CAAE,KAAMH,EAAM,KAAM,UAAW,CAAE,EAAG,EAAG,EAAG,CAAE,CAAE,CAAC,EACxDI,EAAU,CAAC,CAAC,IAAIlB,EAAuB,QAAQT,EAAK,CAAC,EAAE,CAAC,EAAE,EAAGA,EAAK,CAAC,EAAE,CAAC,EAAE,EAAIyB,CAAM,CAAC,CAAC,EAC1F,QAASG,EAAK,EAAGA,EAAK,KAAK,KAAK,OAAQA,IACtCN,EAAS,KAAK,KAAKM,CAAE,EAAE,MAAMvB,EAAQsB,EAASrB,CAAO,EACjDgB,IACFC,EAAQD,EAAO,CAAC,EAChBZ,EAAOmB,GAAUnB,EAAMa,EAAM,OAAO,CAAC,CAAC,EACtCG,EAAM,KAAK,CAAE,KAAMH,EAAM,KAAM,UAAW,CAAE,EAAG,EAAG,EAAGE,CAAO,CAAE,CAAC,GAWnE,MAAO,CAAC,CAAE,OAAAD,EAAQ,OAAQ,CAACd,CAAI,EAAG,KARpBX,GAAQ,CACpB,QAAW+B,KAAOJ,EAChB3B,EAAI,KAAK,EACTA,EAAI,UAAU+B,EAAI,UAAU,EAAGA,EAAI,UAAU,CAAC,EAC9CA,EAAI,KAAK/B,CAAG,EACZA,EAAI,QAAQ,CAEhB,CACuC,CAAC,CAC1C,CACF,EACI8B,GAAY,CAACE,EAAIC,KACZ,CACL,KAAM,KAAK,IAAID,EAAG,KAAMC,EAAG,IAAI,EAC/B,KAAM,KAAK,IAAID,EAAG,KAAMC,EAAG,IAAI,EAC/B,KAAM,KAAK,IAAID,EAAG,KAAMC,EAAG,IAAI,EAC/B,KAAM,KAAK,IAAID,EAAG,KAAMC,EAAG,IAAI,CACjC,GAEEC,GAAkB,KAAM,CAC1B,YAAYZ,EAAM,CAChB,KAAK,KAAOA,CACd,CACA,MAAMhB,EAAQL,EAAMM,EAAS,CAC3B,IAAM4B,EAAQ,KAAK,KAAK,CAAC,EACzB,GAAI,CAACA,EACH,OACF,IAAIZ,EAASY,EAAM,MAAM7B,EAAQL,EAAMM,CAAO,EAC9C,GAAI,CAACgB,EACH,OACF,IAAIC,EAAQD,EAAO,CAAC,EACdE,EAASD,EAAM,OACjBb,EAAOa,EAAM,OAAO,CAAC,EACnBG,EAAQ,CAACH,EAAM,IAAI,EACzB,QAASK,EAAK,EAAGA,EAAK,KAAK,KAAK,OAAQA,IAAM,CAE5C,GADAN,EAAS,KAAK,KAAKM,CAAE,EAAE,MAAMvB,EAAQL,EAAMM,CAAO,EAC9C,CAACgB,EACH,OACFC,EAAQD,EAAO,CAAC,EAChBZ,EAAOmB,GAAUnB,EAAMa,EAAM,OAAO,CAAC,CAAC,EACtCG,EAAM,KAAKH,EAAM,IAAI,CACvB,CAMA,MAAO,CAAC,CAAE,OAAAC,EAAQ,OAAQ,CAACd,CAAI,EAAG,KALpBX,GAAQ,CACpB,QAAW,KAAK2B,EACd,EAAE3B,CAAG,CAET,CACuC,CAAC,CAC1C,CACF,EACIoC,GAAqB,KAAM,CAC7B,YAAYC,EAAY,CACtB,KAAK,WAAaA,CACpB,CACA,MAAM/B,EAAQL,EAAMM,EAAS,CAC3B,IAAME,EAAKR,EAAK,CAAC,EAAE,CAAC,EACdqC,EAAS,KAAK,WAAW,MAAMhC,EAAQ,CAAC,CAAC,IAAII,EAAuB,QAAQ,EAAG,CAAC,CAAC,CAAC,EAAGH,CAAO,EAClG,GAAI,CAAC+B,GAAUA,EAAO,SAAW,EAC/B,OACF,IAAMC,EAAcD,EAAO,CAAC,EACtB3B,EAAO4B,EAAY,OAAO,CAAC,EAC3BlC,EAAQM,EAAK,KAAOA,EAAK,KACzBe,EAASf,EAAK,KAAOA,EAAK,KAC1B6B,EAAW,CACf,KAAM/B,EAAG,EAAIJ,EAAQ,EACrB,KAAMI,EAAG,EAAIJ,EAAQ,EACrB,KAAMI,EAAG,EAAIiB,EAAS,EACtB,KAAMjB,EAAG,EAAIiB,EAAS,CACxB,EAKA,MAAO,CAAC,CAAE,OAAQjB,EAAI,OAAQ,CAAC+B,CAAQ,EAAG,KAJ5BxC,GAAQ,CACpBA,EAAI,UAAU,CAACK,EAAQ,EAAGqB,EAAS,EAAIf,EAAK,IAAI,EAChD4B,EAAY,KAAKvC,EAAK,CAAE,QAAS,CAAe,CAAC,CACnD,CAC+C,CAAC,CAClD,CACF,EAsBA,IAAIyC,GAAiB,KAAM,CACzB,YAAYC,EAAS,CACnB,KAAK,KAAO,IAAIC,GAASD,CAAO,EAChC,KAAK,KAAO,IAAIE,GAASF,CAAO,EAChC,KAAK,KAAO,IAAIG,EAAWH,EAAQ,KAAM,OAAO,EAChD,KAAK,OAAS,IAAIG,EAAWH,EAAQ,OAAQ,OAAO,EACpD,KAAK,MAAQ,IAAII,EAAWJ,EAAQ,MAAO,CAAC,EAC5C,KAAK,WAAa,IAAII,EAAWJ,EAAQ,WAAY,CAAC,EACtD,KAAK,cAAgB,IAAII,EAAWJ,EAAQ,cAAe,CAAC,EAC5D,KAAK,iBAAmB,IAAII,EAAWJ,EAAQ,aAAc,EAAE,EAC/D,KAAK,QAAUA,EAAQ,OACzB,CACA,MAAMK,EAAQC,EAAMC,EAAS,CAC3B,IAAMC,EAAW,KAAK,KAAK,IAAIH,EAAO,KAAME,CAAO,EACnD,GAAI,CAACC,EACH,OACF,IAAMC,EAAO,KAAK,KAAK,IAAIJ,EAAO,KAAME,CAAO,EAC/CF,EAAO,QAAQ,KAAOI,EACtB,IAAMC,EAAgB,KAAK,cAAc,IAAIL,EAAO,KAAME,CAAO,EAC3DI,EAAQC,GACZJ,EACA,KAAK,iBAAiB,IAAIH,EAAO,KAAME,CAAO,CAChD,EACIM,EAAc,GACdC,EAAiB,EACrB,QAAWC,KAAQJ,EACbI,EAAK,OAASD,IAChBA,EAAiBC,EAAK,OACtBF,EAAcE,GAGlB,IAAMC,EAAUX,EAAO,QAAQ,YAAYQ,CAAW,EAChDI,EAAQD,EAAQ,MAAQN,GAAiBI,EAAiB,GAC1DI,EAASF,EAAQ,wBACjBG,EAAUH,EAAQ,yBAClBI,GAAcF,EAASC,GAAW,KAAK,WAAW,IAAId,EAAO,KAAME,CAAO,EAC1Ec,EAAK,IAAIC,EAAuB,QAAQhB,EAAK,CAAC,EAAE,CAAC,EAAE,EAAGA,EAAK,CAAC,EAAE,CAAC,EAAE,CAAC,EAClEiB,EAAO,CACX,KAAMF,EAAG,EACT,KAAMA,EAAG,EAAIH,EACb,KAAMG,EAAG,EAAIJ,EACb,KAAMI,EAAG,EAAIF,GAAWR,EAAM,OAAS,GAAKS,CAC9C,EAuCA,MAAO,CAAC,CAAE,OAAQC,EAAI,OAAQ,CAACE,CAAI,EAAG,KAtCzB,CAACC,EAAKC,IAAU,CAC3BD,EAAI,YAAc,EAClBA,EAAI,KAAOf,EACXe,EAAI,UAAY,KAAK,KAAK,IAAInB,EAAO,KAAME,CAAO,EAClD,IAAMmB,EAAkB,KAAK,MAAM,IAAIrB,EAAO,KAAME,CAAO,EACvD,EAAI,EACR,QAAWQ,KAAQJ,EAAO,CACxB,IAAIgB,EAAS,EAMb,GALI,KAAK,UAAY,GAAkBF,GAASA,EAAM,UAAY,EAChEE,GAAUV,EAAQO,EAAI,YAAYT,CAAI,EAAE,OAAS,GACxC,KAAK,UAAY,GAAiBU,GAASA,EAAM,UAAY,KACtEE,EAASV,EAAQO,EAAI,YAAYT,CAAI,EAAE,OAErCW,EAGF,GAFAF,EAAI,UAAYE,EAAkB,EAClCF,EAAI,YAAc,KAAK,OAAO,IAAInB,EAAO,KAAME,CAAO,EAClDG,EAAgB,EAAG,CACrB,IAAIkB,EAAOD,EACX,QAAWE,KAAUd,EACnBS,EAAI,WAAWK,EAAQD,EAAM,CAAC,EAC9BA,GAAQJ,EAAI,YAAYK,CAAM,EAAE,MAAQnB,CAE5C,MACEc,EAAI,WAAWT,EAAMY,EAAQ,CAAC,EAGlC,GAAIjB,EAAgB,EAAG,CACrB,IAAIkB,EAAOD,EACX,QAAWE,KAAUd,EACnBS,EAAI,SAASK,EAAQD,EAAM,CAAC,EAC5BA,GAAQJ,EAAI,YAAYK,CAAM,EAAE,MAAQnB,CAE5C,MACEc,EAAI,SAAST,EAAMY,EAAQ,CAAC,EAE9B,GAAKP,CACP,CACF,CAC2C,CAAC,CAC9C,CACF,EACIU,GAAyB,KAAM,CACjC,YAAY9B,EAAS,CACnB,KAAK,SAAW,IAAI+B,GAAmB,IAAIhC,GAAeC,CAAO,CAAC,CACpE,CACA,MAAMK,EAAQC,EAAMC,EAAS,CAC3B,OAAO,KAAK,SAAS,MAAMF,EAAQC,EAAMC,CAAO,CAClD,CACF,EACIyB,GAAmB,KAAM,CAC3B,YAAYC,EAAYjC,EAAS,CAC/B,IAAIkC,EAAKC,EAAKC,EACd,KAAK,WAAaH,EAClB,KAAK,QAAU,IAAI7B,EAAWJ,EAAQ,QAAS,CAAC,EAChD,KAAK,QAAU,IAAII,EAAWJ,EAAQ,QAAS,CAAC,EAChD,KAAK,SAAWkC,EAAMlC,EAAQ,UAAY,KAAOkC,EAAM,OACvD,KAAK,YAAcC,EAAMnC,EAAQ,aAAe,KAAOmC,EAAM,CAC3D,EACA,EACA,EACA,EACA,EACA,EACA,EACA,CACF,EACA,KAAK,UAAYC,EAAKpC,EAAQ,WAAa,KAAOoC,EAAK,KAC9C,CAAC,EAEZ,CACA,MAAM/B,EAAQC,EAAMC,EAAS,CAC3B,GAAIA,EAAQ,WAAa,EACvB,OACF,IAAM8B,EAAS/B,EAAK,CAAC,EAAE,CAAC,EAClBgC,EAAS,KAAK,WAAW,MAAMjC,EAAQ,CAAC,CAAC,IAAIiB,EAAuB,QAAQ,EAAG,CAAC,CAAC,CAAC,EAAGf,CAAO,EAClG,GAAI,CAAC+B,GAAUA,EAAO,SAAW,EAC/B,OACF,IAAMC,EAAcD,EAAO,CAAC,EACtBE,EAAKD,EAAY,OAAO,CAAC,EAC3BE,EAAe,KAAK,QACpBC,EAAe,KAAK,QACpBC,EAAe,KAAK,QACpBC,EAAa,KAAK,WAChB,CACJ,QAASC,EACT,QAASC,EACT,QAASC,EACT,WAAYC,CACd,EAAI,KAAK,SAAS3C,EAAO,KAAME,CAAO,GAAK,CAAC,EACxCsC,IACFJ,EAAe,IAAIrC,EAAWyC,EAAW,CAAC,GACxCC,IACFJ,EAAe,IAAItC,EAAW0C,EAAW,CAAC,GACxCC,IACFJ,EAAeI,GACbC,IACFJ,EAAaI,GACf,IAAMC,EAAUR,EAAa,IAAIpC,EAAO,KAAME,CAAO,EAC/C2C,EAAUR,EAAa,IAAIrC,EAAO,KAAME,CAAO,EAC/C4C,EAAU,CAAC9B,EAAI+B,KACZ,CACL,KAAM/B,EAAG,EAAI+B,EAAG,EAAIZ,EAAG,KACvB,KAAMnB,EAAG,EAAI+B,EAAG,EAAIZ,EAAG,KACvB,KAAMnB,EAAG,EAAI+B,EAAG,EAAIZ,EAAG,KACvB,KAAMnB,EAAG,EAAI+B,EAAG,EAAIZ,EAAG,IACzB,GAEEa,EAAS,IAAI/B,EAAuB,QAAQ2B,EAASC,CAAO,EAC5DI,EACEC,EAAQ/B,GAAQ,CACpBA,EAAI,UAAU6B,EAAO,EAAGA,EAAO,CAAC,EAChCd,EAAY,KAAKf,EAAK,CAAE,QAAA8B,CAAQ,CAAC,CACnC,EACME,EAAoB,CAACnC,EAAI+B,IAAO,CACpC,IAAM7B,EAAO4B,EAAQ9B,EAAI+B,CAAE,EAC3B,GAAI,CAAC/C,EAAO,MAAM,aAAakB,EAAMlB,EAAO,KAAK,EAC/C,MAAO,CAAC,CAAE,OAAAgC,EAAQ,OAAQ,CAACd,CAAI,EAAG,KAAAgC,CAAK,CAAC,CAC5C,EACA,QAAWE,KAAab,EAAY,CAClC,IAAMc,EAAc,KAAK,mBAAmBT,EAAST,EAAIiB,CAAS,EAC5DE,EAAc,KAAK,mBAAmBT,EAASV,EAAIiB,CAAS,EAClE,OAAAH,EAAU,KAAK,eAAeX,EAAcc,CAAS,EACrDJ,EAAS,IAAI/B,EAAuB,QAAQoC,EAAaC,CAAW,EAC7DH,EAAkBnB,EAAQgB,CAAM,CACzC,CAEF,CACA,mBAAmBJ,EAAST,EAAIiB,EAAW,CACzC,IAAMG,EAAapB,EAAG,KAChBqB,EAAiBD,EAAa,EACpC,MAAI,CAAC,EAAW,CAAS,EAAE,SAASH,CAAS,EACpCR,EAAUY,EACf,CAAC,EAAY,EAAW,CAAU,EAAE,SACtCJ,CACF,EACSR,EAAUW,EACZX,CACT,CACA,mBAAmBC,EAASV,EAAIiB,EAAW,CACzC,IAAMK,EAAkB,KAAK,IAAItB,EAAG,IAAI,EAClCuB,EAAcvB,EAAG,KACjBwB,GAAqBxB,EAAG,KAAOA,EAAG,MAAQ,EAChD,MAAI,CAAC,EAAW,CAAS,EAAE,SAASiB,CAAS,EACpCP,EAAUc,EACf,CAAC,EAAY,EAAY,CAAS,EAAE,SACtCP,CACF,EACSP,EAAUa,EACf,CAAC,EAAY,EAAY,CAAS,EAAE,SACtCN,CACF,EACSP,EAAUY,EACZZ,CACT,CACA,eAAee,EAAcR,EAAW,CACtC,OAAIQ,IAEA,CAAC,EAAW,CAAS,EAAE,SAASR,CAAS,EACpC,EACL,CAAC,EAAY,EAAW,CAAU,EAAE,SACtCA,CACF,EACS,EACF,EACT,CACF,EACIS,GAAuB,KAAM,CAC/B,YAAYlE,EAAS,CACnB,KAAK,WAAa,IAAIgC,GACpB,IAAIjC,GAAeC,CAAO,EAC1BA,CACF,CACF,CACA,MAAMK,EAAQC,EAAMC,EAAS,CAC3B,OAAO,KAAK,WAAW,MAAMF,EAAQC,EAAMC,CAAO,CACpD,CACF,EAOA,IAAI4D,GAAsB,KAAM,CAC9B,YAAYC,EAAS,CACnB,IAAIC,EACJ,KAAK,KAAO,IAAIC,GAASF,CAAO,EAChC,KAAK,KAAO,IAAIG,GAASH,CAAO,EAChC,KAAK,KAAO,IAAII,EAAWJ,EAAQ,KAAM,OAAO,EAChD,KAAK,OAAS,IAAII,EAAWJ,EAAQ,OAAQ,OAAO,EACpD,KAAK,MAAQ,IAAIK,EAAWL,EAAQ,MAAO,CAAC,EAC5C,KAAK,OAAS,IAAIK,EAAWL,EAAQ,OAAQ,CAAC,EAC9C,KAAK,UAAYC,EAAMD,EAAQ,WAAa,KAAOC,EAAM,EACzD,KAAK,kBAAoB,IAAII,EAAWL,EAAQ,cAAe,EAAE,EACjE,KAAK,eAAiB,IAAIK,EAAWL,EAAQ,eAAgB,GAAG,CAClE,CACA,MAAMM,EAAQC,EAAMC,EAAS,CAC3B,IAAMC,EAAO,KAAK,KAAK,IAAIH,EAAO,KAAME,CAAO,EAG/C,GAFI,CAACC,GAEDA,EAAK,OAAS,KAAK,kBAAkB,IAAIH,EAAO,KAAME,CAAO,EAC/D,OACF,IAAME,EAAoB,GACpBC,EAAQH,EAAQ,KACtB,GAAIG,EAAM,KAAOA,EAAM,KAAOD,GAAqBC,EAAM,KAAOA,EAAM,KAAOD,EAC3E,OACF,IAAME,EAAO,KAAK,KAAK,IAAIN,EAAO,KAAME,CAAO,EAC/CF,EAAO,QAAQ,KAAOM,EACtB,IAAMC,EAAUP,EAAO,QAAQ,YAAYG,CAAI,EACzCK,EAAQD,EAAQ,MAChBE,EAASF,EAAQ,wBAA0BA,EAAQ,yBACrDG,EAAiB,KAAK,eAAe,IAAIV,EAAO,KAAME,CAAO,EAC7DF,EAAO,SAAW,IACpBU,GAAkB,GAAKV,EAAO,SAAW,GAC3C,IAAMW,EAAYF,EAAS,EACrBG,EAAmBC,GACvBZ,EACAO,EACAE,EACAC,CACF,EACA,GAAIC,EAAiB,SAAW,EAC9B,OACF,IAAME,EAAS,CAAC,EAChB,QAAWC,KAAaH,EAAkB,CACxC,IAAMI,EAAKD,EAAU,IAAI,EAAIA,EAAU,MAAM,EACvCE,EAAKF,EAAU,IAAI,EAAIA,EAAU,MAAM,EAOvCG,EANQC,GACZJ,EAAU,MACVA,EAAU,IACVP,EACAG,EAAY,CACd,EACqB,IAAKS,IACjB,CACL,KAAMA,EAAG,EAAIT,EAAY,EACzB,KAAMS,EAAG,EAAIT,EAAY,EACzB,KAAMS,EAAG,EAAIT,EAAY,EACzB,KAAMS,EAAG,EAAIT,EAAY,CAC3B,EACD,EACKU,EAAQC,GAAQ,CACpBA,EAAI,YAAc,EAClBA,EAAI,OAAO,KAAK,MAAML,EAAID,CAAE,CAAC,EACzBA,EAAK,IACPM,EAAI,MAAM,GAAI,EAAE,EAChBA,EAAI,UAAU,CAACd,EAAO,CAAC,GAEzB,IAAIe,EAAkB,EAClB,KAAK,WAAa,EACpBA,GAAmBd,EACZ,KAAK,WAAa,IACzBc,GAAmBd,EAAS,GAC9Ba,EAAI,UACF,EACAC,EAAkB,KAAK,OAAO,IAAIvB,EAAO,KAAME,CAAO,CACxD,EACAoB,EAAI,KAAOhB,EACX,IAAMkB,EAAY,KAAK,MAAM,IAAIxB,EAAO,KAAME,CAAO,EACjDsB,IACFF,EAAI,UAAYE,EAChBF,EAAI,YAAc,KAAK,OAAO,IAAItB,EAAO,KAAME,CAAO,EACtDoB,EAAI,WAAWnB,EAAM,EAAG,CAAC,GAE3BmB,EAAI,UAAY,KAAK,KAAK,IAAItB,EAAO,KAAME,CAAO,EAClDoB,EAAI,SAASnB,EAAM,EAAG,CAAC,CACzB,EACAW,EAAO,KAAK,CACV,OAAQC,EAAU,MAClB,OAAAG,EACA,KAAAG,EACA,iBAAkBlB,EAClB,sBAAuBO,CACzB,CAAC,CACH,CACA,OAAOI,CACT,CACF,EACIW,GAAyB,KAAM,CACjC,YAAY/B,EAAS,CACnB,KAAK,WAAa,IAAIgC,GAAehC,CAAO,CAC9C,CACA,MAAMM,EAAQC,EAAMC,EAAS,CAC3B,IAAMG,EAAQH,EAAQ,KAEtB,IADcG,EAAM,KAAOA,EAAM,OAASA,EAAM,KAAOA,EAAM,MAClD,IACT,OACF,IAAMsB,EAAS,KAAK,WAAW,MAAM3B,EAAQ,CAAC,CAAC,IAAI4B,EAAuB,QAAQ,EAAG,CAAC,CAAC,CAAC,EAAG1B,CAAO,EAClG,GAAI,CAACyB,GAAUA,EAAO,SAAW,EAC/B,OACF,IAAME,EAAcF,EAAO,CAAC,EACtBG,EAAKD,EAAY,OAAO,CAAC,EACzBE,EAAa9B,EAAK,CAAC,EACnB+B,KAAYC,GAAiB,SAAS,CAACF,EAAW,IAAKX,GAAO,CAACA,EAAG,EAAGA,EAAG,CAAC,CAAC,CAAC,CAAC,EAC5Ec,EAAK,IAAIN,EAAuB,QAAQI,EAAM,CAAC,EAAGA,EAAM,CAAC,CAAC,EAC1DG,EAAO,CACX,KAAMD,EAAG,GAAKJ,EAAG,KAAOA,EAAG,MAAQ,EACnC,KAAMI,EAAG,GAAKJ,EAAG,KAAOA,EAAG,MAAQ,EACnC,KAAMI,EAAG,GAAKJ,EAAG,KAAOA,EAAG,MAAQ,EACnC,KAAMI,EAAG,GAAKJ,EAAG,KAAOA,EAAG,MAAQ,CACrC,EAQA,MAAO,CAAC,CAAE,OAAQI,EAAI,OAAQ,CAACC,CAAI,EAAG,KAPxBb,GAAQ,CACpBA,EAAI,UACFO,EAAY,OAAO,GAAKC,EAAG,KAAOA,EAAG,MAAQ,EAC7CD,EAAY,OAAO,CACrB,EACAA,EAAY,KAAKP,CAAG,CACtB,CAC2C,CAAC,CAC9C,CACF,EAGIc,GAAY,CAACC,EAAQC,IAAU,CACjC,IAAMC,EAAWC,GAAEF,CAAK,EAClBG,EAAYC,GAAe,CAAC,EAAGL,CAAM,EAC3C,OAAW,CAACM,EAAKC,CAAK,IAAK,OAAO,QAAQP,CAAM,EAAG,CACjD,IAAMQ,EAAKL,GAAEI,CAAK,EAClBH,EAAUE,CAAG,EAAIG,GAAEP,EAAS,CAAC,EAAGA,EAAS,CAAC,EAAGM,EAAG,CAAC,EAAGA,EAAG,CAAC,CAAC,CAC3D,CACA,OAAOJ,CACT,EACIM,GAAa,CAACC,EAAgBV,IAAU,CAC1C,IAAID,EAASW,EACb,OAAIV,IACFD,EAASD,GAAUY,EAAgBV,CAAK,GACnC,CACL,CACE,UAAW,QACX,WAAY,IAAIW,EAAkB,CAChC,KAAMZ,EAAO,KACf,CAAC,CACH,EACA,CACE,UAAW,UACX,WAAY,IAAIY,EAAkB,CAChC,KAAMZ,EAAO,OACf,CAAC,EACD,OAAQ,CAACa,EAAIC,IACJA,EAAG,MAAM,UAAY,SAEhC,EACA,CACE,UAAW,UACX,WAAY,IAAIF,EAAkB,CAChC,KAAMZ,EAAO,WACf,CAAC,EACD,OAAQ,CAACa,EAAIC,IACJA,EAAG,MAAM,UAAY,eAAiBA,EAAG,MAAM,QAAU,eAEpE,EACA,CACE,UAAW,UACX,WAAY,IAAIF,EAAkB,CAChC,KAAMZ,EAAO,QACf,CAAC,EACD,OAAQ,CAACa,EAAIC,IACJA,EAAG,MAAM,UAAY,UAEhC,EACA,CACE,UAAW,UACX,WAAY,IAAIF,EAAkB,CAChC,KAAMZ,EAAO,QACf,CAAC,EACD,OAAQ,CAACa,EAAIC,IACJA,EAAG,MAAM,UAAY,UAEhC,EACA,CACE,UAAW,UACX,WAAY,IAAIF,EAAkB,CAChC,KAAMZ,EAAO,MACf,CAAC,EACD,OAAQ,CAACa,EAAIC,IACJA,EAAG,MAAM,UAAY,UAAYA,EAAG,MAAM,UAAY,gBAAkBA,EAAG,MAAM,UAAY,cAAgBA,EAAG,MAAM,UAAY,SAE7I,EACA,CACE,UAAW,UACX,WAAY,IAAIF,EAAkB,CAChC,KAAMZ,EAAO,UACf,CAAC,EACD,OAAQ,CAACa,EAAIC,IACJA,EAAG,MAAM,UAAY,YAEhC,EACA,CACE,UAAW,UACX,WAAY,IAAIF,EAAkB,CAChC,KAAMZ,EAAO,IACf,CAAC,EACD,OAAQ,CAACa,EAAIC,IACJA,EAAG,MAAM,UAAY,MAEhC,EACA,CACE,UAAW,UACX,WAAY,IAAIF,EAAkB,CAChC,KAAMZ,EAAO,KACf,CAAC,EACD,OAAQ,CAACa,EAAIC,IACJA,EAAG,MAAM,UAAY,OAEhC,EACA,CACE,UAAW,UACX,WAAY,IAAIF,EAAkB,CAChC,KAAMZ,EAAO,IACf,CAAC,EACD,OAAQ,CAACa,EAAIC,IACJA,EAAG,MAAM,UAAY,MAEhC,EACA,CACE,UAAW,QACX,WAAY,IAAIF,EAAkB,CAChC,KAAMZ,EAAO,KACf,CAAC,CACH,EACA,CACE,UAAW,UACX,WAAY,IAAIY,EAAkB,CAChC,KAAMZ,EAAO,IACf,CAAC,EACD,OAAQ,CAACa,EAAIC,IACJA,EAAG,MAAM,UAAY,MAEhC,EACA,CACE,UAAW,YACX,WAAY,IAAIF,EAAkB,CAChC,KAAMZ,EAAO,SACf,CAAC,CACH,EACA,CACE,UAAW,QACX,WAAY,IAAIe,GAAe,CAC7B,MAAOf,EAAO,cACd,MAAOgB,GAAI,IAAK,CACd,CAAC,EAAG,GAAG,EACP,CAAC,GAAI,CAAC,EACN,CAAC,GAAI,CAAC,EACN,CAAC,GAAI,EAAE,CACT,CAAC,CACH,CAAC,EACD,OAAQ,CAACH,EAAIC,IACJA,EAAG,MAAM,WAAW,IAAM,SAErC,EACA,CACE,UAAW,QACX,WAAY,IAAIC,GAAe,CAC7B,MAAOf,EAAO,gBACd,MAAOgB,GAAI,IAAK,CACd,CAAC,EAAG,CAAC,EACL,CAAC,GAAI,CAAC,EACN,CAAC,GAAI,CAAC,EACN,CAAC,GAAI,EAAE,CACT,CAAC,CACH,CAAC,EACD,OAAQ,CAACH,EAAIC,IACJA,EAAG,MAAM,WAAW,IAAM,YAErC,EACA,CACE,UAAW,QACX,WAAY,IAAIC,GAAe,CAC7B,MAAOf,EAAO,iBACd,MAAOgB,GAAI,IAAK,CACd,CAAC,GAAI,CAAC,EACN,CAAC,GAAI,CAAC,EACN,CAAC,GAAI,EAAE,CACT,CAAC,CACH,CAAC,EACD,OAAQ,CAACH,EAAIC,IACJA,EAAG,MAAM,WAAW,IAAM,aAErC,EACA,CACE,UAAW,QACX,WAAY,IAAIC,GAAe,CAC7B,MAAOf,EAAO,gBACd,MAAOgB,GAAI,IAAK,CACd,CAAC,GAAI,CAAC,EACN,CAAC,GAAI,CAAC,EACN,CAAC,GAAI,EAAE,CACT,CAAC,CACH,CAAC,EACD,OAAQ,CAACH,EAAIC,IACJA,EAAG,MAAM,WAAW,IAAM,YAErC,EACA,CACE,UAAW,QACX,WAAY,IAAIC,GAAe,CAC7B,MAAOf,EAAO,UACd,MAAOgB,GAAI,IAAK,CACd,CAAC,GAAI,CAAC,EACN,CAAC,GAAI,CAAC,EACN,CAAC,GAAI,EAAE,CACT,CAAC,CACH,CAAC,EACD,OAAQ,CAACH,EAAIC,IACJA,EAAG,MAAM,WAAW,IAAM,YAErC,EACA,CACE,UAAW,QACX,WAAY,IAAIC,GAAe,CAC7B,MAAOf,EAAO,WACd,MAAOgB,GAAI,IAAK,CACd,CAAC,GAAI,CAAC,EACN,CAAC,GAAI,CAAC,EACN,CAAC,GAAI,EAAE,CACT,CAAC,CACH,CAAC,EACD,OAAQ,CAACH,EAAIC,IACJA,EAAG,MAAM,WAAW,IAAM,aAErC,EACA,CACE,UAAW,QACX,WAAY,IAAIC,GAAe,CAC7B,MAAOf,EAAO,UACd,MAAOgB,GAAI,IAAK,CACd,CAAC,EAAG,CAAC,EACL,CAAC,GAAI,CAAC,EACN,CAAC,GAAI,CAAC,EACN,CAAC,GAAI,EAAE,CACT,CAAC,CACH,CAAC,EACD,OAAQ,CAACH,EAAIC,IACJA,EAAG,MAAM,WAAW,IAAM,YAErC,EACA,CACE,UAAW,QACX,WAAY,IAAIC,GAAe,CAC7B,MAAOf,EAAO,QACd,MAAOgB,GAAI,IAAK,CACd,CAAC,EAAG,EAAG,EACP,CAAC,GAAI,GAAG,EACR,CAAC,GAAI,CAAC,EACN,CAAC,GAAI,EAAE,CACT,CAAC,CACH,CAAC,EACD,OAAQ,CAACH,EAAIC,IACJA,EAAG,MAAM,WAAW,IAAM,SAErC,EACA,CACE,UAAW,aACX,WAAY,IAAIC,GAAe,CAC7B,MAAOf,EAAO,WACd,MAAO,EACP,QAAS,EACX,CAAC,CACH,EACA,CACE,UAAW,OACX,WAAY,IAAIY,EAAkB,CAChC,KAAMZ,EAAO,IACf,CAAC,CACH,CACF,CACF,EACIiB,GAAa,CAACN,EAAgBV,EAAOiB,EAAWC,IAAc,CAChE,IAAInB,EAASW,EACTV,IACFD,EAASD,GAAUY,EAAgBV,CAAK,GAC1C,IAAImB,EAAW,CAAC,MAAM,EAClBF,IACFE,EAAWF,GACb,IAAMG,EAAgB,CAACC,EAAYC,IAC5BJ,EAEDG,aAAsBE,GACjB,IAAIC,GAAe,CACxBH,EACA,IAAIE,GAAqB,CACvB,KAAAD,EACA,YAAaJ,CACf,CAAC,CACH,CAAC,EAEI,IAAIM,GAAe,CACxBH,EACA,IAAII,GAAuB,CACzB,KAAAH,EACA,YAAaJ,CACf,CAAC,CACH,CAAC,EAhBQG,EAkBX,MAAO,CACL,CACE,UAAW,SACX,WAAYD,EACV,IAAIK,GAAuB,CACzB,YAAaN,EACb,KAAMpB,EAAO,aACb,WAAY,IACZ,KAAM,CAACa,EAAIC,IACLD,EAAK,EACA,sBACF,sBAET,cAAe,WACjB,CAAC,EACDb,EAAO,YACT,EACA,OAAQ,CAACa,EAAIC,IACJA,EAAG,MAAM,WAAW,IAAM,SAErC,EACA,CACE,UAAW,SACX,WAAYO,EACV,IAAIK,GAAuB,CACzB,YAAaN,EACb,KAAMpB,EAAO,WACb,KAAM,qBACR,CAAC,EACDA,EAAO,UACT,EACA,OAAQ,CAACa,EAAIC,IACJA,EAAG,MAAM,WAAW,IAAM,OAErC,EACA,CACE,GAAI,cACJ,UAAW,SACX,OAAQ,CAACD,EAAIC,IACJA,EAAG,MAAM,WAAW,IAAM,OAEnC,QAAS,EACT,WAAYO,EACV,IAAIK,GAAuB,CACzB,YAAaN,EACb,KAAMpB,EAAO,UACb,KAAM,CAACa,EAAIC,IACkBA,GAAG,MAAM,WAAW,IAAO,EAChDD,EAAK,EACA,sBACF,sBAELA,EAAK,EACA,sBACF,qBAEX,CAAC,EACDb,EAAO,SACT,EACA,KAAM,CAACH,EAAI8B,IACF9B,EAAG,WAAW,EAAI8B,EAAE,WAAW,CAE1C,EACA,CACE,GAAI,aACJ,UAAW,SACX,OAAQ,CAACd,EAAIC,IACJA,EAAG,MAAM,WAAW,IAAM,OAEnC,QAAS,EACT,WAAY,IAAIc,GAAgB,CAC9B,IAAIC,GAAiB,CACnB,OAAQ,EACR,KAAM7B,EAAO,SACf,CAAC,EACDqB,EACE,IAAIG,GAAqB,CACvB,YAAaJ,EACb,KAAMpB,EAAO,UACb,QAAS,EACT,QAAS,EACT,KAAM,CAACa,EAAIC,IACkBA,GAAG,MAAM,WAAW,IAAO,EAChDD,EAAK,EACA,sBACF,sBAELA,EAAK,EACA,sBACF,qBAEX,CAAC,EACDb,EAAO,SACT,CACF,CAAC,EACD,KAAM,CAACH,EAAI8B,IACF9B,EAAG,WAAW,EAAI8B,EAAE,WAAW,CAE1C,EACA,CACE,GAAI,gBACJ,UAAW,SACX,WAAYN,EACV,IAAIK,GAAuB,CACzB,YAAaN,EACb,KAAMpB,EAAO,mBACb,KAAM,sBACN,cAAe,WACjB,CAAC,EACDA,EAAO,kBACT,EACA,OAAQ,CAACa,EAAIC,IACJA,EAAG,MAAM,WAAW,IAAM,eAErC,EACA,CACE,UAAW,UACX,WAAYO,EACV,IAAIjC,GAAuB,CACzB,YAAagC,EACb,KAAMpB,EAAO,aACb,KAAM,qBACR,CAAC,EACDA,EAAO,YACT,CACF,EACA,CACE,UAAW,QACX,WAAYqB,EACV,IAAIjC,GAAuB,CACzB,YAAagC,EACb,KAAMpB,EAAO,WACb,KAAM,4BACR,CAAC,EACDA,EAAO,UACT,CACF,EACA,CACE,UAAW,UACX,WAAYqB,EACV,IAAIjC,GAAuB,CACzB,YAAagC,EACb,KAAMpB,EAAO,aACb,KAAM,4BACR,CAAC,EACDA,EAAO,YACT,CACF,EACA,CACE,UAAW,QACX,WAAYqB,EACV,IAAIjE,GAAoB,CACtB,YAAagE,EACb,KAAMpB,EAAO,WACb,KAAM,qBACR,CAAC,EACDA,EAAO,UACT,EACA,QAAS,EACX,EACA,CACE,UAAW,QACX,WAAY,IAAI8B,GAAiB,CAC/B,YAAa,CAAC,KAAK,EACnB,KAAM,qBACN,WAAY9B,EAAO,QACnB,QAAS,EACT,KAAMA,EAAO,kBACf,CAAC,EACD,OAAQ,CAACa,EAAIC,IACJA,EAAG,MAAM,WAAW,IAAM,SAErC,EACA,CACE,UAAW,OACX,WAAY,IAAIc,GAAgB,CAC9B,IAAIC,GAAiB,CACnB,OAAQ,EACR,KAAM7B,EAAO,SACf,CAAC,EACDqB,EACE,IAAIG,GAAqB,CACvB,YAAaJ,EACb,KAAMpB,EAAO,UACb,QAAS,EACT,QAAS,EACT,KAAM,qBACR,CAAC,EACDA,EAAO,SACT,CACF,CAAC,CACH,CACF,CACF,EAGI+B,GAAyBC,EAAQC,GAAuB,CAAC,EACzDC,GAAeF,EAAQG,GAAkB,CAAC,EAG1CC,GAAyBJ,EAAQC,GAAuB,CAAC,EACzDI,GAAgB,CAACzE,EAAM0E,EAAOC,IAAc,CAC9C,IAAMC,EAAS,CAAC,EAChB,QAAWC,KAAQ7E,EAAM,CACvB,IAAM8E,EAAO,CAAC,EACd,QAAWC,KAASF,EAClBC,EAAK,KAAKC,EAAM,MAAM,EAAE,KAAKL,CAAK,EAAE,IAAIC,CAAS,CAAC,EAEpDC,EAAO,KAAKE,CAAI,CAClB,CACA,OAAOF,CACT,EACII,GAAO,CAACC,EAAKhC,IAAO,CACtB,IAAMiC,EAAM,GAAKjC,EACjB,OAAIgC,EAAM,EACDC,EAAMD,EACXA,GAAOC,EACFD,EAAMC,EACRD,CACT,EACIE,GAAO,KAAM,CACf,YAAYC,EAAWC,EAAcC,EAAW,CAC9C,KAAK,UAAYF,EACjB,KAAK,aAAeC,EACpB,KAAK,UAAYC,CACnB,CACA,mBAAmBC,EAAcC,EAAQ,CACvC,IAAMC,EAAaC,EAAM,EAAGH,CAAY,EAAIG,EAAM,EAAG,KAAK,KAAKH,CAAY,CAAC,EACtEI,EAAS,CAAC,EACZjB,EAAQ,EACNQ,EAAM,KAAK,UAAU,SAC3B,GAAIK,EAAe,KAAK,UACtBb,EAAQ,GAAK,GAAK,KAAK,UAAYa,GAAgBE,EACnDE,EAAO,KAAK,CACV,UAAW,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,CAAE,EAC9B,OAAQ,IAAInB,GAAuB,QAAQ,EAAG,CAAC,EAC/C,MAAAE,EACA,IAAKQ,EAAMR,CACb,CAAC,UACQa,GAAgB,KAAK,UAAY,KAAK,aAAc,CAC7D,IAAMrC,EAAK,GAAK,KAAK,UACf0C,EAAgB,IAAMH,EACtBI,EAAY,KAAK,KAAKN,CAAY,EAAI,KAAK,UAC3CO,EAAY,KAAK,MAAMN,EAAO,KAAOtC,EAAK0C,CAAa,EACvDG,EAAY,KAAK,MAAMP,EAAO,KAAOtC,EAAK0C,CAAa,EACvDI,EAAY,KAAK,MAAMR,EAAO,KAAOtC,EAAK0C,CAAa,EACvDK,EAAY,KAAK,MAAMT,EAAO,KAAOtC,EAAK0C,CAAa,EAC7D,QAASM,EAAKJ,EAAWI,GAAMF,EAAWE,IACxC,QAASC,EAAKJ,EAAWI,GAAMF,EAAWE,IAAM,CAC9C,IAAMC,EAAS,IAAI5B,GAAuB,QACxC0B,EAAKhD,EAAK0C,EACVO,EAAKjD,EAAK0C,CACZ,EACAD,EAAO,KAAK,CACV,UAAW,CACT,EAAGE,EACH,EAAGb,GAAKkB,EAAIL,CAAS,EACrB,EAAGb,GAAKmB,EAAIN,CAAS,CACvB,EACA,OAAAO,EACA,MAAOX,EACP,IAAKP,EAAMO,CACb,CAAC,CACH,CAEJ,KAAO,CACL,IAAMvC,EAAK,GAAK,KAAK,UACrBwB,GAAS,GAAK,KAAK,KAAKa,CAAY,EAAI,KAAK,aAAe,KAAK,WAAaE,EAC9E,IAAMK,EAAY,KAAK,MAAMN,EAAO,KAAOtC,EAAK,IAAMwB,CAAK,EACrDqB,EAAY,KAAK,MAAMP,EAAO,KAAOtC,EAAK,IAAMwB,CAAK,EACrDsB,EAAY,KAAK,MAAMR,EAAO,KAAOtC,EAAK,IAAMwB,CAAK,EACrDuB,EAAY,KAAK,MAAMT,EAAO,KAAOtC,EAAK,IAAMwB,CAAK,EAC3D,QAASwB,EAAKJ,EAAWI,GAAMF,EAAWE,IACxC,QAASC,EAAKJ,EAAWI,GAAMF,EAAWE,IAAM,CAC9C,IAAMC,EAAS,IAAI5B,GAAuB,QAAQ0B,EAAKhD,EAAK,IAAMwB,EAAOyB,EAAKjD,EAAK,IAAMwB,CAAK,EAC9FiB,EAAO,KAAK,CACV,UAAW,CACT,EAAG,KAAK,aACR,EAAGX,GAAKkB,EAAI,KAAK,YAAY,EAC7B,EAAGlB,GAAKmB,EAAI,KAAK,YAAY,CAC/B,EACA,OAAAC,EACA,MAAA1B,EACA,IAAKQ,EAAMR,CACb,CAAC,CACH,CAEJ,CACA,OAAOiB,CACT,CACA,uBAAuBU,EAAc,CACnC,IAAIC,EACA5B,EAAQ,EACRQ,EAAM,KAAK,UAAU,SACrBkB,EACJ,GAAIC,EAAa,EAAI,KAAK,UACxBC,EAAY,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,CAAE,EAC/B5B,EAAQ,GAAK,GAAK,KAAK,UAAY2B,EAAa,GAChDD,EAAS,IAAI5B,GAAuB,QAAQ,EAAG,CAAC,EAChDU,EAAMA,EAAMR,UACH2B,EAAa,GAAK,KAAK,UAAY,KAAK,aAAc,CAC/D,IAAMnD,EAAK,GAAK,KAAK,UACrBoD,EAAY,CACV,EAAGD,EAAa,EAAI,KAAK,UACzB,EAAG,KAAK,MAAMA,EAAa,EAAInD,CAAE,EACjC,EAAG,KAAK,MAAMmD,EAAa,EAAInD,CAAE,CACnC,EACAkD,EAAS,IAAI5B,GAAuB,QAAQ8B,EAAU,EAAIpD,EAAK,IAAKoD,EAAU,EAAIpD,EAAK,GAAG,CAC5F,KAAO,CACLwB,EAAQ,GAAK2B,EAAa,EAAI,KAAK,aAAe,KAAK,UACvD,IAAMnD,EAAK,GAAK,KAAK,UACrBoD,EAAY,CACV,EAAG,KAAK,aACR,EAAG,KAAK,MAAMD,EAAa,EAAInD,EAAKwB,CAAK,EACzC,EAAG,KAAK,MAAM2B,EAAa,EAAInD,EAAKwB,CAAK,CAC3C,EACA0B,EAAS,IAAI5B,GAAuB,QAClC8B,EAAU,EAAIpD,EAAKwB,EAAQ,IAC3B4B,EAAU,EAAIpD,EAAKwB,EAAQ,GAC7B,EACAQ,EAAMA,EAAMR,CACd,CACA,MAAO,CAAE,UAAA4B,EAAW,MAAA5B,EAAO,OAAA0B,EAAQ,IAAAlB,CAAI,CACzC,CACA,QAAQK,EAAcC,EAAQ,CAC5B,OAAOe,GAAQ,KAAM,KAAM,WAAa,CACtC,IAAMZ,EAAS,KAAK,mBAAmBJ,EAAcC,CAAM,EAI3D,OAHe,MAAM,QAAQ,IAC3BG,EAAO,IAAKa,GAAO,KAAK,UAAU,IAAIA,EAAG,SAAS,CAAC,CACrD,GACc,IAAI,CAACC,EAAMC,IAAO,CAC9B,IAAMF,EAAKb,EAAOe,CAAE,EACpB,MAAO,CACL,KAAAD,EACA,EAAGlB,EACH,UAAWiB,EAAG,UACd,MAAOA,EAAG,MACV,IAAKA,EAAG,IACR,OAAQA,EAAG,MACb,CACF,CAAC,CACH,CAAC,CACH,CACA,eAAeH,EAAc,CAC3B,OAAOE,GAAQ,KAAM,KAAM,WAAa,CACtC,IAAMC,EAAK,KAAK,uBAAuBH,CAAY,EAEnD,MAAO,CACL,KAFW,MAAM,KAAK,UAAU,IAAIG,EAAG,SAAS,EAGhD,EAAGH,EAAa,EAChB,UAAWG,EAAG,UACd,MAAOA,EAAG,MACV,OAAQA,EAAG,OACX,IAAKA,EAAG,GACV,CACF,CAAC,CACH,CACA,cAAcG,EAAKC,EAAKrB,EAAc,CACpC,IAAMsB,EAAe,KAAK,MAAMtB,CAAY,EACtCM,EAAY,KAAK,IACrBgB,EAAe,KAAK,UACpB,KAAK,YACP,EACMC,EAAa,IAAM,GAAKD,EAAehB,GAC7C,OAAO,KAAK,UAAU,cAAcc,EAAKC,EAAKf,EAAWiB,CAAU,CACrE,CACF,EACIC,GAAkBtH,GAAY,CAChC,IAAMuH,EAAiBpE,GAAO,CAC5B,IAAMqE,EAAarE,EAAG,YAAc,OAAS,EAAIA,EAAG,UAC9CsE,EAActE,EAAG,aAAe,GAClCuE,EACA,OAAOvE,EAAG,KAAQ,SAChBA,EAAG,IAAI,SAAS,UAAU,EAC5BuE,EAAS,IAAIC,GAAcxE,EAAG,IAAK,EAAI,EAEvCuE,EAAS,IAAIE,GAAUzE,EAAG,IAAK,EAAI,EAGrCuE,EAAS,IAAIC,GAAcxE,EAAG,IAAK,EAAI,EAEzC,IAAM0E,EAAQ,IAAIC,GAAUJ,EAAQ,IAAM,GAAKF,CAAU,EACzD,OAAO,IAAI9B,GAAKmC,EAAOJ,EAAaD,CAAU,CAChD,EACMO,EAA0B,IAAI,IACpC,GAAI/H,EAAQ,QACV,QAAWiD,KAAOjD,EAAQ,QACxB+H,EAAQ,IAAI9E,EAAKsE,EAAcvH,EAAQ,QAAQiD,CAAG,CAAC,CAAC,OAGtD8E,EAAQ,IAAI,GAAIR,EAAcvH,CAAO,CAAC,EAExC,OAAO+H,CACT,EAGIC,GAAW,CAAClC,EAAcmC,EAAYxF,IAAS,CAEjD,IAAMgB,EAAKwE,EAAa,IAClBC,EAAO,KAAK,MAAMzF,EAAK,KAAO,GAAG,EACjC0F,EAAO,KAAK,MAAM1F,EAAK,KAAO,GAAG,EACjC2F,EAAO,KAAK,MAAM3F,EAAK,KAAO,GAAG,EACjC4F,EAAO,KAAK,MAAM5F,EAAK,KAAO,GAAG,EACjC6F,EAAY,KAAK,KAAK7E,CAAE,EACxB0B,EAAS,CAAC,EAChB,QAASoD,EAAKL,EAAMK,GAAMH,EAAMG,IAAM,CACpC,IAAMC,EAAYD,GAAM,GAAKzC,GAC7B,QAAS2C,EAAIN,EAAMM,GAAKJ,EAAMI,IAC5BtD,EAAO,KAAK,CACV,QAASuD,GAAQ,CAAE,EAAG5C,EAAc,EAAG0C,EAAW,EAAAC,CAAE,CAAC,EACrD,IAAKC,GAAQ,CACX,EAAG5C,EAAewC,EAClB,EAAG,KAAK,MAAME,EAAY/E,CAAE,EAC5B,EAAG,KAAK,MAAMgF,EAAIhF,CAAE,CACtB,CAAC,CACH,CAAC,CAEL,CACA,OAAO0B,CACT,EACIwD,GAAQ,KAAM,CAChB,YAAYlD,EAAKmD,EAAiB,CAChC,KAAK,KAAO,IAAI/D,GAAa,QAC7B,KAAK,QAA0B,IAAI,IACnC,KAAK,IAAMY,EACX,KAAK,gBAAkBmD,CACzB,CACA,UAAUC,EAAS,CACjB,QAAW5F,KAAO,KAAK,QAAQ,KAAK,EAClC,GAAIA,EAAI,WAAW4F,CAAO,EACxB,MAAO,GAEX,MAAO,EACT,CACA,IAAIA,EAAS,CACX,OAAO,KAAK,QAAQ,IAAIA,CAAO,CACjC,CACA,MAAO,CACL,OAAO,KAAK,QAAQ,IACtB,CACA,MAAO,CACL,OAAO,KAAK,QAAQ,KAAK,CAC3B,CACA,WAAWpG,EAAMqG,EAAO,CACtB,IAAM1H,EAAyB,IAAI,IACnC,QAAW2H,KAAS,KAAK,KAAK,OAAOtG,CAAI,EACnCsG,EAAM,aAAa,OAASD,GAC9B1H,EAAO,IAAI2H,EAAM,YAAY,EAGjC,OAAO3H,CACT,CACA,YAAY4H,EAAOF,EAAO,CACxB,IAAM1H,EAAyB,IAAI,IACnC,QAAWqB,KAAQuG,EAAM,OACvB,QAAWD,KAAS,KAAK,KAAK,OAAOtG,CAAI,EACnCsG,EAAM,aAAa,OAASD,GAC9B1H,EAAO,IAAI2H,EAAM,YAAY,EAInC,OAAO3H,CACT,CACA,aAAaqB,EAAMqG,EAAO,CACxB,QAAWC,KAAS,KAAK,KAAK,OAAOtG,CAAI,EACvC,GAAIsG,EAAM,aAAa,OAASD,EAC9B,MAAO,GAEX,MAAO,EACT,CACA,cAAcE,EAAOF,EAAO,CAC1B,QAAWrG,KAAQuG,EAAM,OACvB,QAAWD,KAAS,KAAK,KAAK,OAAOtG,CAAI,EACvC,GAAIsG,EAAM,aAAa,OAASD,EAC9B,MAAO,GAGb,MAAO,EACT,CACA,sBAAsBE,EAAO,CAC3B,GAAI,CAACA,EAAM,kBAAoB,CAACA,EAAM,sBACpC,MAAO,GACT,IAAMC,EAAOD,EAAM,sBACbE,EAAY,CAChB,KAAMF,EAAM,OAAO,EAAIC,EACvB,KAAMD,EAAM,OAAO,EAAIC,EACvB,KAAMD,EAAM,OAAO,EAAIC,EACvB,KAAMD,EAAM,OAAO,EAAIC,CACzB,EACA,QAAWE,KAAa,KAAK,KAAK,OAAOD,CAAS,EAChD,GAAIC,EAAU,aAAa,mBAAqBH,EAAM,kBAChDG,EAAU,aAAa,OAAO,KAAKH,EAAM,MAAM,EAAIC,EACrD,MAAO,GAIb,MAAO,EACT,CACA,UAAUJ,EAAS,CACb,KAAK,QAAQ,IAAIA,CAAO,GAC1B,QAAQ,IAAI,qBAAqB,EAEnC,IAAMO,EAAyB,IAAI,IACnC,KAAK,QAAQ,IAAIP,EAASO,CAAM,CAClC,CACA,OAAOJ,EAAOF,EAAOD,EAAS,CAC5B,IAAMQ,EAAe,CACnB,OAAQL,EAAM,OACd,OAAQA,EAAM,OACd,KAAMA,EAAM,KACZ,MAAAF,EACA,QAAAD,EACA,iBAAkBG,EAAM,iBACxB,sBAAuBA,EAAM,qBAC/B,EACIM,EAAQ,KAAK,QAAQ,IAAIT,CAAO,EACpC,GAAI,CAACS,EAAO,CACV,IAAMF,EAAyB,IAAI,IACnC,KAAK,QAAQ,IAAIP,EAASO,CAAM,EAChCE,EAAQF,CACV,CACAE,EAAM,IAAID,CAAY,EACtB,IAAIE,EAAY,GACZC,EAAa,GACjB,QAAW/G,KAAQuG,EAAM,OACvB,KAAK,KAAK,OAAO,CACf,KAAMvG,EAAK,KACX,KAAMA,EAAK,KACX,KAAMA,EAAK,KACX,KAAMA,EAAK,KACX,aAAA4G,CACF,CAAC,EACG5G,EAAK,KAAO,IACd8G,EAAY,IACV9G,EAAK,KAAO,KAAK,MACnB+G,EAAa,IAEjB,GAAID,GAAaC,EAAY,CAC3B,IAAMC,EAASF,EAAY,KAAK,IAAM,CAAC,KAAK,IACtCG,EAAa,CAAC,EACpB,QAAWjH,KAAQuG,EAAM,OACvBU,EAAW,KAAK,CACd,KAAMjH,EAAK,KAAOgH,EAClB,KAAMhH,EAAK,KACX,KAAMA,EAAK,KAAOgH,EAClB,KAAMhH,EAAK,IACb,CAAC,EAEH,IAAMkH,EAAkB,CACtB,OAAQ,IAAIjF,GAAuB,QAAQsE,EAAM,OAAO,EAAIS,EAAQT,EAAM,OAAO,CAAC,EAClF,OAAQU,EACR,KAAMV,EAAM,KACZ,MAAAF,EACA,QAAAD,CACF,EACMe,EAAS,KAAK,QAAQ,IAAIf,CAAO,EACnCe,GACFA,EAAO,IAAID,CAAe,EAC5B,QAAWlH,KAAQiH,EACjB,KAAK,KAAK,OAAO,CACf,KAAMjH,EAAK,KACX,KAAMA,EAAK,KACX,KAAMA,EAAK,KACX,KAAMA,EAAK,KACX,aAAckH,CAChB,CAAC,CAEL,CACF,CACA,YAAYE,EAAW,CACrB,IAAMC,EAAQD,EAAU,MAAM,GAAG,EAC7BE,EACAC,EAAW,EACXC,EAAc,EAClB,QAAWC,KAAgB,KAAK,QAAQ,KAAK,EAAG,CAC9C,IAAMC,EAAWD,EAAa,MAAM,GAAG,EACvC,GAAIC,EAAS,CAAC,IAAML,EAAM,CAAC,EAAG,CAC5BG,IACA,IAAMhB,EAAO,KAAK,KAChBhD,EAAM,CAACkE,EAAS,CAAC,EAAI,CAACL,EAAM,CAAC,EAAG,CAAC,EAAI7D,EAAM,CAACkE,EAAS,CAAC,EAAI,CAACL,EAAM,CAAC,EAAG,CAAC,CACxE,EACIb,EAAOe,IACTA,EAAWf,EACXc,EAAUG,EAEd,CACIH,GAAWE,EAAc,KAAK,iBAChC,KAAK,SAASF,CAAO,CAEzB,CACF,CACA,SAASK,EAAa,CACpB,IAAMC,EAAiB,KAAK,QAAQ,IAAID,CAAW,EACnD,GAAI,CAACC,EACH,OACF,IAAMC,EAAoB,CAAC,EAC3B,QAAWhB,KAAS,KAAK,KAAK,IAAI,EAC5Be,EAAe,IAAIf,EAAM,YAAY,GACvCgB,EAAkB,KAAKhB,CAAK,EAGhC,QAAWA,KAASgB,EAClB,KAAK,KAAK,OAAOhB,CAAK,EAExB,KAAK,QAAQ,OAAOc,CAAW,CACjC,CACA,YAAYG,EAAe,CACzB,IAAMD,EAAoB,CAAC,EAC3B,QAAWhB,KAAS,KAAK,KAAK,IAAI,EAC5BiB,IAAkBjB,EAAM,cAC1BgB,EAAkB,KAAKhB,CAAK,EAGhC,QAAWA,KAASgB,EAClB,KAAK,KAAK,OAAOhB,CAAK,EAExB,IAAM5H,EAAK,KAAK,QAAQ,IAAI6I,EAAc,OAAO,EAC7C7I,GACFA,EAAG,OAAO6I,CAAa,CAC3B,CACF,EACIC,GAAU,KAAM,CAClB,YAAYhH,EAAIiH,EAASC,EAAa9B,EAAiB+B,EAAU,CAC/D,KAAK,MAAQ,IAAIhC,GAAM,IAAM,GAAKnF,EAAIoF,CAAe,EACrD,KAAK,EAAIpF,EACT,KAAK,QAAUiH,EACf,KAAK,WAAaC,EAClB,KAAK,SAAWC,CAClB,CACA,OAAOC,EAAkB,CACvB,IAAMC,EAAQ,YAAY,IAAI,EACxBC,EAA8B,IAAI,IACxC,OAAW,CAACC,EAAGC,CAAc,IAAKJ,EAChC,QAAWK,KAAiBD,EAAgB,CAC1C,IAAM/H,EAAM,GAAGyF,GAAQuC,EAAc,SAAS,CAAC,IAAIF,CAAC,GAC/C,KAAK,MAAM,IAAI9H,CAAG,IACrB,KAAK,MAAM,UAAUA,CAAG,EACxB6H,EAAY,IAAI7H,CAAG,EAEvB,CAEF,IAAMiI,EAAoC,IAAI,IAC9C,OAAW,CAACpC,EAAOqC,CAAI,IAAK,KAAK,WAAW,QAAQ,EAAG,CAKrD,GAJIA,EAAK,UAAY,IAEjBA,EAAK,SAAW,KAAK,EAAIA,EAAK,SAE9BA,EAAK,SAAW,KAAK,EAAIA,EAAK,QAChC,SACF,IAAMC,EAASD,EAAK,YAAc,GAC5BH,EAAiBJ,EAAiB,IAAIQ,CAAM,EAClD,GAAKJ,EAEL,QAAWC,KAAiBD,EAAgB,CAC1C,IAAM/H,EAAM,GAAGyF,GAAQuC,EAAc,SAAS,CAAC,IAAIG,CAAM,GACzD,GAAI,CAACN,EAAY,IAAI7H,CAAG,EACtB,SACF,IAAMoI,EAAQJ,EAAc,KAAK,IAAIE,EAAK,SAAS,EACnD,GAAIE,IAAU,OACZ,SACF,IAAMC,EAAQD,EACVF,EAAK,MACPG,EAAM,KAAK,CAAC9I,EAAI8B,IACV6G,EAAK,KACAA,EAAK,KAAK3I,EAAG,MAAO8B,EAAE,KAAK,EAE7B,CACR,EACH,IAAMhE,EAAS,CACb,MAAO,KAAK,MACZ,KAAM,KAAK,EACX,QAAS,KAAK,QACd,MAAAwI,EACA,SAAU,KAAK,EAAImC,EAAc,UAAU,CAC7C,EACA,QAAWzK,KAAW8K,EAAO,CAC3B,GAAIH,EAAK,QAAU,CAACA,EAAK,OAAO,KAAK,EAAG3K,CAAO,EAC7C,SACF,IAAM+K,EAAcvG,GAClBxE,EAAQ,KACRyK,EAAc,MACdA,EAAc,MAChB,EACM7J,EAAS+J,EAAK,WAAW,MAAM7K,EAAQiL,EAAa/K,CAAO,EACjE,GAAKY,EAEL,QAAW4H,KAAS5H,EAAQ,CAC1B,IAAIoK,EAAc,GAClB,GAAI,EAAAxC,EAAM,kBAAoB,KAAK,MAAM,sBAAsBA,CAAK,GAGpE,IAAI,KAAK,MAAM,cAAcA,EAAO,GAAQ,GAC1C,GAAI,CAAC,KAAK,MAAM,cAAcA,EAAOF,CAAK,EAAG,CAC3C,IAAM2C,EAAY,KAAK,MAAM,YAAYzC,EAAO,GAAQ,EACxD,QAAW0C,KAAYD,EAAW,CAChC,KAAK,MAAM,YAAYC,CAAQ,EAC/B,QAAWjJ,KAAQiJ,EAAS,OAC1B,KAAK,qBACHR,EACAD,EAAc,IACdxI,EACAQ,CACF,CAEJ,CACA,KAAK,MAAM,OAAO+F,EAAOF,EAAO7F,CAAG,EACnCuI,EAAc,EAChB,OAEA,KAAK,MAAM,OAAOxC,EAAOF,EAAO7F,CAAG,EACnCuI,EAAc,GAEhB,GAAIA,EACF,QAAW/I,KAAQuG,EAAM,QACnBvG,EAAK,KAAOwI,EAAc,OAAO,EAAIA,EAAc,KAAOxI,EAAK,KAAOwI,EAAc,OAAO,GAAKxI,EAAK,KAAOwI,EAAc,OAAO,GAAKxI,EAAK,KAAOwI,EAAc,OAAO,EAAIA,EAAc,MAC3L,KAAK,qBACHC,EACAD,EAAc,IACdxI,EACAQ,CACF,EAIR,CACF,CACF,CACF,CACA,QAAWA,KAAO6H,EAChB,KAAK,MAAM,YAAY7H,CAAG,EAE5B,OAAIiI,EAAkB,KAAO,GAAK,KAAK,UACrC,KAAK,SAASA,CAAiB,EAE1B,YAAY,IAAI,EAAIL,CAC7B,CACA,qBAAqBK,EAAmBzF,EAAKhD,EAAMQ,EAAK,CACtD,IAAM0I,EAAU3D,GAAS,KAAK,EAAGvC,EAAKhD,CAAI,EAC1C,QAAWmJ,KAAMD,EACXC,EAAG,MAAQ3I,GAAO,KAAK,MAAM,UAAU2I,EAAG,GAAG,GAC/CV,EAAkB,IAAIU,EAAG,OAAO,CAGtC,CACA,IAAIhB,EAAkB,CACpB,IAAIiB,EAAY,GAChB,OAAW,CAACd,EAAGC,CAAc,IAAKJ,EAChC,QAAWK,KAAiBD,EACrB,KAAK,MAAM,IAAI,GAAGtC,GAAQuC,EAAc,SAAS,CAAC,IAAIF,CAAC,EAAE,IAC5Dc,EAAY,IAGlB,OAAIA,EACK,EAEM,KAAK,OAAOjB,CAAgB,CAE7C,CACF,EACIkB,GAAW,KAAM,CACnB,YAAYrB,EAASC,EAAa9B,EAAiB+B,EAAU,CAC3D,KAAK,SAA2B,IAAI,IACpC,KAAK,QAAUF,EACf,KAAK,WAAaC,EAClB,KAAK,gBAAkB9B,EACvB,KAAK,SAAW+B,CAClB,CACA,IAAInH,EAAIoH,EAAkB,CACxB,IAAImB,EAAU,KAAK,SAAS,IAAIvI,CAAE,EAClC,OAAIuI,IAGJA,EAAU,IAAIvB,GACZhH,EACA,KAAK,QACL,KAAK,WACL,KAAK,gBACL,KAAK,QACP,EACA,KAAK,SAAS,IAAIA,EAAIuI,CAAO,GACtBA,EAAQ,IAAInB,CAAgB,CACrC,CACA,SAASpH,EAAI,CACX,IAAMuI,EAAU,KAAK,SAAS,IAAIvI,CAAE,EACpC,GAAIuI,EACF,OAAOA,EAAQ,KACnB,CACF,EAGIC,GAAyBrH,EAAQC,GAAuB,CAAC,EAC7D,SAASqH,GAAQrK,EAAK4B,EAAIoH,EAAkBsB,EAAYC,EAAO1J,EAAMkE,EAAQyF,EAAMC,EAAO,CACxF,IAAMxB,EAAQ,YAAY,IAAI,EAC9BjJ,EAAI,KAAK,EACTA,EAAI,WAAa,EACjB,QAAWuJ,KAAQgB,EAAO,CAGxB,GAFIhB,EAAK,SAAW3H,EAAK2H,EAAK,SAE1BA,EAAK,SAAW3H,EAAK2H,EAAK,QAC5B,SACF,IAAMH,EAAiBJ,EAAiB,IAAIO,EAAK,YAAc,EAAE,EACjE,GAAKH,EAEL,QAAWC,KAAiBD,EAAgB,CAC1C,IAAMK,EAAQJ,EAAc,KAAK,IAAIE,EAAK,SAAS,EACnD,GAAIE,IAAU,OACZ,SACEF,EAAK,WAAW,QAClBA,EAAK,WAAW,OAAOvJ,EAAKqJ,EAAc,CAAC,EAC7C,IAAMqB,EAAKrB,EAAc,OACnBxF,EAAMwF,EAAc,IACpBsB,EAAKtB,EAAc,MAEzB,GADArJ,EAAI,KAAK,EACLwK,EAAM,CACRxK,EAAI,UAAU,EACd,IAAM4K,EAAO,KAAK,IAAIF,EAAG,EAAI3F,EAAO,EAAGlE,EAAK,KAAOkE,EAAO,CAAC,EACrD8F,EAAO,KAAK,IAAIH,EAAG,EAAI3F,EAAO,EAAGlE,EAAK,KAAOkE,EAAO,CAAC,EACrD+F,EAAO,KAAK,IAAIJ,EAAG,EAAI3F,EAAO,EAAIlB,EAAKhD,EAAK,KAAOkE,EAAO,CAAC,EAC3DgG,EAAO,KAAK,IAAIL,EAAG,EAAI3F,EAAO,EAAIlB,EAAKhD,EAAK,KAAOkE,EAAO,CAAC,EACjE/E,EAAI,KAAK4K,EAAMC,EAAMC,EAAOF,EAAMG,EAAOF,CAAI,EAC7C7K,EAAI,KAAK,CACX,CACAA,EAAI,UAAU0K,EAAG,EAAI3F,EAAO,EAAG2F,EAAG,EAAI3F,EAAO,CAAC,EAC9C,QAAWnG,KAAW6K,EAAO,CAC3B,IAAI9K,EAAOC,EAAQ,KACboM,EAAOpM,EAAQ,KACjBoM,EAAK,KAAOL,EAAKD,EAAG,EAAI7J,EAAK,MAAQmK,EAAK,KAAOL,EAAKD,EAAG,EAAI7J,EAAK,MAAQmK,EAAK,KAAOL,EAAKD,EAAG,EAAI7J,EAAK,MAAQmK,EAAK,KAAOL,EAAKD,EAAG,EAAI7J,EAAK,MAG5I0I,EAAK,QAAU,CAACA,EAAK,OAAOF,EAAc,EAAGzK,CAAO,IAEpD+L,IAAO,IACThM,EAAOyE,GAAczE,EAAMgM,EAAI,IAAIP,GAAuB,QAAQ,EAAG,CAAC,CAAC,GAEzEb,EAAK,WAAW,KAAKvJ,EAAKrB,EAAM0K,EAAc,EAAGzK,CAAO,EAC1D,CACAoB,EAAI,QAAQ,CACd,CACF,CAWA,GAVIwK,IACFxK,EAAI,UAAU,EACdA,EAAI,KACFa,EAAK,KAAOkE,EAAO,EACnBlE,EAAK,KAAOkE,EAAO,EACnBlE,EAAK,KAAOA,EAAK,KACjBA,EAAK,KAAOA,EAAK,IACnB,EACAb,EAAI,KAAK,GAEPsK,EAAY,CACd,IAAMW,EAAUX,EAAW,WAAWzJ,EAAM,GAAQ,EACpD,QAAWuG,KAAS6D,EAKlB,GAJAjL,EAAI,KAAK,EACTA,EAAI,UAAUoH,EAAM,OAAO,EAAIrC,EAAO,EAAGqC,EAAM,OAAO,EAAIrC,EAAO,CAAC,EAClEqC,EAAM,KAAKpH,CAAG,EACdA,EAAI,QAAQ,EACRyK,EAAO,CACTzK,EAAI,UAAY,GAChBA,EAAI,YAAcyK,EAClBzK,EAAI,UAAYyK,EAChBzK,EAAI,YAAc,EAClBA,EAAI,SACFoH,EAAM,OAAO,EAAIrC,EAAO,EAAI,EAC5BqC,EAAM,OAAO,EAAIrC,EAAO,EAAI,EAC5B,EACA,CACF,EACA,QAAWmG,KAAS9D,EAAM,OACxBpH,EAAI,WACFkL,EAAM,KAAOnG,EAAO,EACpBmG,EAAM,KAAOnG,EAAO,EACpBmG,EAAM,KAAOA,EAAM,KACnBA,EAAM,KAAOA,EAAM,IACrB,CAEJ,CAEJ,CACA,OAAAlL,EAAI,QAAQ,EACL,YAAY,IAAI,EAAIiJ,CAC7B,CAGA,IAAIkC,GAAmB,CAACC,EAAYC,EAAWC,IACtC,CACL,CACE,WAAAF,EACA,UAAAC,EACA,WAAY,IAAIzI,GAAiB,CAC/B,QAAS,GACT,KAAM0I,EACN,OAAQ,CACV,CAAC,EACD,OAAQ,CAAC1J,EAAIC,IACJA,EAAG,WAAa,CAE3B,EACA,CACE,WAAAuJ,EACA,UAAAC,EACA,WAAY,IAAIvJ,GAAe,CAC7B,QAAS,GACT,MAAAwJ,EACA,MAAO,CACT,CAAC,EACD,OAAQ,CAAC1J,EAAIC,IACJA,EAAG,WAAa,CAE3B,EACA,CACE,WAAAuJ,EACA,UAAAC,EACA,WAAY,IAAI1J,EAAkB,CAChC,QAAS,GACT,KAAM2J,EACN,OAAQA,EACR,MAAO,CACT,CAAC,EACD,OAAQ,CAAC1J,EAAIC,IACJA,EAAG,WAAa,CAE3B,CACF,EAEE0J,GAAa,CAACvC,EAAkBwC,IAAS,CAC3C,IAAIjB,EAAQ,CAAC,EACb,OAAW,CAACa,EAAYK,CAAK,IAAKzC,EAChC,QAAW0C,KAAQD,EACjB,QAAWJ,KAAaK,EAAK,KAAK,KAAK,EACjCN,IAAeI,EAAK,YAAcH,IAAcG,EAAK,YAEvDjB,EAAQA,EAAM,OACZY,GAAiBC,EAAYC,EAAW,WAAW,CACrD,GAKR,OAAAd,EAAQA,EAAM,OACZY,GAAiBK,EAAK,YAAc,GAAIA,EAAK,UAAW,KAAK,CAC/D,EACOjB,CACT,EAGIoB,GAAK,QAET,IAAIC,GAAYC,GAAK,KAAK,GAyM1B,IAAIC,GAAyBC,EAAQC,GAAuB,CAAC,EACzDC,GAASC,GACJ,IAAI,QAAQ,CAACC,EAASC,IAAW,CACtC,WAAW,IAAM,CACfD,EAAQ,CACV,EAAGD,CAAQ,CACb,CAAC,EAECG,GAAWC,GACNA,EAAQ,KACZC,IACQ,CAAE,OAAQ,YAAa,MAAOA,CAAE,GAExCC,IACQ,CAAE,OAAQ,WAAY,OAAQA,CAAM,EAE/C,EAEEC,GAAe,CAACC,EAAU,CAAC,IAAM,CACnC,MAAMC,UAAqB,EAAE,SAAU,CACrC,YAAYC,EAAW,CAAC,EAAG,CACrBA,EAAS,QAAU,CAACA,EAAS,SAC/BA,EAAS,OAAS,CAChB,CAAC,IAAK,IAAI,EACV,CAAC,GAAI,GAAG,CACV,GACEA,EAAS,aAAe,OAC1BA,EAAS,YAAc,sHACzB,MAAMA,CAAQ,EACd,IAAMC,EAAQD,EAAS,KAAOE,GAAOC,GACrC,KAAK,YAAcH,EAAS,aAAeI,GAAWH,EAAOD,EAAS,KAAK,EAC3E,KAAK,YAAcA,EAAS,aAAeK,GAAWJ,EAAOD,EAAS,MAAOA,EAAS,UAAWA,EAAS,SAAS,EACnH,KAAK,gBAAkBA,EAAS,gBAChC,KAAK,eAAiB,OACtB,KAAK,KAAOA,EAAS,KACrB,KAAK,MAAQA,EAAS,OAAS,CAAC,EAChC,KAAK,MAAQM,GAAeN,CAAQ,EACpC,KAAK,MAAQA,EAAS,MACtB,IAAMO,EAAU,SAAS,cAAc,QAAQ,EAAE,WAAW,IAAI,EAChE,KAAK,QAAUA,EACf,KAAK,mBAAsBC,GAAU,CACnC,QAAWC,KAAMD,EACf,KAAK,aAAaC,CAAE,CAExB,EACA,KAAK,SAAW,IAAIC,GAClB,KAAK,QACL,KAAK,YACL,GACA,KAAK,kBACP,EACA,KAAK,UAAY,IAAM,OAAO,iBAC9B,KAAK,UAAYV,EAAS,WAAa,EACvC,KAAK,KAAOA,EAAS,KACrB,KAAK,UAAY,KAAK,QAAQ,IAAI,CACpC,CACA,gBAAgBW,EAAYC,EAAOC,EAAWC,EAAW,CACvD,IAAMb,EAAQU,EAAaT,GAAOC,GAClC,KAAK,YAAcC,GAAWH,EAAOW,CAAK,EAC1C,KAAK,YAAcP,GAAWJ,EAAOW,EAAOC,EAAWC,CAAS,CAClE,CACA,WAAWC,EAAQC,EAASC,EAAKC,EAAO,IAAM,CAC9C,EAAG,CACD,OAAOC,GAAQ,KAAM,KAAM,WAAa,CACtC,KAAK,eAAiBJ,EAAO,EAC7B,IAAMK,EAAW,CAAC,EAClB,OAAW,CAACC,EAAG1B,CAAC,IAAK,KAAK,MAAO,CAC/B,IAAMD,EAAUC,EAAE,eAAeoB,CAAM,EACvCK,EAAS,KAAK,CAAE,IAAKC,EAAG,QAAA3B,CAAQ,CAAC,CACnC,CACA,IAAM4B,EAAiB,MAAM,QAAQ,IACnCF,EAAS,IAAKG,GACLA,EAAG,QAAQ,KACf5B,IACQ,CAAE,OAAQ,YAAa,MAAOA,EAAG,IAAK4B,EAAG,GAAI,GAErD3B,IACQ,CAAE,OAAQ,WAAY,OAAQA,EAAO,IAAK2B,EAAG,GAAI,EAE5D,CACD,CACH,EACMC,EAAmC,IAAI,IAC7C,QAAWC,KAAiBH,EACtBG,EAAc,SAAW,YAC3BD,EAAiB,IAAIC,EAAc,IAAK,CAACA,EAAc,KAAK,CAAC,EAEzDA,EAAc,OAAO,OAAS,cAEhC,QAAQ,MAAMA,EAAc,MAAM,EAWxC,GAPIT,EAAQ,MAAQC,GAEhB,KAAK,iBAAmBF,EAAO,IAEnC,MAAM,QAAQ,IAAI,KAAK,MAAM,IAAItB,EAAO,CAAC,EACrCuB,EAAQ,MAAQC,IAEhB,KAAK,iBAAmBF,EAAO,EACjC,OACF,IAAMW,EAAc,KAAK,SAAS,IAAIX,EAAO,EAAGS,CAAgB,EAGhE,GAFIR,EAAQ,MAAQC,GAEhB,KAAK,iBAAmBF,EAAO,EACjC,OACF,IAAMY,EAAa,KAAK,SAAS,SAASZ,EAAO,CAAC,EAClD,GAAI,CAAC,KAAK,KACR,OACF,IAAMa,EAAS,KAAK,KAAK,UAAU,EAAE,KAAK,EACpCC,EAAc,KAAK,qBAAqBD,CAAM,EAE9CE,EADY,KAAK,qBAAqBD,CAAW,EAC1B,UAAU,EACjCE,EAAWhB,EAAO,WAAWe,CAAU,EAAI,KAAK,UAItD,GAHA,MAAMzC,GAAM0C,CAAQ,EAChBf,EAAQ,MAAQC,GAEhB,KAAK,iBAAmBF,EAAO,EACjC,OACF,IAAMiB,EAAM,GACNC,EAAO,CACX,KAAM,IAAMlB,EAAO,EAAIiB,EACvB,KAAM,IAAMjB,EAAO,EAAIiB,EACvB,KAAM,KAAOjB,EAAO,EAAI,GAAKiB,EAC7B,KAAM,KAAOjB,EAAO,EAAI,GAAKiB,CAC/B,EACME,EAAS,IAAIhD,GAAuB,QAAQ,IAAM6B,EAAO,EAAG,IAAMA,EAAO,CAAC,EAChFC,EAAQ,MAAQ,KAAK,UACrBA,EAAQ,OAAS,KAAK,UACtB,IAAMmB,EAAMnB,EAAQ,WAAW,IAAI,EACnCmB,EAAI,aAAa,KAAK,UAAY,IAAK,EAAG,EAAG,KAAK,UAAY,IAAK,EAAG,CAAC,EACvEA,EAAI,UAAU,EAAG,EAAG,IAAK,GAAG,EACxB,KAAK,kBACPA,EAAI,KAAK,EACTA,EAAI,UAAY,KAAK,gBACrBA,EAAI,SAAS,EAAG,EAAG,IAAK,GAAG,EAC3BA,EAAI,QAAQ,GAEd,IAAIC,EAAgB,EAChBC,EAAc,KAAK,YAevB,GAdI,KAAK,OACPA,EAAcC,GAAWd,EAAkB,KAAK,IAAI,GAEtDY,EAAgBG,GACdJ,EACApB,EAAO,EACPS,EACA,KAAK,KAAO,KAAOG,EACnBU,EACAJ,EACAC,EACA,GACA,KAAK,KACP,EACI,KAAK,MAAO,CACdC,EAAI,KAAK,EACTA,EAAI,UAAY,KAAK,MACrBA,EAAI,KAAO,sBACXA,EAAI,SAAS,GAAGpB,EAAO,CAAC,IAAIA,EAAO,CAAC,IAAIA,EAAO,CAAC,GAAI,EAAG,EAAE,EACzDoB,EAAI,KAAO,kBACX,IAAIK,EAAO,GACX,OAAW,CAACnB,EAAG1B,CAAC,IAAK6B,EAAkB,CACrC,IAAMiB,EAAK9C,EAAE,CAAC,EAAE,UAChBwC,EAAI,SAAS,GAAGd,GAAKA,EAAI,IAAM,IAAMoB,EAAG,CAAC,IAAIA,EAAG,CAAC,IAAIA,EAAG,CAAC,GAAI,EAAGD,CAAI,EACpEA,GAAQ,EACV,CACAL,EAAI,KAAO,sBACPC,EAAgB,IAClBD,EAAI,SAAS,GAAGC,EAAc,QAAQ,CAAC,YAAa,EAAGI,CAAI,EAC3DA,GAAQ,IAENd,EAAc,GAChBS,EAAI,SAAS,GAAGT,EAAY,QAAQ,CAAC,aAAc,EAAGc,CAAI,EAE5DL,EAAI,YAAc,KAAK,MACvBA,EAAI,UAAY,GAChBA,EAAI,UAAU,EACdA,EAAI,OAAO,EAAG,CAAC,EACfA,EAAI,OAAO,EAAG,GAAG,EACjBA,EAAI,OAAO,EACXA,EAAI,UAAY,GAChBA,EAAI,UAAU,EACdA,EAAI,OAAO,EAAG,CAAC,EACfA,EAAI,OAAO,IAAK,CAAC,EACjBA,EAAI,OAAO,EACXA,EAAI,QAAQ,CACd,CACAjB,EAAK,CACP,CAAC,CACH,CACA,aAAaD,EAAK,CAChB,QAAWyB,KAAe,KAAK,OAAQ,CACrC,IAAMC,EAAgB,KAAK,YACzB,KAAK,iBAAiBD,CAAW,CACnC,EACIzB,IAAQ,KAAK,iBAAiB0B,CAAa,GAC7C,KAAK,WAAWA,EAAe,KAAK,OAAOD,CAAW,EAAE,GAAIzB,CAAG,CAEnE,CACF,CACA,aAAc,CACZ,KAAK,SAAW,IAAIP,GAClB,KAAK,QACL,KAAK,YACL,GACA,KAAK,kBACP,CACF,CACA,eAAgB,CACd,QAAWgC,KAAe,KAAK,OAAQ,CACrC,IAAMC,EAAgB,KAAK,YACzB,KAAK,iBAAiBD,CAAW,CACnC,EACMzB,EAAM,KAAK,iBAAiB0B,CAAa,EAC/C,KAAK,WAAWA,EAAe,KAAK,OAAOD,CAAW,EAAE,GAAIzB,CAAG,CACjE,CACF,CACA,WAAWF,EAAQ6B,EAAU,CAC3B,IAAM5B,EAAU,EAAE,QAAQ,OAAO,SAAU,cAAc,EACzDA,EAAQ,KAAO,KAAK,KACpB,IAAMC,EAAM,KAAK,iBAAiBF,CAAM,EACxC,OAAAC,EAAQ,IAAMC,EACd,KAAK,WAAWF,EAAQC,EAASC,EAAK,IAAM,CAC1C2B,EAAS,KAAM5B,CAAO,CACxB,CAAC,EACMA,CACT,CACA,YAAYC,EAAK,CACf,IAAM4B,EAAO,KAAK,OAAO5B,CAAG,EACvB4B,IAGLA,EAAK,GAAG,QAAU,GAClBA,EAAK,GAAG,IAAM,OACd,EAAE,QAAQ,YAAYA,EAAK,GAAI,qBAAqB,EACpDA,EAAK,GAAG,MAAQA,EAAK,GAAG,OAAS,EACjC,EAAE,QAAQ,OAAOA,EAAK,EAAE,EACxB,OAAO,KAAK,OAAO5B,CAAG,EACtB,KAAK,KAAK,aAAc,CACtB,KAAM4B,EAAK,GACX,OAAQ,KAAK,iBAAiB5B,CAAG,CACnC,CAAC,EACH,CACA,cAAc6B,EAAKC,EAAK,CACtB,IAAMC,EAAuC,IAAI,IACjD,OAAW,CAACC,EAAYC,CAAI,IAAK,KAAK,MACpCF,EAAqB,IACnBC,EACAC,EAAK,cAAcJ,EAAKC,EAAK,KAAK,KAAK,QAAQ,CAAC,CAClD,EAEF,OAAOC,CACT,CACA,QAAQG,EAAO,CACb,OAAQC,GAAO,CACb,IAAMC,EAAa,CAAC,SAAU,SAAU,QAAQ,EAC1CC,EAAUH,EAAM,KAAK,WAAWC,EAAG,MAAM,EACzCG,EAAsBJ,EAAM,cAChCG,EAAQ,IACRA,EAAQ,GACV,EACIE,EAAU,GACVC,EAAW,GACf,OAAW,CAACR,EAAYS,CAAO,IAAKH,EAClC,QAAWI,KAAUD,EACnB,GAAI,OAAK,MAAQ,KAAK,OAAS,IACzB,GAAG,KAAK,KAAK,YAAc,MAAQT,GAAc,KAAK,KAAK,YAAcU,EAAO,YAItF,CAAAH,EAAU,GAAGA,CAAO,0BAA0BC,EAAW,EAAI,EAAG,OAAOJ,EAAWM,EAAO,QAAQ,SAAW,CAAC,CAAC,OAAOV,CAAU,IAAIA,EAAa,IAAM,EAAE,IAAIU,EAAO,SAAS,QAAQA,EAAO,QAAQ,IAAM,EAAE,SAC3M,QAAWC,KAAQD,EAAO,QAAQ,MAChCH,EAAU,GAAGA,CAAO,gCAAgCI,CAAI,MAAMD,EAAO,QAAQ,MAAMC,CAAI,CAAC,SAE1FH,EAAW,GAGXA,IACFD,EAAU,gBAEZ,EAAE,MAAM,EAAE,UAAUJ,EAAG,MAAM,EAAE,WAC7B,qEAAqEI,CAAO,QAC9E,EAAE,OAAOL,EAAM,IAAI,CACrB,CACF,CACA,aAAaU,EAAK,CAChB,OAAOA,EAAI,GAAG,QAAS,KAAK,SAAS,CACvC,CACA,gBAAgBA,EAAK,CACnB,OAAOA,EAAI,IAAI,QAAS,KAAK,SAAS,CACxC,CACF,CACA,OAAO,IAAI9D,EAAaD,CAAO,CACjC,ECzjMA,SAASgE,GAAcC,EAAOC,EAAO,CACjC,OAAQA,EAAO,CACX,IAAK,OACDD,EAAM,gBAAgB,EAAI,EAC1B,MACJ,IAAK,YACL,IAAK,QACDA,EAAM,gBAAgB,GAAO,OAAO,EACpC,MACJ,IAAK,QACDA,EAAM,gBAAgB,GAAM,OAAO,EACnC,MACJ,QACIA,EAAM,gBAAgB,EACtB,KACR,CACAA,EAAM,YAAY,EAClBA,EAAM,cAAc,CACxB,CAEA,eAAeE,IAAa,CACxB,IAAMC,EAAU,MAAMC,GAAW,EAC3BC,EAAe,CACjB,IAAKF,EAAQ,QAAQ,QAAQ,IAC7B,YAAaA,EAAQ,QAAQ,QAAQ,WAEzC,EACAG,GAAK,CAAE,cAAeC,GAAc,aAAAF,EAAc,QAAAF,EAAS,cAAAJ,EAAc,CAAC,CAC9E,CAEAG,GAAW",
  "names": ["__create", "__defProp", "__getOwnPropDesc", "__getOwnPropNames", "__getOwnPropSymbols", "__getProtoOf", "__hasOwnProp", "__propIsEnum", "__pow", "__defNormalProp", "obj", "key", "value", "__spreadValues", "a2", "b", "prop", "__commonJS", "cb", "mod", "__copyProps", "to", "from", "except", "desc", "__toESM", "isNodeMode", "target", "__async", "__this", "__arguments", "generator", "resolve", "reject", "fulfilled", "step2", "e2", "rejected", "x2", "require_point_geometry", "exports", "module", "Point9", "y", "p2", "k", "m", "other", "dx", "dy", "angle", "cos", "sin", "require_unitbezier", "UnitBezier2", "p1x", "p1y", "p2x", "p2y", "t2", "epsilon", "t0", "t1", "x22", "i3", "d2", "require_tinyqueue", "global", "factory", "TinyQueue", "data", "compare2", "defaultCompare", "item", "top", "bottom", "pos", "ref", "parent", "current", "halfLength", "left", "best", "right", "require_polylabel", "Queue", "polylabel2", "polygon", "precision", "debug", "minX", "minY", "maxX", "maxY", "width", "height", "cellSize", "h", "degeneratePoleOfInaccessibility", "cellQueue", "compareMax", "Cell", "bestCell", "getCentroidCell", "bboxCell", "numProbes", "cell", "poleOfInaccessibility", "pointToPolygonDist", "inside", "minDistSq", "ring", "len", "j", "getSegDistSq", "area", "points", "f2", "px", "py", "require_vectortilefeature", "VectorTileFeature", "pbf", "end", "extent", "keys", "values", "readFeature", "tag", "feature", "readTag", "cmd", "length", "lines", "line", "cmdLen", "x1", "y1", "y2", "z2", "size", "x0", "y0", "coords", "type", "project3", "j2", "classifyRings", "result", "rings", "polygons", "ccw", "signedArea", "sum", "p1", "require_vectortilelayer", "VectorTileLayer", "readLayer", "layer", "readValueMessage", "require_vectortile", "VectorTile2", "readTile", "layers", "require_vector_tile", "require_ieee754", "buffer", "offset", "isLE", "mLen", "nBytes", "eLen", "eMax", "eBias", "nBits", "d", "s2", "c2", "rt", "require_pbf", "Pbf", "ieee754", "buf", "SHIFT_LEFT_32", "SHIFT_RIGHT_32", "TEXT_DECODER_MIN_LENGTH", "utf8TextDecoder", "readField", "val", "startPos", "readUInt32", "readInt32", "isSigned", "readVarintRemainder2", "num", "readUtf8TextDecoder", "readUtf8", "arr2", "readPackedEnd", "min", "writeInt32", "writeBigVarint", "str", "writeUtf8", "makeRoomForExtraLength", "fn", "writePackedVarint", "writePackedSVarint", "writePackedBoolean", "writePackedFloat", "writePackedDouble", "writePackedFixed32", "writePackedSFixed32", "writePackedFixed64", "writePackedSFixed64", "l2", "toNum2", "low", "high", "writeBigVarintLow", "writeBigVarintHigh", "lsb", "extraLen", "b0", "bytesPerSequence", "b1", "b2", "b3", "lead", "require_rbush_min", "t3", "r3", "e3", "a3", "h2", "t4", "n3", "r4", "e4", "a4", "h3", "o3", "s3", "l3", "f3", "u3", "m2", "c3", "p3", "n2", "i4", "r2", "o2", "u2", "v", "M", "import_point_geometry7", "dark", "light", "t", "n", "r", "u", "o", "s", "_", "i", "a", "c", "_2", "l", "e", "f", "p", "z", "import_point_geometry3", "import_unitbezier", "import_polylabel", "StringAttr", "defaultValue", "NumberAttr", "TextAttr", "options", "_a2", "retval", "label_props", "property", "transform", "word", "FontAttr", "_b2", "style", "weight", "family", "ArrayAttr", "import_point_geometry", "linelabel", "pts", "max_angle_delta", "targetLen", "chunks", "abmag", "bcmag", "abx", "aby", "bcx", "bcy", "dt", "i_start", "d_start", "simpleLabel", "mls", "minimum", "repeatDistance", "candidates", "ls", "segments", "segment", "start", "normalized", "lineCells", "spacing", "dist", "factor", "linebreak", "maxUnits", "endIndex", "space_before", "space_after", "first", "after", "CJK_CHARS", "cjk_test", "import_point_geometry2", "import_vector_tile", "import_pbf", "__async2", "u8", "u16", "u32", "fleb", "fdeb", "clim", "freb", "eb", "_a", "fl", "revfl", "_b", "fd", "revfd", "rev", "i2", "x", "hMap", "cd", "mb", "le", "co", "rvb", "sv", "r_1", "flt", "fdt", "flrm", "fdrm", "max", "bits", "bits16", "shft", "slc", "ec", "err", "ind", "msg", "nt", "inflt", "dat", "st", "sl", "noBuf", "noSt", "cbuf", "l22", "bl", "nbuf", "final", "bt", "lm", "dm", "lbt", "dbt", "tbts", "hLit", "hcLen", "tl", "ldt", "clt", "clb", "clbmsk", "clm", "lt", "lms", "dms", "lpos", "sym", "add", "dsym", "et", "gzs", "flg", "zs", "gzl", "zlv", "inflateSync", "out", "gunzipSync", "unzlibSync", "decompressSync", "td", "tds", "shift", "shift2", "unshift", "getUint24", "view", "getUint48", "compare", "tz", "tx", "ty", "queryLeafdir", "offset_len", "queryView", "queryTile", "cmp", "entrySort", "parseEntry", "dataview", "z_raw", "sortDir", "entries", "createDirectory", "entry", "deriveLeaf", "tile", "numEntries", "leaf_level", "level_diff", "leaf_x", "leaf_y", "getHeader", "source", "resp", "json_size", "root_entries", "dec", "json_metadata", "tile_compression", "minzoom", "maxzoom", "center_lon", "center_lat", "center_zoom", "min_lon", "min_lat", "max_lon", "max_lat", "split", "getZxy", "header", "cache", "signal", "root_dir", "tile_data", "leafcoords", "leafdir_entry", "leaf_dir", "tile_entry", "v2_default", "toNum", "readVarintRemainder", "readVarint", "rotate", "xy", "rx", "ry", "zxyToTileId", "acc", "fflateDecompress", "compression", "HEADER_SIZE_BYTES", "findTile", "tileId", "FetchSource", "url", "controller", "content_range", "actual_length", "content_length", "getUint64", "wh", "wl", "bytesToHeader", "bytes", "etag", "spec_version", "deserializeIndex", "lastId", "detectVersion", "EtagMismatch", "getHeaderAndRoot", "decompress", "prefetch", "current_etag", "headerData", "resp_etag", "rootDirData", "dirKey", "rootDir", "getDirectory", "directory", "SharedPromiseCache", "maxCacheEntries", "cacheKey", "res", "minUsed", "minKey", "cache_value", "PMTiles", "tile_id", "d_o", "d_l", "depth", "decompressed", "toIndex", "c2", "loadGeomAndBbox", "pbf", "geometry", "scale", "end", "cmd", "length", "x2", "y", "x1", "x22", "y1", "y2", "lines", "line", "cmdLen", "import_point_geometry2", "parseTile", "buffer", "tileSize", "v", "import_vector_tile", "import_pbf", "result", "key", "value", "features", "layer", "i3", "loaded", "numVertices", "part", "PmtilesSource", "url", "shouldCancelZooms", "PMTiles", "__async", "za", "controller", "signal", "ZxySource", "resolve", "reject", "resp", "e2", "R", "MAX_LATITUDE", "MAXCOORD", "project", "latlng", "d", "constrained_lat", "sin", "sqr", "dist2", "w", "distToSegmentSquared", "p2", "l2", "t2", "isInRing", "point", "ring", "inside", "j", "xi", "yi", "xj", "yj", "isCCW", "area", "pointInPolygon", "geom", "isInCurrentExterior", "pointMinDistToPoints", "min", "dist", "pointMinDistToLines", "TileCache", "source", "lng", "lat", "zoom", "brushSize", "projected", "normalized", "on_zoom", "tile_x", "tile_y", "idx", "retval", "entry", "center", "layer_name", "layer_arr", "feature", "ifentry", "tile", "ifentry2", "f2", "min_used", "min_key", "MAX_VERTICES_PER_DRAW_CALL", "PolygonSymbolizer", "options", "_a2", "StringAttr", "NumberAttr", "ctx", "z2", "width", "patten", "geom", "f2", "do_stroke", "drawPath", "vertices_in_path", "poly", "MAX_VERTICES_PER_DRAW_CALL", "p2", "pt", "getStopIndex", "input", "stops", "idx", "interpolate", "factor", "start", "end", "computeInterpolationFactor", "z2", "base", "difference", "progress", "__pow", "exp", "LineSymbolizer", "options", "_a2", "StringAttr", "NumberAttr", "ArrayAttr", "ctx", "z2", "geom", "f2", "strokePath", "vertices_in_path", "ls", "MAX_VERTICES_PER_DRAW_CALL", "p2", "pt", "CircleSymbolizer", "options", "NumberAttr", "StringAttr", "ctx", "geom", "z2", "f2", "radius", "width", "layout", "feature", "pt", "a2", "import_point_geometry3", "bbox", "ShieldSymbolizer", "FontAttr", "TextAttr", "property", "font", "metrics", "ascent", "descent", "p2", "FlexSymbolizer", "list", "labels", "label", "anchor", "height", "draws", "newGeom", "i3", "mergeBbox", "sub", "b1", "b2", "GroupSymbolizer", "first", "CenteredSymbolizer", "symbolizer", "placed", "first_label", "centered", "TextSymbolizer", "options", "FontAttr", "TextAttr", "StringAttr", "NumberAttr", "layout", "geom", "feature", "property", "font", "letterSpacing", "lines", "linebreak", "longestLine", "longestLineLen", "line", "metrics", "width", "ascent", "descent", "lineHeight", "a2", "import_point_geometry3", "bbox", "ctx", "extra", "textStrokeWidth", "startX", "xPos", "letter", "CenteredTextSymbolizer", "CenteredSymbolizer", "OffsetSymbolizer", "symbolizer", "_a2", "_b2", "_c", "anchor", "placed", "first_label", "fb", "offsetXValue", "offsetYValue", "justifyValue", "placements", "ddOffsetX", "ddOffsetY", "ddJustify", "ddPlacements", "offsetX", "offsetY", "getBbox", "o2", "origin", "justify", "draw", "placeLabelInPoint", "placement", "xAxisOffset", "yAxisOffset", "labelWidth", "labelHalfWidth", "labelHalfHeight", "labelBottom", "labelCenterHeight", "fixedJustify", "OffsetTextSymbolizer", "LineLabelSymbolizer", "options", "_a2", "FontAttr", "TextAttr", "StringAttr", "NumberAttr", "layout", "geom", "feature", "name", "MIN_LABELABLE_DIM", "fbbox", "font", "metrics", "width", "height", "repeatDistance", "cell_size", "label_candidates", "simpleLabel", "labels", "candidate", "dx", "dy", "bboxes", "lineCells", "c2", "draw", "ctx", "heightPlacement", "lineWidth", "PolygonLabelSymbolizer", "TextSymbolizer", "placed", "import_point_geometry3", "first_label", "fb", "first_poly", "found", "import_polylabel", "a2", "bbox", "doShading", "params", "shade", "shadeHsl", "p", "outParams", "__spreadValues", "key", "value", "o2", "z", "paintRules", "originalParams", "PolygonSymbolizer", "z2", "f2", "LineSymbolizer", "exp", "labelRules", "language1", "language2", "nametags", "languageStack", "symbolizer", "fill", "OffsetTextSymbolizer", "FlexSymbolizer", "CenteredTextSymbolizer", "b", "GroupSymbolizer", "CircleSymbolizer", "ShieldSymbolizer", "import_point_geometry5", "__toESM", "require_point_geometry", "import_rbush", "require_rbush_min", "import_point_geometry4", "transformGeom", "scale", "translate", "retval", "arr2", "loop", "coord", "wrap", "val", "dim", "View", "tileCache", "maxDataLevel", "levelDiff", "display_zoom", "bounds", "fractional", "__pow", "needed", "basetile_size", "data_zoom", "mintile_x", "mintile_y", "maxtile_x", "maxtile_y", "tx", "ty", "origin", "display_tile", "data_tile", "__async", "tt", "data", "i3", "lng", "lat", "rounded_zoom", "brush_size", "sourcesToViews", "sourceToViews", "level_diff", "maxDataZoom", "source", "PmtilesSource", "ZxySource", "cache", "TileCache", "sources", "covering", "tile_width", "minx", "miny", "maxx", "maxy", "leveldiff", "x2", "wrapped_x", "y", "toIndex", "Index", "maxLabeledTiles", "tileKey", "order", "match", "label", "dist", "test_bbox", "collision", "newSet", "indexedLabel", "entry", "wrapsLeft", "wrapsRight", "shift2", "new_bboxes", "duplicate_label", "entry2", "key_added", "added", "max_key", "max_dist", "keys_for_ds", "existing_key", "existing", "keyToRemove", "indexed_labels", "entries_to_delete", "labelToRemove", "Labeler", "scratch", "labelRules2", "callback", "prepared_tilemap", "start", "keys_adding", "k", "prepared_tiles", "prepared_tile", "tiles_invalidated", "rule", "dsName", "layer", "feats", "transformed", "label_added", "conflicts", "conflict", "touched", "s2", "all_added", "Labelers", "labeler", "import_point_geometry6", "painter", "label_data", "rules", "clip", "debug", "po", "ps", "minX", "minY", "maxX", "maxY", "fbox", "matches", "bbox2", "xray_symbolizers", "dataSource", "dataLayer", "color", "xray_rules", "xray", "tiles", "tile", "R2", "MAXCOORD2", "R2", "import_point_geometry8", "__toESM", "require_point_geometry", "timer", "duration", "resolve", "reject", "reflect", "promise", "v", "error", "leafletLayer", "options", "LeafletLayer", "options2", "theme", "dark", "light", "paintRules", "labelRules", "sourcesToViews", "scratch", "tiles", "t2", "Labelers", "darkOption", "shade", "language1", "language2", "coords", "element", "key", "done", "__async", "promises", "k", "tile_responses", "o2", "prepared_tilemap", "tile_response", "layout_time", "label_data", "center", "pixelBounds", "tileCenter", "priority", "BUF", "bbox", "origin", "ctx", "painting_time", "paint_rules", "xray_rules", "painter", "ypos", "dt", "unwrapped_k", "wrapped_coord", "showTile", "tile", "lng", "lat", "featuresBySourceName", "sourceName", "view", "layer", "ev", "typeGlyphs", "wrapped", "resultsBySourceName", "content", "firstRow", "results", "result", "prop", "map", "setLayerStyle", "layer", "style", "setOptions", "options", "getOptions", "layerOptions", "init", "leafletLayer"]
}
