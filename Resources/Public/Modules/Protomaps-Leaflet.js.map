{
  "version": 3,
  "sources": ["../../../node_modules/.pnpm/protomaps-leaflet@1.24.0/node_modules/protomaps-leaflet/dist/protomaps-leaflet.module.js", "../../Private/Assets/Protomaps-Leaflet.js"],
  "sourcesContent": ["var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a2, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a2, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a2, prop, b[prop]);\n    }\n  return a2;\n};\nvar __markAsModule = (target) => __defProp(target, \"__esModule\", { value: true });\nvar __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[Object.keys(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __reExport = (target, module, desc) => {\n  if (module && typeof module === \"object\" || typeof module === \"function\") {\n    for (let key of __getOwnPropNames(module))\n      if (!__hasOwnProp.call(target, key) && key !== \"default\")\n        __defProp(target, key, { get: () => module[key], enumerable: !(desc = __getOwnPropDesc(module, key)) || desc.enumerable });\n  }\n  return target;\n};\nvar __toModule = (module) => {\n  return __reExport(__markAsModule(__defProp(module != null ? __create(__getProtoOf(module)) : {}, \"default\", module && module.__esModule && \"default\" in module ? { get: () => module.default, enumerable: true } : { value: module, enumerable: true })), module);\n};\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step2(generator.next(value));\n      } catch (e2) {\n        reject(e2);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step2(generator.throw(value));\n      } catch (e2) {\n        reject(e2);\n      }\n    };\n    var step2 = (x2) => x2.done ? resolve(x2.value) : Promise.resolve(x2.value).then(fulfilled, rejected);\n    step2((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n// node_modules/@mapbox/point-geometry/index.js\nvar require_point_geometry = __commonJS({\n  \"node_modules/@mapbox/point-geometry/index.js\"(exports, module) {\n    \"use strict\";\n    module.exports = Point9;\n    function Point9(x2, y) {\n      this.x = x2;\n      this.y = y;\n    }\n    Point9.prototype = {\n      clone: function() {\n        return new Point9(this.x, this.y);\n      },\n      add: function(p2) {\n        return this.clone()._add(p2);\n      },\n      sub: function(p2) {\n        return this.clone()._sub(p2);\n      },\n      multByPoint: function(p2) {\n        return this.clone()._multByPoint(p2);\n      },\n      divByPoint: function(p2) {\n        return this.clone()._divByPoint(p2);\n      },\n      mult: function(k) {\n        return this.clone()._mult(k);\n      },\n      div: function(k) {\n        return this.clone()._div(k);\n      },\n      rotate: function(a2) {\n        return this.clone()._rotate(a2);\n      },\n      rotateAround: function(a2, p2) {\n        return this.clone()._rotateAround(a2, p2);\n      },\n      matMult: function(m) {\n        return this.clone()._matMult(m);\n      },\n      unit: function() {\n        return this.clone()._unit();\n      },\n      perp: function() {\n        return this.clone()._perp();\n      },\n      round: function() {\n        return this.clone()._round();\n      },\n      mag: function() {\n        return Math.sqrt(this.x * this.x + this.y * this.y);\n      },\n      equals: function(other) {\n        return this.x === other.x && this.y === other.y;\n      },\n      dist: function(p2) {\n        return Math.sqrt(this.distSqr(p2));\n      },\n      distSqr: function(p2) {\n        var dx = p2.x - this.x, dy = p2.y - this.y;\n        return dx * dx + dy * dy;\n      },\n      angle: function() {\n        return Math.atan2(this.y, this.x);\n      },\n      angleTo: function(b) {\n        return Math.atan2(this.y - b.y, this.x - b.x);\n      },\n      angleWith: function(b) {\n        return this.angleWithSep(b.x, b.y);\n      },\n      angleWithSep: function(x2, y) {\n        return Math.atan2(this.x * y - this.y * x2, this.x * x2 + this.y * y);\n      },\n      _matMult: function(m) {\n        var x2 = m[0] * this.x + m[1] * this.y, y = m[2] * this.x + m[3] * this.y;\n        this.x = x2;\n        this.y = y;\n        return this;\n      },\n      _add: function(p2) {\n        this.x += p2.x;\n        this.y += p2.y;\n        return this;\n      },\n      _sub: function(p2) {\n        this.x -= p2.x;\n        this.y -= p2.y;\n        return this;\n      },\n      _mult: function(k) {\n        this.x *= k;\n        this.y *= k;\n        return this;\n      },\n      _div: function(k) {\n        this.x /= k;\n        this.y /= k;\n        return this;\n      },\n      _multByPoint: function(p2) {\n        this.x *= p2.x;\n        this.y *= p2.y;\n        return this;\n      },\n      _divByPoint: function(p2) {\n        this.x /= p2.x;\n        this.y /= p2.y;\n        return this;\n      },\n      _unit: function() {\n        this._div(this.mag());\n        return this;\n      },\n      _perp: function() {\n        var y = this.y;\n        this.y = this.x;\n        this.x = -y;\n        return this;\n      },\n      _rotate: function(angle) {\n        var cos = Math.cos(angle), sin = Math.sin(angle), x2 = cos * this.x - sin * this.y, y = sin * this.x + cos * this.y;\n        this.x = x2;\n        this.y = y;\n        return this;\n      },\n      _rotateAround: function(angle, p2) {\n        var cos = Math.cos(angle), sin = Math.sin(angle), x2 = p2.x + cos * (this.x - p2.x) - sin * (this.y - p2.y), y = p2.y + sin * (this.x - p2.x) + cos * (this.y - p2.y);\n        this.x = x2;\n        this.y = y;\n        return this;\n      },\n      _round: function() {\n        this.x = Math.round(this.x);\n        this.y = Math.round(this.y);\n        return this;\n      }\n    };\n    Point9.convert = function(a2) {\n      if (a2 instanceof Point9) {\n        return a2;\n      }\n      if (Array.isArray(a2)) {\n        return new Point9(a2[0], a2[1]);\n      }\n      return a2;\n    };\n  }\n});\n\n// node_modules/@mapbox/vector-tile/lib/vectortilefeature.js\nvar require_vectortilefeature = __commonJS({\n  \"node_modules/@mapbox/vector-tile/lib/vectortilefeature.js\"(exports, module) {\n    \"use strict\";\n    var Point9 = require_point_geometry();\n    module.exports = VectorTileFeature;\n    function VectorTileFeature(pbf, end, extent, keys, values) {\n      this.properties = {};\n      this.extent = extent;\n      this.type = 0;\n      this._pbf = pbf;\n      this._geometry = -1;\n      this._keys = keys;\n      this._values = values;\n      pbf.readFields(readFeature, this, end);\n    }\n    function readFeature(tag, feature, pbf) {\n      if (tag == 1)\n        feature.id = pbf.readVarint();\n      else if (tag == 2)\n        readTag(pbf, feature);\n      else if (tag == 3)\n        feature.type = pbf.readVarint();\n      else if (tag == 4)\n        feature._geometry = pbf.pos;\n    }\n    function readTag(pbf, feature) {\n      var end = pbf.readVarint() + pbf.pos;\n      while (pbf.pos < end) {\n        var key = feature._keys[pbf.readVarint()], value = feature._values[pbf.readVarint()];\n        feature.properties[key] = value;\n      }\n    }\n    VectorTileFeature.types = [\"Unknown\", \"Point\", \"LineString\", \"Polygon\"];\n    VectorTileFeature.prototype.loadGeometry = function() {\n      var pbf = this._pbf;\n      pbf.pos = this._geometry;\n      var end = pbf.readVarint() + pbf.pos, cmd = 1, length = 0, x2 = 0, y = 0, lines = [], line;\n      while (pbf.pos < end) {\n        if (length <= 0) {\n          var cmdLen = pbf.readVarint();\n          cmd = cmdLen & 7;\n          length = cmdLen >> 3;\n        }\n        length--;\n        if (cmd === 1 || cmd === 2) {\n          x2 += pbf.readSVarint();\n          y += pbf.readSVarint();\n          if (cmd === 1) {\n            if (line)\n              lines.push(line);\n            line = [];\n          }\n          line.push(new Point9(x2, y));\n        } else if (cmd === 7) {\n          if (line) {\n            line.push(line[0].clone());\n          }\n        } else {\n          throw new Error(\"unknown command \" + cmd);\n        }\n      }\n      if (line)\n        lines.push(line);\n      return lines;\n    };\n    VectorTileFeature.prototype.bbox = function() {\n      var pbf = this._pbf;\n      pbf.pos = this._geometry;\n      var end = pbf.readVarint() + pbf.pos, cmd = 1, length = 0, x2 = 0, y = 0, x1 = Infinity, x22 = -Infinity, y1 = Infinity, y2 = -Infinity;\n      while (pbf.pos < end) {\n        if (length <= 0) {\n          var cmdLen = pbf.readVarint();\n          cmd = cmdLen & 7;\n          length = cmdLen >> 3;\n        }\n        length--;\n        if (cmd === 1 || cmd === 2) {\n          x2 += pbf.readSVarint();\n          y += pbf.readSVarint();\n          if (x2 < x1)\n            x1 = x2;\n          if (x2 > x22)\n            x22 = x2;\n          if (y < y1)\n            y1 = y;\n          if (y > y2)\n            y2 = y;\n        } else if (cmd !== 7) {\n          throw new Error(\"unknown command \" + cmd);\n        }\n      }\n      return [x1, y1, x22, y2];\n    };\n    VectorTileFeature.prototype.toGeoJSON = function(x2, y, z2) {\n      var size = this.extent * Math.pow(2, z2), x0 = this.extent * x2, y0 = this.extent * y, coords = this.loadGeometry(), type = VectorTileFeature.types[this.type], i3, j;\n      function project3(line) {\n        for (var j2 = 0; j2 < line.length; j2++) {\n          var p2 = line[j2], y2 = 180 - (p2.y + y0) * 360 / size;\n          line[j2] = [\n            (p2.x + x0) * 360 / size - 180,\n            360 / Math.PI * Math.atan(Math.exp(y2 * Math.PI / 180)) - 90\n          ];\n        }\n      }\n      switch (this.type) {\n        case 1:\n          var points = [];\n          for (i3 = 0; i3 < coords.length; i3++) {\n            points[i3] = coords[i3][0];\n          }\n          coords = points;\n          project3(coords);\n          break;\n        case 2:\n          for (i3 = 0; i3 < coords.length; i3++) {\n            project3(coords[i3]);\n          }\n          break;\n        case 3:\n          coords = classifyRings(coords);\n          for (i3 = 0; i3 < coords.length; i3++) {\n            for (j = 0; j < coords[i3].length; j++) {\n              project3(coords[i3][j]);\n            }\n          }\n          break;\n      }\n      if (coords.length === 1) {\n        coords = coords[0];\n      } else {\n        type = \"Multi\" + type;\n      }\n      var result = {\n        type: \"Feature\",\n        geometry: {\n          type,\n          coordinates: coords\n        },\n        properties: this.properties\n      };\n      if (\"id\" in this) {\n        result.id = this.id;\n      }\n      return result;\n    };\n    function classifyRings(rings) {\n      var len = rings.length;\n      if (len <= 1)\n        return [rings];\n      var polygons = [], polygon, ccw;\n      for (var i3 = 0; i3 < len; i3++) {\n        var area = signedArea(rings[i3]);\n        if (area === 0)\n          continue;\n        if (ccw === void 0)\n          ccw = area < 0;\n        if (ccw === area < 0) {\n          if (polygon)\n            polygons.push(polygon);\n          polygon = [rings[i3]];\n        } else {\n          polygon.push(rings[i3]);\n        }\n      }\n      if (polygon)\n        polygons.push(polygon);\n      return polygons;\n    }\n    function signedArea(ring) {\n      var sum = 0;\n      for (var i3 = 0, len = ring.length, j = len - 1, p1, p2; i3 < len; j = i3++) {\n        p1 = ring[i3];\n        p2 = ring[j];\n        sum += (p2.x - p1.x) * (p1.y + p2.y);\n      }\n      return sum;\n    }\n  }\n});\n\n// node_modules/@mapbox/vector-tile/lib/vectortilelayer.js\nvar require_vectortilelayer = __commonJS({\n  \"node_modules/@mapbox/vector-tile/lib/vectortilelayer.js\"(exports, module) {\n    \"use strict\";\n    var VectorTileFeature = require_vectortilefeature();\n    module.exports = VectorTileLayer;\n    function VectorTileLayer(pbf, end) {\n      this.version = 1;\n      this.name = null;\n      this.extent = 4096;\n      this.length = 0;\n      this._pbf = pbf;\n      this._keys = [];\n      this._values = [];\n      this._features = [];\n      pbf.readFields(readLayer, this, end);\n      this.length = this._features.length;\n    }\n    function readLayer(tag, layer, pbf) {\n      if (tag === 15)\n        layer.version = pbf.readVarint();\n      else if (tag === 1)\n        layer.name = pbf.readString();\n      else if (tag === 5)\n        layer.extent = pbf.readVarint();\n      else if (tag === 2)\n        layer._features.push(pbf.pos);\n      else if (tag === 3)\n        layer._keys.push(pbf.readString());\n      else if (tag === 4)\n        layer._values.push(readValueMessage(pbf));\n    }\n    function readValueMessage(pbf) {\n      var value = null, end = pbf.readVarint() + pbf.pos;\n      while (pbf.pos < end) {\n        var tag = pbf.readVarint() >> 3;\n        value = tag === 1 ? pbf.readString() : tag === 2 ? pbf.readFloat() : tag === 3 ? pbf.readDouble() : tag === 4 ? pbf.readVarint64() : tag === 5 ? pbf.readVarint() : tag === 6 ? pbf.readSVarint() : tag === 7 ? pbf.readBoolean() : null;\n      }\n      return value;\n    }\n    VectorTileLayer.prototype.feature = function(i3) {\n      if (i3 < 0 || i3 >= this._features.length)\n        throw new Error(\"feature index out of bounds\");\n      this._pbf.pos = this._features[i3];\n      var end = this._pbf.readVarint() + this._pbf.pos;\n      return new VectorTileFeature(this._pbf, end, this.extent, this._keys, this._values);\n    };\n  }\n});\n\n// node_modules/@mapbox/vector-tile/lib/vectortile.js\nvar require_vectortile = __commonJS({\n  \"node_modules/@mapbox/vector-tile/lib/vectortile.js\"(exports, module) {\n    \"use strict\";\n    var VectorTileLayer = require_vectortilelayer();\n    module.exports = VectorTile2;\n    function VectorTile2(pbf, end) {\n      this.layers = pbf.readFields(readTile, {}, end);\n    }\n    function readTile(tag, layers, pbf) {\n      if (tag === 3) {\n        var layer = new VectorTileLayer(pbf, pbf.readVarint() + pbf.pos);\n        if (layer.length)\n          layers[layer.name] = layer;\n      }\n    }\n  }\n});\n\n// node_modules/@mapbox/vector-tile/index.js\nvar require_vector_tile = __commonJS({\n  \"node_modules/@mapbox/vector-tile/index.js\"(exports, module) {\n    module.exports.VectorTile = require_vectortile();\n    module.exports.VectorTileFeature = require_vectortilefeature();\n    module.exports.VectorTileLayer = require_vectortilelayer();\n  }\n});\n\n// node_modules/ieee754/index.js\nvar require_ieee754 = __commonJS({\n  \"node_modules/ieee754/index.js\"(exports) {\n    exports.read = function(buffer, offset, isLE, mLen, nBytes) {\n      var e2, m;\n      var eLen = nBytes * 8 - mLen - 1;\n      var eMax = (1 << eLen) - 1;\n      var eBias = eMax >> 1;\n      var nBits = -7;\n      var i3 = isLE ? nBytes - 1 : 0;\n      var d = isLE ? -1 : 1;\n      var s2 = buffer[offset + i3];\n      i3 += d;\n      e2 = s2 & (1 << -nBits) - 1;\n      s2 >>= -nBits;\n      nBits += eLen;\n      for (; nBits > 0; e2 = e2 * 256 + buffer[offset + i3], i3 += d, nBits -= 8) {\n      }\n      m = e2 & (1 << -nBits) - 1;\n      e2 >>= -nBits;\n      nBits += mLen;\n      for (; nBits > 0; m = m * 256 + buffer[offset + i3], i3 += d, nBits -= 8) {\n      }\n      if (e2 === 0) {\n        e2 = 1 - eBias;\n      } else if (e2 === eMax) {\n        return m ? NaN : (s2 ? -1 : 1) * Infinity;\n      } else {\n        m = m + Math.pow(2, mLen);\n        e2 = e2 - eBias;\n      }\n      return (s2 ? -1 : 1) * m * Math.pow(2, e2 - mLen);\n    };\n    exports.write = function(buffer, value, offset, isLE, mLen, nBytes) {\n      var e2, m, c2;\n      var eLen = nBytes * 8 - mLen - 1;\n      var eMax = (1 << eLen) - 1;\n      var eBias = eMax >> 1;\n      var rt = mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0;\n      var i3 = isLE ? 0 : nBytes - 1;\n      var d = isLE ? 1 : -1;\n      var s2 = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n      value = Math.abs(value);\n      if (isNaN(value) || value === Infinity) {\n        m = isNaN(value) ? 1 : 0;\n        e2 = eMax;\n      } else {\n        e2 = Math.floor(Math.log(value) / Math.LN2);\n        if (value * (c2 = Math.pow(2, -e2)) < 1) {\n          e2--;\n          c2 *= 2;\n        }\n        if (e2 + eBias >= 1) {\n          value += rt / c2;\n        } else {\n          value += rt * Math.pow(2, 1 - eBias);\n        }\n        if (value * c2 >= 2) {\n          e2++;\n          c2 /= 2;\n        }\n        if (e2 + eBias >= eMax) {\n          m = 0;\n          e2 = eMax;\n        } else if (e2 + eBias >= 1) {\n          m = (value * c2 - 1) * Math.pow(2, mLen);\n          e2 = e2 + eBias;\n        } else {\n          m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n          e2 = 0;\n        }\n      }\n      for (; mLen >= 8; buffer[offset + i3] = m & 255, i3 += d, m /= 256, mLen -= 8) {\n      }\n      e2 = e2 << mLen | m;\n      eLen += mLen;\n      for (; eLen > 0; buffer[offset + i3] = e2 & 255, i3 += d, e2 /= 256, eLen -= 8) {\n      }\n      buffer[offset + i3 - d] |= s2 * 128;\n    };\n  }\n});\n\n// node_modules/pbf/index.js\nvar require_pbf = __commonJS({\n  \"node_modules/pbf/index.js\"(exports, module) {\n    \"use strict\";\n    module.exports = Pbf;\n    var ieee754 = require_ieee754();\n    function Pbf(buf) {\n      this.buf = ArrayBuffer.isView && ArrayBuffer.isView(buf) ? buf : new Uint8Array(buf || 0);\n      this.pos = 0;\n      this.type = 0;\n      this.length = this.buf.length;\n    }\n    Pbf.Varint = 0;\n    Pbf.Fixed64 = 1;\n    Pbf.Bytes = 2;\n    Pbf.Fixed32 = 5;\n    var SHIFT_LEFT_32 = (1 << 16) * (1 << 16);\n    var SHIFT_RIGHT_32 = 1 / SHIFT_LEFT_32;\n    var TEXT_DECODER_MIN_LENGTH = 12;\n    var utf8TextDecoder = typeof TextDecoder === \"undefined\" ? null : new TextDecoder(\"utf8\");\n    Pbf.prototype = {\n      destroy: function() {\n        this.buf = null;\n      },\n      readFields: function(readField, result, end) {\n        end = end || this.length;\n        while (this.pos < end) {\n          var val = this.readVarint(), tag = val >> 3, startPos = this.pos;\n          this.type = val & 7;\n          readField(tag, result, this);\n          if (this.pos === startPos)\n            this.skip(val);\n        }\n        return result;\n      },\n      readMessage: function(readField, result) {\n        return this.readFields(readField, result, this.readVarint() + this.pos);\n      },\n      readFixed32: function() {\n        var val = readUInt32(this.buf, this.pos);\n        this.pos += 4;\n        return val;\n      },\n      readSFixed32: function() {\n        var val = readInt32(this.buf, this.pos);\n        this.pos += 4;\n        return val;\n      },\n      readFixed64: function() {\n        var val = readUInt32(this.buf, this.pos) + readUInt32(this.buf, this.pos + 4) * SHIFT_LEFT_32;\n        this.pos += 8;\n        return val;\n      },\n      readSFixed64: function() {\n        var val = readUInt32(this.buf, this.pos) + readInt32(this.buf, this.pos + 4) * SHIFT_LEFT_32;\n        this.pos += 8;\n        return val;\n      },\n      readFloat: function() {\n        var val = ieee754.read(this.buf, this.pos, true, 23, 4);\n        this.pos += 4;\n        return val;\n      },\n      readDouble: function() {\n        var val = ieee754.read(this.buf, this.pos, true, 52, 8);\n        this.pos += 8;\n        return val;\n      },\n      readVarint: function(isSigned) {\n        var buf = this.buf, val, b;\n        b = buf[this.pos++];\n        val = b & 127;\n        if (b < 128)\n          return val;\n        b = buf[this.pos++];\n        val |= (b & 127) << 7;\n        if (b < 128)\n          return val;\n        b = buf[this.pos++];\n        val |= (b & 127) << 14;\n        if (b < 128)\n          return val;\n        b = buf[this.pos++];\n        val |= (b & 127) << 21;\n        if (b < 128)\n          return val;\n        b = buf[this.pos];\n        val |= (b & 15) << 28;\n        return readVarintRemainder2(val, isSigned, this);\n      },\n      readVarint64: function() {\n        return this.readVarint(true);\n      },\n      readSVarint: function() {\n        var num = this.readVarint();\n        return num % 2 === 1 ? (num + 1) / -2 : num / 2;\n      },\n      readBoolean: function() {\n        return Boolean(this.readVarint());\n      },\n      readString: function() {\n        var end = this.readVarint() + this.pos;\n        var pos = this.pos;\n        this.pos = end;\n        if (end - pos >= TEXT_DECODER_MIN_LENGTH && utf8TextDecoder) {\n          return readUtf8TextDecoder(this.buf, pos, end);\n        }\n        return readUtf8(this.buf, pos, end);\n      },\n      readBytes: function() {\n        var end = this.readVarint() + this.pos, buffer = this.buf.subarray(this.pos, end);\n        this.pos = end;\n        return buffer;\n      },\n      readPackedVarint: function(arr2, isSigned) {\n        if (this.type !== Pbf.Bytes)\n          return arr2.push(this.readVarint(isSigned));\n        var end = readPackedEnd(this);\n        arr2 = arr2 || [];\n        while (this.pos < end)\n          arr2.push(this.readVarint(isSigned));\n        return arr2;\n      },\n      readPackedSVarint: function(arr2) {\n        if (this.type !== Pbf.Bytes)\n          return arr2.push(this.readSVarint());\n        var end = readPackedEnd(this);\n        arr2 = arr2 || [];\n        while (this.pos < end)\n          arr2.push(this.readSVarint());\n        return arr2;\n      },\n      readPackedBoolean: function(arr2) {\n        if (this.type !== Pbf.Bytes)\n          return arr2.push(this.readBoolean());\n        var end = readPackedEnd(this);\n        arr2 = arr2 || [];\n        while (this.pos < end)\n          arr2.push(this.readBoolean());\n        return arr2;\n      },\n      readPackedFloat: function(arr2) {\n        if (this.type !== Pbf.Bytes)\n          return arr2.push(this.readFloat());\n        var end = readPackedEnd(this);\n        arr2 = arr2 || [];\n        while (this.pos < end)\n          arr2.push(this.readFloat());\n        return arr2;\n      },\n      readPackedDouble: function(arr2) {\n        if (this.type !== Pbf.Bytes)\n          return arr2.push(this.readDouble());\n        var end = readPackedEnd(this);\n        arr2 = arr2 || [];\n        while (this.pos < end)\n          arr2.push(this.readDouble());\n        return arr2;\n      },\n      readPackedFixed32: function(arr2) {\n        if (this.type !== Pbf.Bytes)\n          return arr2.push(this.readFixed32());\n        var end = readPackedEnd(this);\n        arr2 = arr2 || [];\n        while (this.pos < end)\n          arr2.push(this.readFixed32());\n        return arr2;\n      },\n      readPackedSFixed32: function(arr2) {\n        if (this.type !== Pbf.Bytes)\n          return arr2.push(this.readSFixed32());\n        var end = readPackedEnd(this);\n        arr2 = arr2 || [];\n        while (this.pos < end)\n          arr2.push(this.readSFixed32());\n        return arr2;\n      },\n      readPackedFixed64: function(arr2) {\n        if (this.type !== Pbf.Bytes)\n          return arr2.push(this.readFixed64());\n        var end = readPackedEnd(this);\n        arr2 = arr2 || [];\n        while (this.pos < end)\n          arr2.push(this.readFixed64());\n        return arr2;\n      },\n      readPackedSFixed64: function(arr2) {\n        if (this.type !== Pbf.Bytes)\n          return arr2.push(this.readSFixed64());\n        var end = readPackedEnd(this);\n        arr2 = arr2 || [];\n        while (this.pos < end)\n          arr2.push(this.readSFixed64());\n        return arr2;\n      },\n      skip: function(val) {\n        var type = val & 7;\n        if (type === Pbf.Varint)\n          while (this.buf[this.pos++] > 127) {\n          }\n        else if (type === Pbf.Bytes)\n          this.pos = this.readVarint() + this.pos;\n        else if (type === Pbf.Fixed32)\n          this.pos += 4;\n        else if (type === Pbf.Fixed64)\n          this.pos += 8;\n        else\n          throw new Error(\"Unimplemented type: \" + type);\n      },\n      writeTag: function(tag, type) {\n        this.writeVarint(tag << 3 | type);\n      },\n      realloc: function(min) {\n        var length = this.length || 16;\n        while (length < this.pos + min)\n          length *= 2;\n        if (length !== this.length) {\n          var buf = new Uint8Array(length);\n          buf.set(this.buf);\n          this.buf = buf;\n          this.length = length;\n        }\n      },\n      finish: function() {\n        this.length = this.pos;\n        this.pos = 0;\n        return this.buf.subarray(0, this.length);\n      },\n      writeFixed32: function(val) {\n        this.realloc(4);\n        writeInt32(this.buf, val, this.pos);\n        this.pos += 4;\n      },\n      writeSFixed32: function(val) {\n        this.realloc(4);\n        writeInt32(this.buf, val, this.pos);\n        this.pos += 4;\n      },\n      writeFixed64: function(val) {\n        this.realloc(8);\n        writeInt32(this.buf, val & -1, this.pos);\n        writeInt32(this.buf, Math.floor(val * SHIFT_RIGHT_32), this.pos + 4);\n        this.pos += 8;\n      },\n      writeSFixed64: function(val) {\n        this.realloc(8);\n        writeInt32(this.buf, val & -1, this.pos);\n        writeInt32(this.buf, Math.floor(val * SHIFT_RIGHT_32), this.pos + 4);\n        this.pos += 8;\n      },\n      writeVarint: function(val) {\n        val = +val || 0;\n        if (val > 268435455 || val < 0) {\n          writeBigVarint(val, this);\n          return;\n        }\n        this.realloc(4);\n        this.buf[this.pos++] = val & 127 | (val > 127 ? 128 : 0);\n        if (val <= 127)\n          return;\n        this.buf[this.pos++] = (val >>>= 7) & 127 | (val > 127 ? 128 : 0);\n        if (val <= 127)\n          return;\n        this.buf[this.pos++] = (val >>>= 7) & 127 | (val > 127 ? 128 : 0);\n        if (val <= 127)\n          return;\n        this.buf[this.pos++] = val >>> 7 & 127;\n      },\n      writeSVarint: function(val) {\n        this.writeVarint(val < 0 ? -val * 2 - 1 : val * 2);\n      },\n      writeBoolean: function(val) {\n        this.writeVarint(Boolean(val));\n      },\n      writeString: function(str) {\n        str = String(str);\n        this.realloc(str.length * 4);\n        this.pos++;\n        var startPos = this.pos;\n        this.pos = writeUtf8(this.buf, str, this.pos);\n        var len = this.pos - startPos;\n        if (len >= 128)\n          makeRoomForExtraLength(startPos, len, this);\n        this.pos = startPos - 1;\n        this.writeVarint(len);\n        this.pos += len;\n      },\n      writeFloat: function(val) {\n        this.realloc(4);\n        ieee754.write(this.buf, val, this.pos, true, 23, 4);\n        this.pos += 4;\n      },\n      writeDouble: function(val) {\n        this.realloc(8);\n        ieee754.write(this.buf, val, this.pos, true, 52, 8);\n        this.pos += 8;\n      },\n      writeBytes: function(buffer) {\n        var len = buffer.length;\n        this.writeVarint(len);\n        this.realloc(len);\n        for (var i3 = 0; i3 < len; i3++)\n          this.buf[this.pos++] = buffer[i3];\n      },\n      writeRawMessage: function(fn, obj) {\n        this.pos++;\n        var startPos = this.pos;\n        fn(obj, this);\n        var len = this.pos - startPos;\n        if (len >= 128)\n          makeRoomForExtraLength(startPos, len, this);\n        this.pos = startPos - 1;\n        this.writeVarint(len);\n        this.pos += len;\n      },\n      writeMessage: function(tag, fn, obj) {\n        this.writeTag(tag, Pbf.Bytes);\n        this.writeRawMessage(fn, obj);\n      },\n      writePackedVarint: function(tag, arr2) {\n        if (arr2.length)\n          this.writeMessage(tag, writePackedVarint, arr2);\n      },\n      writePackedSVarint: function(tag, arr2) {\n        if (arr2.length)\n          this.writeMessage(tag, writePackedSVarint, arr2);\n      },\n      writePackedBoolean: function(tag, arr2) {\n        if (arr2.length)\n          this.writeMessage(tag, writePackedBoolean, arr2);\n      },\n      writePackedFloat: function(tag, arr2) {\n        if (arr2.length)\n          this.writeMessage(tag, writePackedFloat, arr2);\n      },\n      writePackedDouble: function(tag, arr2) {\n        if (arr2.length)\n          this.writeMessage(tag, writePackedDouble, arr2);\n      },\n      writePackedFixed32: function(tag, arr2) {\n        if (arr2.length)\n          this.writeMessage(tag, writePackedFixed32, arr2);\n      },\n      writePackedSFixed32: function(tag, arr2) {\n        if (arr2.length)\n          this.writeMessage(tag, writePackedSFixed32, arr2);\n      },\n      writePackedFixed64: function(tag, arr2) {\n        if (arr2.length)\n          this.writeMessage(tag, writePackedFixed64, arr2);\n      },\n      writePackedSFixed64: function(tag, arr2) {\n        if (arr2.length)\n          this.writeMessage(tag, writePackedSFixed64, arr2);\n      },\n      writeBytesField: function(tag, buffer) {\n        this.writeTag(tag, Pbf.Bytes);\n        this.writeBytes(buffer);\n      },\n      writeFixed32Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed32);\n        this.writeFixed32(val);\n      },\n      writeSFixed32Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed32);\n        this.writeSFixed32(val);\n      },\n      writeFixed64Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed64);\n        this.writeFixed64(val);\n      },\n      writeSFixed64Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed64);\n        this.writeSFixed64(val);\n      },\n      writeVarintField: function(tag, val) {\n        this.writeTag(tag, Pbf.Varint);\n        this.writeVarint(val);\n      },\n      writeSVarintField: function(tag, val) {\n        this.writeTag(tag, Pbf.Varint);\n        this.writeSVarint(val);\n      },\n      writeStringField: function(tag, str) {\n        this.writeTag(tag, Pbf.Bytes);\n        this.writeString(str);\n      },\n      writeFloatField: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed32);\n        this.writeFloat(val);\n      },\n      writeDoubleField: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed64);\n        this.writeDouble(val);\n      },\n      writeBooleanField: function(tag, val) {\n        this.writeVarintField(tag, Boolean(val));\n      }\n    };\n    function readVarintRemainder2(l2, s2, p2) {\n      var buf = p2.buf, h, b;\n      b = buf[p2.pos++];\n      h = (b & 112) >> 4;\n      if (b < 128)\n        return toNum2(l2, h, s2);\n      b = buf[p2.pos++];\n      h |= (b & 127) << 3;\n      if (b < 128)\n        return toNum2(l2, h, s2);\n      b = buf[p2.pos++];\n      h |= (b & 127) << 10;\n      if (b < 128)\n        return toNum2(l2, h, s2);\n      b = buf[p2.pos++];\n      h |= (b & 127) << 17;\n      if (b < 128)\n        return toNum2(l2, h, s2);\n      b = buf[p2.pos++];\n      h |= (b & 127) << 24;\n      if (b < 128)\n        return toNum2(l2, h, s2);\n      b = buf[p2.pos++];\n      h |= (b & 1) << 31;\n      if (b < 128)\n        return toNum2(l2, h, s2);\n      throw new Error(\"Expected varint not more than 10 bytes\");\n    }\n    function readPackedEnd(pbf) {\n      return pbf.type === Pbf.Bytes ? pbf.readVarint() + pbf.pos : pbf.pos + 1;\n    }\n    function toNum2(low, high, isSigned) {\n      if (isSigned) {\n        return high * 4294967296 + (low >>> 0);\n      }\n      return (high >>> 0) * 4294967296 + (low >>> 0);\n    }\n    function writeBigVarint(val, pbf) {\n      var low, high;\n      if (val >= 0) {\n        low = val % 4294967296 | 0;\n        high = val / 4294967296 | 0;\n      } else {\n        low = ~(-val % 4294967296);\n        high = ~(-val / 4294967296);\n        if (low ^ 4294967295) {\n          low = low + 1 | 0;\n        } else {\n          low = 0;\n          high = high + 1 | 0;\n        }\n      }\n      if (val >= 18446744073709552e3 || val < -18446744073709552e3) {\n        throw new Error(\"Given varint doesn't fit into 10 bytes\");\n      }\n      pbf.realloc(10);\n      writeBigVarintLow(low, high, pbf);\n      writeBigVarintHigh(high, pbf);\n    }\n    function writeBigVarintLow(low, high, pbf) {\n      pbf.buf[pbf.pos++] = low & 127 | 128;\n      low >>>= 7;\n      pbf.buf[pbf.pos++] = low & 127 | 128;\n      low >>>= 7;\n      pbf.buf[pbf.pos++] = low & 127 | 128;\n      low >>>= 7;\n      pbf.buf[pbf.pos++] = low & 127 | 128;\n      low >>>= 7;\n      pbf.buf[pbf.pos] = low & 127;\n    }\n    function writeBigVarintHigh(high, pbf) {\n      var lsb = (high & 7) << 4;\n      pbf.buf[pbf.pos++] |= lsb | ((high >>>= 3) ? 128 : 0);\n      if (!high)\n        return;\n      pbf.buf[pbf.pos++] = high & 127 | ((high >>>= 7) ? 128 : 0);\n      if (!high)\n        return;\n      pbf.buf[pbf.pos++] = high & 127 | ((high >>>= 7) ? 128 : 0);\n      if (!high)\n        return;\n      pbf.buf[pbf.pos++] = high & 127 | ((high >>>= 7) ? 128 : 0);\n      if (!high)\n        return;\n      pbf.buf[pbf.pos++] = high & 127 | ((high >>>= 7) ? 128 : 0);\n      if (!high)\n        return;\n      pbf.buf[pbf.pos++] = high & 127;\n    }\n    function makeRoomForExtraLength(startPos, len, pbf) {\n      var extraLen = len <= 16383 ? 1 : len <= 2097151 ? 2 : len <= 268435455 ? 3 : Math.floor(Math.log(len) / (Math.LN2 * 7));\n      pbf.realloc(extraLen);\n      for (var i3 = pbf.pos - 1; i3 >= startPos; i3--)\n        pbf.buf[i3 + extraLen] = pbf.buf[i3];\n    }\n    function writePackedVarint(arr2, pbf) {\n      for (var i3 = 0; i3 < arr2.length; i3++)\n        pbf.writeVarint(arr2[i3]);\n    }\n    function writePackedSVarint(arr2, pbf) {\n      for (var i3 = 0; i3 < arr2.length; i3++)\n        pbf.writeSVarint(arr2[i3]);\n    }\n    function writePackedFloat(arr2, pbf) {\n      for (var i3 = 0; i3 < arr2.length; i3++)\n        pbf.writeFloat(arr2[i3]);\n    }\n    function writePackedDouble(arr2, pbf) {\n      for (var i3 = 0; i3 < arr2.length; i3++)\n        pbf.writeDouble(arr2[i3]);\n    }\n    function writePackedBoolean(arr2, pbf) {\n      for (var i3 = 0; i3 < arr2.length; i3++)\n        pbf.writeBoolean(arr2[i3]);\n    }\n    function writePackedFixed32(arr2, pbf) {\n      for (var i3 = 0; i3 < arr2.length; i3++)\n        pbf.writeFixed32(arr2[i3]);\n    }\n    function writePackedSFixed32(arr2, pbf) {\n      for (var i3 = 0; i3 < arr2.length; i3++)\n        pbf.writeSFixed32(arr2[i3]);\n    }\n    function writePackedFixed64(arr2, pbf) {\n      for (var i3 = 0; i3 < arr2.length; i3++)\n        pbf.writeFixed64(arr2[i3]);\n    }\n    function writePackedSFixed64(arr2, pbf) {\n      for (var i3 = 0; i3 < arr2.length; i3++)\n        pbf.writeSFixed64(arr2[i3]);\n    }\n    function readUInt32(buf, pos) {\n      return (buf[pos] | buf[pos + 1] << 8 | buf[pos + 2] << 16) + buf[pos + 3] * 16777216;\n    }\n    function writeInt32(buf, val, pos) {\n      buf[pos] = val;\n      buf[pos + 1] = val >>> 8;\n      buf[pos + 2] = val >>> 16;\n      buf[pos + 3] = val >>> 24;\n    }\n    function readInt32(buf, pos) {\n      return (buf[pos] | buf[pos + 1] << 8 | buf[pos + 2] << 16) + (buf[pos + 3] << 24);\n    }\n    function readUtf8(buf, pos, end) {\n      var str = \"\";\n      var i3 = pos;\n      while (i3 < end) {\n        var b0 = buf[i3];\n        var c2 = null;\n        var bytesPerSequence = b0 > 239 ? 4 : b0 > 223 ? 3 : b0 > 191 ? 2 : 1;\n        if (i3 + bytesPerSequence > end)\n          break;\n        var b1, b2, b3;\n        if (bytesPerSequence === 1) {\n          if (b0 < 128) {\n            c2 = b0;\n          }\n        } else if (bytesPerSequence === 2) {\n          b1 = buf[i3 + 1];\n          if ((b1 & 192) === 128) {\n            c2 = (b0 & 31) << 6 | b1 & 63;\n            if (c2 <= 127) {\n              c2 = null;\n            }\n          }\n        } else if (bytesPerSequence === 3) {\n          b1 = buf[i3 + 1];\n          b2 = buf[i3 + 2];\n          if ((b1 & 192) === 128 && (b2 & 192) === 128) {\n            c2 = (b0 & 15) << 12 | (b1 & 63) << 6 | b2 & 63;\n            if (c2 <= 2047 || c2 >= 55296 && c2 <= 57343) {\n              c2 = null;\n            }\n          }\n        } else if (bytesPerSequence === 4) {\n          b1 = buf[i3 + 1];\n          b2 = buf[i3 + 2];\n          b3 = buf[i3 + 3];\n          if ((b1 & 192) === 128 && (b2 & 192) === 128 && (b3 & 192) === 128) {\n            c2 = (b0 & 15) << 18 | (b1 & 63) << 12 | (b2 & 63) << 6 | b3 & 63;\n            if (c2 <= 65535 || c2 >= 1114112) {\n              c2 = null;\n            }\n          }\n        }\n        if (c2 === null) {\n          c2 = 65533;\n          bytesPerSequence = 1;\n        } else if (c2 > 65535) {\n          c2 -= 65536;\n          str += String.fromCharCode(c2 >>> 10 & 1023 | 55296);\n          c2 = 56320 | c2 & 1023;\n        }\n        str += String.fromCharCode(c2);\n        i3 += bytesPerSequence;\n      }\n      return str;\n    }\n    function readUtf8TextDecoder(buf, pos, end) {\n      return utf8TextDecoder.decode(buf.subarray(pos, end));\n    }\n    function writeUtf8(buf, str, pos) {\n      for (var i3 = 0, c2, lead; i3 < str.length; i3++) {\n        c2 = str.charCodeAt(i3);\n        if (c2 > 55295 && c2 < 57344) {\n          if (lead) {\n            if (c2 < 56320) {\n              buf[pos++] = 239;\n              buf[pos++] = 191;\n              buf[pos++] = 189;\n              lead = c2;\n              continue;\n            } else {\n              c2 = lead - 55296 << 10 | c2 - 56320 | 65536;\n              lead = null;\n            }\n          } else {\n            if (c2 > 56319 || i3 + 1 === str.length) {\n              buf[pos++] = 239;\n              buf[pos++] = 191;\n              buf[pos++] = 189;\n            } else {\n              lead = c2;\n            }\n            continue;\n          }\n        } else if (lead) {\n          buf[pos++] = 239;\n          buf[pos++] = 191;\n          buf[pos++] = 189;\n          lead = null;\n        }\n        if (c2 < 128) {\n          buf[pos++] = c2;\n        } else {\n          if (c2 < 2048) {\n            buf[pos++] = c2 >> 6 | 192;\n          } else {\n            if (c2 < 65536) {\n              buf[pos++] = c2 >> 12 | 224;\n            } else {\n              buf[pos++] = c2 >> 18 | 240;\n              buf[pos++] = c2 >> 12 & 63 | 128;\n            }\n            buf[pos++] = c2 >> 6 & 63 | 128;\n          }\n          buf[pos++] = c2 & 63 | 128;\n        }\n      }\n      return pos;\n    }\n  }\n});\n\n// node_modules/rbush/rbush.min.js\nvar require_rbush_min = __commonJS({\n  \"node_modules/rbush/rbush.min.js\"(exports, module) {\n    !function(t2, i3) {\n      typeof exports == \"object\" && typeof module != \"undefined\" ? module.exports = i3() : typeof define == \"function\" && define.amd ? define(i3) : (t2 = t2 || self).RBush = i3();\n    }(exports, function() {\n      \"use strict\";\n      function t2(t3, r3, e3, a3, h2) {\n        !function t4(n3, r4, e4, a4, h3) {\n          for (; a4 > e4; ) {\n            if (a4 - e4 > 600) {\n              var o3 = a4 - e4 + 1, s3 = r4 - e4 + 1, l3 = Math.log(o3), f3 = 0.5 * Math.exp(2 * l3 / 3), u3 = 0.5 * Math.sqrt(l3 * f3 * (o3 - f3) / o3) * (s3 - o3 / 2 < 0 ? -1 : 1), m2 = Math.max(e4, Math.floor(r4 - s3 * f3 / o3 + u3)), c3 = Math.min(a4, Math.floor(r4 + (o3 - s3) * f3 / o3 + u3));\n              t4(n3, r4, m2, c3, h3);\n            }\n            var p3 = n3[r4], d2 = e4, x2 = a4;\n            for (i3(n3, e4, r4), h3(n3[a4], p3) > 0 && i3(n3, e4, a4); d2 < x2; ) {\n              for (i3(n3, d2, x2), d2++, x2--; h3(n3[d2], p3) < 0; )\n                d2++;\n              for (; h3(n3[x2], p3) > 0; )\n                x2--;\n            }\n            h3(n3[e4], p3) === 0 ? i3(n3, e4, x2) : i3(n3, ++x2, a4), x2 <= r4 && (e4 = x2 + 1), r4 <= x2 && (a4 = x2 - 1);\n          }\n        }(t3, r3, e3 || 0, a3 || t3.length - 1, h2 || n2);\n      }\n      function i3(t3, i4, n3) {\n        var r3 = t3[i4];\n        t3[i4] = t3[n3], t3[n3] = r3;\n      }\n      function n2(t3, i4) {\n        return t3 < i4 ? -1 : t3 > i4 ? 1 : 0;\n      }\n      var r2 = function(t3) {\n        t3 === void 0 && (t3 = 9), this._maxEntries = Math.max(4, t3), this._minEntries = Math.max(2, Math.ceil(0.4 * this._maxEntries)), this.clear();\n      };\n      function e2(t3, i4, n3) {\n        if (!n3)\n          return i4.indexOf(t3);\n        for (var r3 = 0; r3 < i4.length; r3++)\n          if (n3(t3, i4[r3]))\n            return r3;\n        return -1;\n      }\n      function a2(t3, i4) {\n        h(t3, 0, t3.children.length, i4, t3);\n      }\n      function h(t3, i4, n3, r3, e3) {\n        e3 || (e3 = p2(null)), e3.minX = 1 / 0, e3.minY = 1 / 0, e3.maxX = -1 / 0, e3.maxY = -1 / 0;\n        for (var a3 = i4; a3 < n3; a3++) {\n          var h2 = t3.children[a3];\n          o2(e3, t3.leaf ? r3(h2) : h2);\n        }\n        return e3;\n      }\n      function o2(t3, i4) {\n        return t3.minX = Math.min(t3.minX, i4.minX), t3.minY = Math.min(t3.minY, i4.minY), t3.maxX = Math.max(t3.maxX, i4.maxX), t3.maxY = Math.max(t3.maxY, i4.maxY), t3;\n      }\n      function s2(t3, i4) {\n        return t3.minX - i4.minX;\n      }\n      function l2(t3, i4) {\n        return t3.minY - i4.minY;\n      }\n      function f2(t3) {\n        return (t3.maxX - t3.minX) * (t3.maxY - t3.minY);\n      }\n      function u2(t3) {\n        return t3.maxX - t3.minX + (t3.maxY - t3.minY);\n      }\n      function m(t3, i4) {\n        return t3.minX <= i4.minX && t3.minY <= i4.minY && i4.maxX <= t3.maxX && i4.maxY <= t3.maxY;\n      }\n      function c2(t3, i4) {\n        return i4.minX <= t3.maxX && i4.minY <= t3.maxY && i4.maxX >= t3.minX && i4.maxY >= t3.minY;\n      }\n      function p2(t3) {\n        return { children: t3, height: 1, leaf: true, minX: 1 / 0, minY: 1 / 0, maxX: -1 / 0, maxY: -1 / 0 };\n      }\n      function d(i4, n3, r3, e3, a3) {\n        for (var h2 = [n3, r3]; h2.length; )\n          if (!((r3 = h2.pop()) - (n3 = h2.pop()) <= e3)) {\n            var o3 = n3 + Math.ceil((r3 - n3) / e3 / 2) * e3;\n            t2(i4, o3, n3, r3, a3), h2.push(n3, o3, o3, r3);\n          }\n      }\n      return r2.prototype.all = function() {\n        return this._all(this.data, []);\n      }, r2.prototype.search = function(t3) {\n        var i4 = this.data, n3 = [];\n        if (!c2(t3, i4))\n          return n3;\n        for (var r3 = this.toBBox, e3 = []; i4; ) {\n          for (var a3 = 0; a3 < i4.children.length; a3++) {\n            var h2 = i4.children[a3], o3 = i4.leaf ? r3(h2) : h2;\n            c2(t3, o3) && (i4.leaf ? n3.push(h2) : m(t3, o3) ? this._all(h2, n3) : e3.push(h2));\n          }\n          i4 = e3.pop();\n        }\n        return n3;\n      }, r2.prototype.collides = function(t3) {\n        var i4 = this.data;\n        if (!c2(t3, i4))\n          return false;\n        for (var n3 = []; i4; ) {\n          for (var r3 = 0; r3 < i4.children.length; r3++) {\n            var e3 = i4.children[r3], a3 = i4.leaf ? this.toBBox(e3) : e3;\n            if (c2(t3, a3)) {\n              if (i4.leaf || m(t3, a3))\n                return true;\n              n3.push(e3);\n            }\n          }\n          i4 = n3.pop();\n        }\n        return false;\n      }, r2.prototype.load = function(t3) {\n        if (!t3 || !t3.length)\n          return this;\n        if (t3.length < this._minEntries) {\n          for (var i4 = 0; i4 < t3.length; i4++)\n            this.insert(t3[i4]);\n          return this;\n        }\n        var n3 = this._build(t3.slice(), 0, t3.length - 1, 0);\n        if (this.data.children.length)\n          if (this.data.height === n3.height)\n            this._splitRoot(this.data, n3);\n          else {\n            if (this.data.height < n3.height) {\n              var r3 = this.data;\n              this.data = n3, n3 = r3;\n            }\n            this._insert(n3, this.data.height - n3.height - 1, true);\n          }\n        else\n          this.data = n3;\n        return this;\n      }, r2.prototype.insert = function(t3) {\n        return t3 && this._insert(t3, this.data.height - 1), this;\n      }, r2.prototype.clear = function() {\n        return this.data = p2([]), this;\n      }, r2.prototype.remove = function(t3, i4) {\n        if (!t3)\n          return this;\n        for (var n3, r3, a3, h2 = this.data, o3 = this.toBBox(t3), s3 = [], l3 = []; h2 || s3.length; ) {\n          if (h2 || (h2 = s3.pop(), r3 = s3[s3.length - 1], n3 = l3.pop(), a3 = true), h2.leaf) {\n            var f3 = e2(t3, h2.children, i4);\n            if (f3 !== -1)\n              return h2.children.splice(f3, 1), s3.push(h2), this._condense(s3), this;\n          }\n          a3 || h2.leaf || !m(h2, o3) ? r3 ? (n3++, h2 = r3.children[n3], a3 = false) : h2 = null : (s3.push(h2), l3.push(n3), n3 = 0, r3 = h2, h2 = h2.children[0]);\n        }\n        return this;\n      }, r2.prototype.toBBox = function(t3) {\n        return t3;\n      }, r2.prototype.compareMinX = function(t3, i4) {\n        return t3.minX - i4.minX;\n      }, r2.prototype.compareMinY = function(t3, i4) {\n        return t3.minY - i4.minY;\n      }, r2.prototype.toJSON = function() {\n        return this.data;\n      }, r2.prototype.fromJSON = function(t3) {\n        return this.data = t3, this;\n      }, r2.prototype._all = function(t3, i4) {\n        for (var n3 = []; t3; )\n          t3.leaf ? i4.push.apply(i4, t3.children) : n3.push.apply(n3, t3.children), t3 = n3.pop();\n        return i4;\n      }, r2.prototype._build = function(t3, i4, n3, r3) {\n        var e3, h2 = n3 - i4 + 1, o3 = this._maxEntries;\n        if (h2 <= o3)\n          return a2(e3 = p2(t3.slice(i4, n3 + 1)), this.toBBox), e3;\n        r3 || (r3 = Math.ceil(Math.log(h2) / Math.log(o3)), o3 = Math.ceil(h2 / Math.pow(o3, r3 - 1))), (e3 = p2([])).leaf = false, e3.height = r3;\n        var s3 = Math.ceil(h2 / o3), l3 = s3 * Math.ceil(Math.sqrt(o3));\n        d(t3, i4, n3, l3, this.compareMinX);\n        for (var f3 = i4; f3 <= n3; f3 += l3) {\n          var u3 = Math.min(f3 + l3 - 1, n3);\n          d(t3, f3, u3, s3, this.compareMinY);\n          for (var m2 = f3; m2 <= u3; m2 += s3) {\n            var c3 = Math.min(m2 + s3 - 1, u3);\n            e3.children.push(this._build(t3, m2, c3, r3 - 1));\n          }\n        }\n        return a2(e3, this.toBBox), e3;\n      }, r2.prototype._chooseSubtree = function(t3, i4, n3, r3) {\n        for (; r3.push(i4), !i4.leaf && r3.length - 1 !== n3; ) {\n          for (var e3 = 1 / 0, a3 = 1 / 0, h2 = void 0, o3 = 0; o3 < i4.children.length; o3++) {\n            var s3 = i4.children[o3], l3 = f2(s3), u3 = (m2 = t3, c3 = s3, (Math.max(c3.maxX, m2.maxX) - Math.min(c3.minX, m2.minX)) * (Math.max(c3.maxY, m2.maxY) - Math.min(c3.minY, m2.minY)) - l3);\n            u3 < a3 ? (a3 = u3, e3 = l3 < e3 ? l3 : e3, h2 = s3) : u3 === a3 && l3 < e3 && (e3 = l3, h2 = s3);\n          }\n          i4 = h2 || i4.children[0];\n        }\n        var m2, c3;\n        return i4;\n      }, r2.prototype._insert = function(t3, i4, n3) {\n        var r3 = n3 ? t3 : this.toBBox(t3), e3 = [], a3 = this._chooseSubtree(r3, this.data, i4, e3);\n        for (a3.children.push(t3), o2(a3, r3); i4 >= 0 && e3[i4].children.length > this._maxEntries; )\n          this._split(e3, i4), i4--;\n        this._adjustParentBBoxes(r3, e3, i4);\n      }, r2.prototype._split = function(t3, i4) {\n        var n3 = t3[i4], r3 = n3.children.length, e3 = this._minEntries;\n        this._chooseSplitAxis(n3, e3, r3);\n        var h2 = this._chooseSplitIndex(n3, e3, r3), o3 = p2(n3.children.splice(h2, n3.children.length - h2));\n        o3.height = n3.height, o3.leaf = n3.leaf, a2(n3, this.toBBox), a2(o3, this.toBBox), i4 ? t3[i4 - 1].children.push(o3) : this._splitRoot(n3, o3);\n      }, r2.prototype._splitRoot = function(t3, i4) {\n        this.data = p2([t3, i4]), this.data.height = t3.height + 1, this.data.leaf = false, a2(this.data, this.toBBox);\n      }, r2.prototype._chooseSplitIndex = function(t3, i4, n3) {\n        for (var r3, e3, a3, o3, s3, l3, u3, m2 = 1 / 0, c3 = 1 / 0, p3 = i4; p3 <= n3 - i4; p3++) {\n          var d2 = h(t3, 0, p3, this.toBBox), x2 = h(t3, p3, n3, this.toBBox), v = (e3 = d2, a3 = x2, o3 = void 0, s3 = void 0, l3 = void 0, u3 = void 0, o3 = Math.max(e3.minX, a3.minX), s3 = Math.max(e3.minY, a3.minY), l3 = Math.min(e3.maxX, a3.maxX), u3 = Math.min(e3.maxY, a3.maxY), Math.max(0, l3 - o3) * Math.max(0, u3 - s3)), M = f2(d2) + f2(x2);\n          v < m2 ? (m2 = v, r3 = p3, c3 = M < c3 ? M : c3) : v === m2 && M < c3 && (c3 = M, r3 = p3);\n        }\n        return r3 || n3 - i4;\n      }, r2.prototype._chooseSplitAxis = function(t3, i4, n3) {\n        var r3 = t3.leaf ? this.compareMinX : s2, e3 = t3.leaf ? this.compareMinY : l2;\n        this._allDistMargin(t3, i4, n3, r3) < this._allDistMargin(t3, i4, n3, e3) && t3.children.sort(r3);\n      }, r2.prototype._allDistMargin = function(t3, i4, n3, r3) {\n        t3.children.sort(r3);\n        for (var e3 = this.toBBox, a3 = h(t3, 0, i4, e3), s3 = h(t3, n3 - i4, n3, e3), l3 = u2(a3) + u2(s3), f3 = i4; f3 < n3 - i4; f3++) {\n          var m2 = t3.children[f3];\n          o2(a3, t3.leaf ? e3(m2) : m2), l3 += u2(a3);\n        }\n        for (var c3 = n3 - i4 - 1; c3 >= i4; c3--) {\n          var p3 = t3.children[c3];\n          o2(s3, t3.leaf ? e3(p3) : p3), l3 += u2(s3);\n        }\n        return l3;\n      }, r2.prototype._adjustParentBBoxes = function(t3, i4, n3) {\n        for (var r3 = n3; r3 >= 0; r3--)\n          o2(i4[r3], t3);\n      }, r2.prototype._condense = function(t3) {\n        for (var i4 = t3.length - 1, n3 = void 0; i4 >= 0; i4--)\n          t3[i4].children.length === 0 ? i4 > 0 ? (n3 = t3[i4 - 1].children).splice(n3.indexOf(t3[i4]), 1) : this.clear() : a2(t3[i4], this.toBBox);\n      }, r2;\n    });\n  }\n});\n\n// src/types/unitbezier.d.ts\nvar require_unitbezier_d = __commonJS({\n  \"src/types/unitbezier.d.ts\"() {\n  }\n});\n\n// node_modules/tinyqueue/tinyqueue.js\nvar require_tinyqueue = __commonJS({\n  \"node_modules/tinyqueue/tinyqueue.js\"(exports, module) {\n    (function(global, factory) {\n      typeof exports === \"object\" && typeof module !== \"undefined\" ? module.exports = factory() : typeof define === \"function\" && define.amd ? define(factory) : (global = global || self, global.TinyQueue = factory());\n    })(exports, function() {\n      \"use strict\";\n      var TinyQueue = function TinyQueue2(data, compare2) {\n        if (data === void 0)\n          data = [];\n        if (compare2 === void 0)\n          compare2 = defaultCompare;\n        this.data = data;\n        this.length = this.data.length;\n        this.compare = compare2;\n        if (this.length > 0) {\n          for (var i3 = (this.length >> 1) - 1; i3 >= 0; i3--) {\n            this._down(i3);\n          }\n        }\n      };\n      TinyQueue.prototype.push = function push(item) {\n        this.data.push(item);\n        this.length++;\n        this._up(this.length - 1);\n      };\n      TinyQueue.prototype.pop = function pop() {\n        if (this.length === 0) {\n          return void 0;\n        }\n        var top = this.data[0];\n        var bottom = this.data.pop();\n        this.length--;\n        if (this.length > 0) {\n          this.data[0] = bottom;\n          this._down(0);\n        }\n        return top;\n      };\n      TinyQueue.prototype.peek = function peek() {\n        return this.data[0];\n      };\n      TinyQueue.prototype._up = function _up(pos) {\n        var ref = this;\n        var data = ref.data;\n        var compare2 = ref.compare;\n        var item = data[pos];\n        while (pos > 0) {\n          var parent = pos - 1 >> 1;\n          var current = data[parent];\n          if (compare2(item, current) >= 0) {\n            break;\n          }\n          data[pos] = current;\n          pos = parent;\n        }\n        data[pos] = item;\n      };\n      TinyQueue.prototype._down = function _down(pos) {\n        var ref = this;\n        var data = ref.data;\n        var compare2 = ref.compare;\n        var halfLength = this.length >> 1;\n        var item = data[pos];\n        while (pos < halfLength) {\n          var left = (pos << 1) + 1;\n          var best = data[left];\n          var right = left + 1;\n          if (right < this.length && compare2(data[right], best) < 0) {\n            left = right;\n            best = data[right];\n          }\n          if (compare2(best, item) >= 0) {\n            break;\n          }\n          data[pos] = best;\n          pos = left;\n        }\n        data[pos] = item;\n      };\n      function defaultCompare(a2, b) {\n        return a2 < b ? -1 : a2 > b ? 1 : 0;\n      }\n      return TinyQueue;\n    });\n  }\n});\n\n// node_modules/polylabel/polylabel.js\nvar require_polylabel = __commonJS({\n  \"node_modules/polylabel/polylabel.js\"(exports, module) {\n    \"use strict\";\n    var Queue = require_tinyqueue();\n    if (Queue.default)\n      Queue = Queue.default;\n    module.exports = polylabel2;\n    module.exports.default = polylabel2;\n    function polylabel2(polygon, precision, debug) {\n      precision = precision || 1;\n      var minX, minY, maxX, maxY;\n      for (var i3 = 0; i3 < polygon[0].length; i3++) {\n        var p2 = polygon[0][i3];\n        if (!i3 || p2[0] < minX)\n          minX = p2[0];\n        if (!i3 || p2[1] < minY)\n          minY = p2[1];\n        if (!i3 || p2[0] > maxX)\n          maxX = p2[0];\n        if (!i3 || p2[1] > maxY)\n          maxY = p2[1];\n      }\n      var width = maxX - minX;\n      var height = maxY - minY;\n      var cellSize = Math.min(width, height);\n      var h = cellSize / 2;\n      if (cellSize === 0) {\n        var degeneratePoleOfInaccessibility = [minX, minY];\n        degeneratePoleOfInaccessibility.distance = 0;\n        return degeneratePoleOfInaccessibility;\n      }\n      var cellQueue = new Queue(void 0, compareMax);\n      for (var x2 = minX; x2 < maxX; x2 += cellSize) {\n        for (var y = minY; y < maxY; y += cellSize) {\n          cellQueue.push(new Cell(x2 + h, y + h, h, polygon));\n        }\n      }\n      var bestCell = getCentroidCell(polygon);\n      var bboxCell = new Cell(minX + width / 2, minY + height / 2, 0, polygon);\n      if (bboxCell.d > bestCell.d)\n        bestCell = bboxCell;\n      var numProbes = cellQueue.length;\n      while (cellQueue.length) {\n        var cell = cellQueue.pop();\n        if (cell.d > bestCell.d) {\n          bestCell = cell;\n          if (debug)\n            console.log(\"found best %d after %d probes\", Math.round(1e4 * cell.d) / 1e4, numProbes);\n        }\n        if (cell.max - bestCell.d <= precision)\n          continue;\n        h = cell.h / 2;\n        cellQueue.push(new Cell(cell.x - h, cell.y - h, h, polygon));\n        cellQueue.push(new Cell(cell.x + h, cell.y - h, h, polygon));\n        cellQueue.push(new Cell(cell.x - h, cell.y + h, h, polygon));\n        cellQueue.push(new Cell(cell.x + h, cell.y + h, h, polygon));\n        numProbes += 4;\n      }\n      if (debug) {\n        console.log(\"num probes: \" + numProbes);\n        console.log(\"best distance: \" + bestCell.d);\n      }\n      var poleOfInaccessibility = [bestCell.x, bestCell.y];\n      poleOfInaccessibility.distance = bestCell.d;\n      return poleOfInaccessibility;\n    }\n    function compareMax(a2, b) {\n      return b.max - a2.max;\n    }\n    function Cell(x2, y, h, polygon) {\n      this.x = x2;\n      this.y = y;\n      this.h = h;\n      this.d = pointToPolygonDist(x2, y, polygon);\n      this.max = this.d + this.h * Math.SQRT2;\n    }\n    function pointToPolygonDist(x2, y, polygon) {\n      var inside = false;\n      var minDistSq = Infinity;\n      for (var k = 0; k < polygon.length; k++) {\n        var ring = polygon[k];\n        for (var i3 = 0, len = ring.length, j = len - 1; i3 < len; j = i3++) {\n          var a2 = ring[i3];\n          var b = ring[j];\n          if (a2[1] > y !== b[1] > y && x2 < (b[0] - a2[0]) * (y - a2[1]) / (b[1] - a2[1]) + a2[0])\n            inside = !inside;\n          minDistSq = Math.min(minDistSq, getSegDistSq(x2, y, a2, b));\n        }\n      }\n      return minDistSq === 0 ? 0 : (inside ? 1 : -1) * Math.sqrt(minDistSq);\n    }\n    function getCentroidCell(polygon) {\n      var area = 0;\n      var x2 = 0;\n      var y = 0;\n      var points = polygon[0];\n      for (var i3 = 0, len = points.length, j = len - 1; i3 < len; j = i3++) {\n        var a2 = points[i3];\n        var b = points[j];\n        var f2 = a2[0] * b[1] - b[0] * a2[1];\n        x2 += (a2[0] + b[0]) * f2;\n        y += (a2[1] + b[1]) * f2;\n        area += f2 * 3;\n      }\n      if (area === 0)\n        return new Cell(points[0][0], points[0][1], 0, polygon);\n      return new Cell(x2 / area, y / area, 0, polygon);\n    }\n    function getSegDistSq(px, py, a2, b) {\n      var x2 = a2[0];\n      var y = a2[1];\n      var dx = b[0] - x2;\n      var dy = b[1] - y;\n      if (dx !== 0 || dy !== 0) {\n        var t2 = ((px - x2) * dx + (py - y) * dy) / (dx * dx + dy * dy);\n        if (t2 > 1) {\n          x2 = b[0];\n          y = b[1];\n        } else if (t2 > 0) {\n          x2 += dx * t2;\n          y += dy * t2;\n        }\n      }\n      dx = px - x2;\n      dy = py - y;\n      return dx * dx + dy * dy;\n    }\n  }\n});\n\n// src/frontends/static.ts\nvar import_point_geometry7 = __toModule(require_point_geometry());\n\n// src/view.ts\nvar import_point_geometry2 = __toModule(require_point_geometry());\n\n// src/tilecache.ts\nvar import_point_geometry = __toModule(require_point_geometry());\nvar import_vector_tile = __toModule(require_vector_tile());\nvar import_pbf = __toModule(require_pbf());\n\n// node_modules/pmtiles/dist/index.mjs\nvar __async2 = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step2(generator.next(value));\n      } catch (e2) {\n        reject(e2);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step2(generator.throw(value));\n      } catch (e2) {\n        reject(e2);\n      }\n    };\n    var step2 = (x2) => x2.done ? resolve(x2.value) : Promise.resolve(x2.value).then(fulfilled, rejected);\n    step2((generator = generator.apply(__this, __arguments)).next());\n  });\n};\nvar u8 = Uint8Array;\nvar u16 = Uint16Array;\nvar u32 = Uint32Array;\nvar fleb = new u8([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 0, 0, 0]);\nvar fdeb = new u8([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, 0, 0]);\nvar clim = new u8([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);\nvar freb = function(eb, start) {\n  var b = new u16(31);\n  for (var i3 = 0; i3 < 31; ++i3) {\n    b[i3] = start += 1 << eb[i3 - 1];\n  }\n  var r2 = new u32(b[30]);\n  for (var i3 = 1; i3 < 30; ++i3) {\n    for (var j = b[i3]; j < b[i3 + 1]; ++j) {\n      r2[j] = j - b[i3] << 5 | i3;\n    }\n  }\n  return [b, r2];\n};\nvar _a = freb(fleb, 2);\nvar fl = _a[0];\nvar revfl = _a[1];\nfl[28] = 258, revfl[258] = 28;\nvar _b = freb(fdeb, 0);\nvar fd = _b[0];\nvar revfd = _b[1];\nvar rev = new u16(32768);\nfor (i = 0; i < 32768; ++i) {\n  x = (i & 43690) >>> 1 | (i & 21845) << 1;\n  x = (x & 52428) >>> 2 | (x & 13107) << 2;\n  x = (x & 61680) >>> 4 | (x & 3855) << 4;\n  rev[i] = ((x & 65280) >>> 8 | (x & 255) << 8) >>> 1;\n}\nvar x;\nvar i;\nvar hMap = function(cd, mb, r2) {\n  var s2 = cd.length;\n  var i3 = 0;\n  var l2 = new u16(mb);\n  for (; i3 < s2; ++i3) {\n    if (cd[i3])\n      ++l2[cd[i3] - 1];\n  }\n  var le = new u16(mb);\n  for (i3 = 0; i3 < mb; ++i3) {\n    le[i3] = le[i3 - 1] + l2[i3 - 1] << 1;\n  }\n  var co;\n  if (r2) {\n    co = new u16(1 << mb);\n    var rvb = 15 - mb;\n    for (i3 = 0; i3 < s2; ++i3) {\n      if (cd[i3]) {\n        var sv = i3 << 4 | cd[i3];\n        var r_1 = mb - cd[i3];\n        var v = le[cd[i3] - 1]++ << r_1;\n        for (var m = v | (1 << r_1) - 1; v <= m; ++v) {\n          co[rev[v] >>> rvb] = sv;\n        }\n      }\n    }\n  } else {\n    co = new u16(s2);\n    for (i3 = 0; i3 < s2; ++i3) {\n      if (cd[i3]) {\n        co[i3] = rev[le[cd[i3] - 1]++] >>> 15 - cd[i3];\n      }\n    }\n  }\n  return co;\n};\nvar flt = new u8(288);\nfor (i = 0; i < 144; ++i)\n  flt[i] = 8;\nvar i;\nfor (i = 144; i < 256; ++i)\n  flt[i] = 9;\nvar i;\nfor (i = 256; i < 280; ++i)\n  flt[i] = 7;\nvar i;\nfor (i = 280; i < 288; ++i)\n  flt[i] = 8;\nvar i;\nvar fdt = new u8(32);\nfor (i = 0; i < 32; ++i)\n  fdt[i] = 5;\nvar i;\nvar flrm = /* @__PURE__ */ hMap(flt, 9, 1);\nvar fdrm = /* @__PURE__ */ hMap(fdt, 5, 1);\nvar max = function(a2) {\n  var m = a2[0];\n  for (var i3 = 1; i3 < a2.length; ++i3) {\n    if (a2[i3] > m)\n      m = a2[i3];\n  }\n  return m;\n};\nvar bits = function(d, p2, m) {\n  var o2 = p2 / 8 | 0;\n  return (d[o2] | d[o2 + 1] << 8) >> (p2 & 7) & m;\n};\nvar bits16 = function(d, p2) {\n  var o2 = p2 / 8 | 0;\n  return (d[o2] | d[o2 + 1] << 8 | d[o2 + 2] << 16) >> (p2 & 7);\n};\nvar shft = function(p2) {\n  return (p2 + 7) / 8 | 0;\n};\nvar slc = function(v, s2, e2) {\n  if (s2 == null || s2 < 0)\n    s2 = 0;\n  if (e2 == null || e2 > v.length)\n    e2 = v.length;\n  var n2 = new (v.BYTES_PER_ELEMENT == 2 ? u16 : v.BYTES_PER_ELEMENT == 4 ? u32 : u8)(e2 - s2);\n  n2.set(v.subarray(s2, e2));\n  return n2;\n};\nvar ec = [\n  \"unexpected EOF\",\n  \"invalid block type\",\n  \"invalid length/literal\",\n  \"invalid distance\",\n  \"stream finished\",\n  \"no stream handler\",\n  ,\n  \"no callback\",\n  \"invalid UTF-8 data\",\n  \"extra field too long\",\n  \"date not in range 1980-2099\",\n  \"filename too long\",\n  \"stream finishing\",\n  \"invalid zip data\"\n];\nvar err = function(ind, msg, nt) {\n  var e2 = new Error(msg || ec[ind]);\n  e2.code = ind;\n  if (Error.captureStackTrace)\n    Error.captureStackTrace(e2, err);\n  if (!nt)\n    throw e2;\n  return e2;\n};\nvar inflt = function(dat, buf, st) {\n  var sl = dat.length;\n  if (!sl || st && st.f && !st.l)\n    return buf || new u8(0);\n  var noBuf = !buf || st;\n  var noSt = !st || st.i;\n  if (!st)\n    st = {};\n  if (!buf)\n    buf = new u8(sl * 3);\n  var cbuf = function(l22) {\n    var bl = buf.length;\n    if (l22 > bl) {\n      var nbuf = new u8(Math.max(bl * 2, l22));\n      nbuf.set(buf);\n      buf = nbuf;\n    }\n  };\n  var final = st.f || 0, pos = st.p || 0, bt = st.b || 0, lm = st.l, dm = st.d, lbt = st.m, dbt = st.n;\n  var tbts = sl * 8;\n  do {\n    if (!lm) {\n      final = bits(dat, pos, 1);\n      var type = bits(dat, pos + 1, 3);\n      pos += 3;\n      if (!type) {\n        var s2 = shft(pos) + 4, l2 = dat[s2 - 4] | dat[s2 - 3] << 8, t2 = s2 + l2;\n        if (t2 > sl) {\n          if (noSt)\n            err(0);\n          break;\n        }\n        if (noBuf)\n          cbuf(bt + l2);\n        buf.set(dat.subarray(s2, t2), bt);\n        st.b = bt += l2, st.p = pos = t2 * 8, st.f = final;\n        continue;\n      } else if (type == 1)\n        lm = flrm, dm = fdrm, lbt = 9, dbt = 5;\n      else if (type == 2) {\n        var hLit = bits(dat, pos, 31) + 257, hcLen = bits(dat, pos + 10, 15) + 4;\n        var tl = hLit + bits(dat, pos + 5, 31) + 1;\n        pos += 14;\n        var ldt = new u8(tl);\n        var clt = new u8(19);\n        for (var i3 = 0; i3 < hcLen; ++i3) {\n          clt[clim[i3]] = bits(dat, pos + i3 * 3, 7);\n        }\n        pos += hcLen * 3;\n        var clb = max(clt), clbmsk = (1 << clb) - 1;\n        var clm = hMap(clt, clb, 1);\n        for (var i3 = 0; i3 < tl; ) {\n          var r2 = clm[bits(dat, pos, clbmsk)];\n          pos += r2 & 15;\n          var s2 = r2 >>> 4;\n          if (s2 < 16) {\n            ldt[i3++] = s2;\n          } else {\n            var c2 = 0, n2 = 0;\n            if (s2 == 16)\n              n2 = 3 + bits(dat, pos, 3), pos += 2, c2 = ldt[i3 - 1];\n            else if (s2 == 17)\n              n2 = 3 + bits(dat, pos, 7), pos += 3;\n            else if (s2 == 18)\n              n2 = 11 + bits(dat, pos, 127), pos += 7;\n            while (n2--)\n              ldt[i3++] = c2;\n          }\n        }\n        var lt = ldt.subarray(0, hLit), dt = ldt.subarray(hLit);\n        lbt = max(lt);\n        dbt = max(dt);\n        lm = hMap(lt, lbt, 1);\n        dm = hMap(dt, dbt, 1);\n      } else\n        err(1);\n      if (pos > tbts) {\n        if (noSt)\n          err(0);\n        break;\n      }\n    }\n    if (noBuf)\n      cbuf(bt + 131072);\n    var lms = (1 << lbt) - 1, dms = (1 << dbt) - 1;\n    var lpos = pos;\n    for (; ; lpos = pos) {\n      var c2 = lm[bits16(dat, pos) & lms], sym = c2 >>> 4;\n      pos += c2 & 15;\n      if (pos > tbts) {\n        if (noSt)\n          err(0);\n        break;\n      }\n      if (!c2)\n        err(2);\n      if (sym < 256)\n        buf[bt++] = sym;\n      else if (sym == 256) {\n        lpos = pos, lm = null;\n        break;\n      } else {\n        var add = sym - 254;\n        if (sym > 264) {\n          var i3 = sym - 257, b = fleb[i3];\n          add = bits(dat, pos, (1 << b) - 1) + fl[i3];\n          pos += b;\n        }\n        var d = dm[bits16(dat, pos) & dms], dsym = d >>> 4;\n        if (!d)\n          err(3);\n        pos += d & 15;\n        var dt = fd[dsym];\n        if (dsym > 3) {\n          var b = fdeb[dsym];\n          dt += bits16(dat, pos) & (1 << b) - 1, pos += b;\n        }\n        if (pos > tbts) {\n          if (noSt)\n            err(0);\n          break;\n        }\n        if (noBuf)\n          cbuf(bt + 131072);\n        var end = bt + add;\n        for (; bt < end; bt += 4) {\n          buf[bt] = buf[bt - dt];\n          buf[bt + 1] = buf[bt + 1 - dt];\n          buf[bt + 2] = buf[bt + 2 - dt];\n          buf[bt + 3] = buf[bt + 3 - dt];\n        }\n        bt = end;\n      }\n    }\n    st.l = lm, st.p = lpos, st.b = bt, st.f = final;\n    if (lm)\n      final = 1, st.m = lbt, st.d = dm, st.n = dbt;\n  } while (!final);\n  return bt == buf.length ? buf : slc(buf, 0, bt);\n};\nvar et = /* @__PURE__ */ new u8(0);\nvar gzs = function(d) {\n  if (d[0] != 31 || d[1] != 139 || d[2] != 8)\n    err(6, \"invalid gzip data\");\n  var flg = d[3];\n  var st = 10;\n  if (flg & 4)\n    st += d[10] | (d[11] << 8) + 2;\n  for (var zs = (flg >> 3 & 1) + (flg >> 4 & 1); zs > 0; zs -= !d[st++])\n    ;\n  return st + (flg & 2);\n};\nvar gzl = function(d) {\n  var l2 = d.length;\n  return (d[l2 - 4] | d[l2 - 3] << 8 | d[l2 - 2] << 16 | d[l2 - 1] << 24) >>> 0;\n};\nvar zlv = function(d) {\n  if ((d[0] & 15) != 8 || d[0] >>> 4 > 7 || (d[0] << 8 | d[1]) % 31)\n    err(6, \"invalid zlib data\");\n  if (d[1] & 32)\n    err(6, \"invalid zlib data: preset dictionaries not supported\");\n};\nfunction inflateSync(data, out) {\n  return inflt(data, out);\n}\nfunction gunzipSync(data, out) {\n  return inflt(data.subarray(gzs(data), -8), out || new u8(gzl(data)));\n}\nfunction unzlibSync(data, out) {\n  return inflt((zlv(data), data.subarray(2, -4)), out);\n}\nfunction decompressSync(data, out) {\n  return data[0] == 31 && data[1] == 139 && data[2] == 8 ? gunzipSync(data, out) : (data[0] & 15) != 8 || data[0] >> 4 > 7 || (data[0] << 8 | data[1]) % 31 ? inflateSync(data, out) : unzlibSync(data, out);\n}\nvar td = typeof TextDecoder != \"undefined\" && /* @__PURE__ */ new TextDecoder();\nvar tds = 0;\ntry {\n  td.decode(et, { stream: true });\n  tds = 1;\n} catch (e2) {\n}\nvar shift = (n2, shift2) => {\n  return n2 * Math.pow(2, shift2);\n};\nvar unshift = (n2, shift2) => {\n  return Math.floor(n2 / Math.pow(2, shift2));\n};\nvar getUint24 = (view, pos) => {\n  return shift(view.getUint16(pos + 1, true), 8) + view.getUint8(pos);\n};\nvar getUint48 = (view, pos) => {\n  return shift(view.getUint32(pos + 2, true), 16) + view.getUint16(pos, true);\n};\nvar compare = (tz, tx, ty, view, i3) => {\n  if (tz != view.getUint8(i3))\n    return tz - view.getUint8(i3);\n  const x2 = getUint24(view, i3 + 1);\n  if (tx != x2)\n    return tx - x2;\n  const y = getUint24(view, i3 + 4);\n  if (ty != y)\n    return ty - y;\n  return 0;\n};\nvar queryLeafdir = (view, z2, x2, y) => {\n  const offset_len = queryView(view, z2 | 128, x2, y);\n  if (offset_len) {\n    return {\n      z: z2,\n      x: x2,\n      y,\n      offset: offset_len[0],\n      length: offset_len[1],\n      is_dir: true\n    };\n  }\n  return null;\n};\nvar queryTile = (view, z2, x2, y) => {\n  const offset_len = queryView(view, z2, x2, y);\n  if (offset_len) {\n    return {\n      z: z2,\n      x: x2,\n      y,\n      offset: offset_len[0],\n      length: offset_len[1],\n      is_dir: false\n    };\n  }\n  return null;\n};\nvar queryView = (view, z2, x2, y) => {\n  let m = 0;\n  let n2 = view.byteLength / 17 - 1;\n  while (m <= n2) {\n    const k = n2 + m >> 1;\n    const cmp = compare(z2, x2, y, view, k * 17);\n    if (cmp > 0) {\n      m = k + 1;\n    } else if (cmp < 0) {\n      n2 = k - 1;\n    } else {\n      return [getUint48(view, k * 17 + 7), view.getUint32(k * 17 + 13, true)];\n    }\n  }\n  return null;\n};\nvar entrySort = (a2, b) => {\n  if (a2.is_dir && !b.is_dir) {\n    return 1;\n  }\n  if (!a2.is_dir && b.is_dir) {\n    return -1;\n  }\n  if (a2.z !== b.z) {\n    return a2.z - b.z;\n  }\n  if (a2.x !== b.x) {\n    return a2.x - b.x;\n  }\n  return a2.y - b.y;\n};\nvar parseEntry = (dataview, i3) => {\n  const z_raw = dataview.getUint8(i3 * 17);\n  const z2 = z_raw & 127;\n  return {\n    z: z2,\n    x: getUint24(dataview, i3 * 17 + 1),\n    y: getUint24(dataview, i3 * 17 + 4),\n    offset: getUint48(dataview, i3 * 17 + 7),\n    length: dataview.getUint32(i3 * 17 + 13, true),\n    is_dir: z_raw >> 7 === 1\n  };\n};\nvar sortDir = (a2) => {\n  const entries = [];\n  const view = new DataView(a2);\n  for (let i3 = 0; i3 < view.byteLength / 17; i3++) {\n    entries.push(parseEntry(view, i3));\n  }\n  return createDirectory(entries);\n};\nvar createDirectory = (entries) => {\n  entries.sort(entrySort);\n  const buffer = new ArrayBuffer(17 * entries.length);\n  const arr2 = new Uint8Array(buffer);\n  for (let i3 = 0; i3 < entries.length; i3++) {\n    const entry = entries[i3];\n    let z2 = entry.z;\n    if (entry.is_dir)\n      z2 = z2 | 128;\n    arr2[i3 * 17] = z2;\n    arr2[i3 * 17 + 1] = entry.x & 255;\n    arr2[i3 * 17 + 2] = entry.x >> 8 & 255;\n    arr2[i3 * 17 + 3] = entry.x >> 16 & 255;\n    arr2[i3 * 17 + 4] = entry.y & 255;\n    arr2[i3 * 17 + 5] = entry.y >> 8 & 255;\n    arr2[i3 * 17 + 6] = entry.y >> 16 & 255;\n    arr2[i3 * 17 + 7] = entry.offset & 255;\n    arr2[i3 * 17 + 8] = unshift(entry.offset, 8) & 255;\n    arr2[i3 * 17 + 9] = unshift(entry.offset, 16) & 255;\n    arr2[i3 * 17 + 10] = unshift(entry.offset, 24) & 255;\n    arr2[i3 * 17 + 11] = unshift(entry.offset, 32) & 255;\n    arr2[i3 * 17 + 12] = unshift(entry.offset, 48) & 255;\n    arr2[i3 * 17 + 13] = entry.length & 255;\n    arr2[i3 * 17 + 14] = entry.length >> 8 & 255;\n    arr2[i3 * 17 + 15] = entry.length >> 16 & 255;\n    arr2[i3 * 17 + 16] = entry.length >> 24 & 255;\n  }\n  return buffer;\n};\nvar deriveLeaf = (view, tile) => {\n  if (view.byteLength < 17)\n    return null;\n  const numEntries = view.byteLength / 17;\n  const entry = parseEntry(view, numEntries - 1);\n  if (entry.is_dir) {\n    const leaf_level = entry.z;\n    const level_diff = tile.z - leaf_level;\n    const leaf_x = Math.trunc(tile.x / (1 << level_diff));\n    const leaf_y = Math.trunc(tile.y / (1 << level_diff));\n    return { z: leaf_level, x: leaf_x, y: leaf_y };\n  }\n  return null;\n};\nfunction getHeader(source) {\n  return __async2(this, null, function* () {\n    const resp = yield source.getBytes(0, 512e3);\n    const dataview = new DataView(resp.data);\n    const json_size = dataview.getUint32(4, true);\n    const root_entries = dataview.getUint16(8, true);\n    const dec = new TextDecoder(\"utf-8\");\n    const json_metadata = JSON.parse(dec.decode(new DataView(resp.data, 10, json_size)));\n    let tile_compression = 0;\n    if (json_metadata.compression === \"gzip\") {\n      tile_compression = 2;\n    }\n    let minzoom = 0;\n    if (\"minzoom\" in json_metadata) {\n      minzoom = +json_metadata.minzoom;\n    }\n    let maxzoom = 0;\n    if (\"maxzoom\" in json_metadata) {\n      maxzoom = +json_metadata.maxzoom;\n    }\n    let center_lon = 0;\n    let center_lat = 0;\n    let center_zoom = 0;\n    let min_lon = -180;\n    let min_lat = -85;\n    let max_lon = 180;\n    let max_lat = 85;\n    if (json_metadata.bounds) {\n      const split = json_metadata.bounds.split(\",\");\n      min_lon = +split[0];\n      min_lat = +split[1];\n      max_lon = +split[2];\n      max_lat = +split[3];\n    }\n    if (json_metadata.center) {\n      const split = json_metadata.center.split(\",\");\n      center_lon = +split[0];\n      center_lat = +split[1];\n      center_zoom = +split[2];\n    }\n    const header = {\n      specVersion: dataview.getUint16(2, true),\n      rootDirectoryOffset: 10 + json_size,\n      rootDirectoryLength: root_entries * 17,\n      jsonMetadataOffset: 10,\n      jsonMetadataLength: json_size,\n      leafDirectoryOffset: 0,\n      leafDirectoryLength: void 0,\n      tileDataOffset: 0,\n      tileDataLength: void 0,\n      numAddressedTiles: 0,\n      numTileEntries: 0,\n      numTileContents: 0,\n      clustered: false,\n      internalCompression: 1,\n      tileCompression: tile_compression,\n      tileType: 1,\n      minZoom: minzoom,\n      maxZoom: maxzoom,\n      minLon: min_lon,\n      minLat: min_lat,\n      maxLon: max_lon,\n      maxLat: max_lat,\n      centerZoom: center_zoom,\n      centerLon: center_lon,\n      centerLat: center_lat,\n      etag: resp.etag\n    };\n    return header;\n  });\n}\nfunction getZxy(header, source, cache, z2, x2, y, signal) {\n  return __async2(this, null, function* () {\n    let root_dir = yield cache.getArrayBuffer(source, header.rootDirectoryOffset, header.rootDirectoryLength, header);\n    if (header.specVersion === 1) {\n      root_dir = sortDir(root_dir);\n    }\n    const entry = queryTile(new DataView(root_dir), z2, x2, y);\n    if (entry) {\n      const resp = yield source.getBytes(entry.offset, entry.length, signal);\n      let tile_data = resp.data;\n      const view = new DataView(tile_data);\n      if (view.getUint8(0) == 31 && view.getUint8(1) == 139) {\n        tile_data = decompressSync(new Uint8Array(tile_data));\n      }\n      return {\n        data: tile_data\n      };\n    }\n    const leafcoords = deriveLeaf(new DataView(root_dir), { z: z2, x: x2, y });\n    if (leafcoords) {\n      const leafdir_entry = queryLeafdir(new DataView(root_dir), leafcoords.z, leafcoords.x, leafcoords.y);\n      if (leafdir_entry) {\n        let leaf_dir = yield cache.getArrayBuffer(source, leafdir_entry.offset, leafdir_entry.length, header);\n        if (header.specVersion === 1) {\n          leaf_dir = sortDir(leaf_dir);\n        }\n        const tile_entry = queryTile(new DataView(leaf_dir), z2, x2, y);\n        if (tile_entry) {\n          const resp = yield source.getBytes(tile_entry.offset, tile_entry.length, signal);\n          let tile_data = resp.data;\n          const view = new DataView(tile_data);\n          if (view.getUint8(0) == 31 && view.getUint8(1) == 139) {\n            tile_data = decompressSync(new Uint8Array(tile_data));\n          }\n          return {\n            data: tile_data\n          };\n        }\n      }\n    }\n    return void 0;\n  });\n}\nvar v2_default = {\n  getHeader,\n  getZxy\n};\nfunction toNum(low, high) {\n  return (high >>> 0) * 4294967296 + (low >>> 0);\n}\nfunction readVarintRemainder(l2, p2) {\n  const buf = p2.buf;\n  let h, b;\n  b = buf[p2.pos++];\n  h = (b & 112) >> 4;\n  if (b < 128)\n    return toNum(l2, h);\n  b = buf[p2.pos++];\n  h |= (b & 127) << 3;\n  if (b < 128)\n    return toNum(l2, h);\n  b = buf[p2.pos++];\n  h |= (b & 127) << 10;\n  if (b < 128)\n    return toNum(l2, h);\n  b = buf[p2.pos++];\n  h |= (b & 127) << 17;\n  if (b < 128)\n    return toNum(l2, h);\n  b = buf[p2.pos++];\n  h |= (b & 127) << 24;\n  if (b < 128)\n    return toNum(l2, h);\n  b = buf[p2.pos++];\n  h |= (b & 1) << 31;\n  if (b < 128)\n    return toNum(l2, h);\n  throw new Error(\"Expected varint not more than 10 bytes\");\n}\nfunction readVarint(p2) {\n  const buf = p2.buf;\n  let val, b;\n  b = buf[p2.pos++];\n  val = b & 127;\n  if (b < 128)\n    return val;\n  b = buf[p2.pos++];\n  val |= (b & 127) << 7;\n  if (b < 128)\n    return val;\n  b = buf[p2.pos++];\n  val |= (b & 127) << 14;\n  if (b < 128)\n    return val;\n  b = buf[p2.pos++];\n  val |= (b & 127) << 21;\n  if (b < 128)\n    return val;\n  b = buf[p2.pos];\n  val |= (b & 15) << 28;\n  return readVarintRemainder(val, p2);\n}\nfunction rotate(n2, xy, rx, ry) {\n  if (ry == 0) {\n    if (rx == 1) {\n      xy[0] = n2 - 1 - xy[0];\n      xy[1] = n2 - 1 - xy[1];\n    }\n    const t2 = xy[0];\n    xy[0] = xy[1];\n    xy[1] = t2;\n  }\n}\nfunction zxyToTileId(z2, x2, y) {\n  if (z2 > 26) {\n    throw Error(\"Tile zoom level exceeds max safe number limit (26)\");\n  }\n  if (x2 > Math.pow(2, z2) - 1 || y > Math.pow(2, z2) - 1) {\n    throw Error(\"tile x/y outside zoom level bounds\");\n  }\n  let acc = 0;\n  let tz = 0;\n  while (tz < z2) {\n    acc += Math.pow(2, tz) * Math.pow(2, tz);\n    tz++;\n  }\n  const n2 = Math.pow(2, z2);\n  let rx = 0;\n  let ry = 0;\n  let d = 0;\n  const xy = [x2, y];\n  let s2 = n2 / 2;\n  while (s2 > 0) {\n    rx = (xy[0] & s2) > 0 ? 1 : 0;\n    ry = (xy[1] & s2) > 0 ? 1 : 0;\n    d += s2 * s2 * (3 * rx ^ ry);\n    rotate(s2, xy, rx, ry);\n    s2 = s2 / 2;\n  }\n  return acc + d;\n}\nfunction fflateDecompress(buf, compression) {\n  return __async2(this, null, function* () {\n    if (compression === 1 || compression === 0) {\n      return buf;\n    } else if (compression === 2) {\n      return decompressSync(new Uint8Array(buf));\n    } else {\n      throw Error(\"Compression method not supported\");\n    }\n  });\n}\nvar HEADER_SIZE_BYTES = 127;\nfunction findTile(entries, tileId) {\n  let m = 0;\n  let n2 = entries.length - 1;\n  while (m <= n2) {\n    const k = n2 + m >> 1;\n    const cmp = tileId - entries[k].tileId;\n    if (cmp > 0) {\n      m = k + 1;\n    } else if (cmp < 0) {\n      n2 = k - 1;\n    } else {\n      return entries[k];\n    }\n  }\n  if (n2 >= 0) {\n    if (entries[n2].runLength === 0) {\n      return entries[n2];\n    }\n    if (tileId - entries[n2].tileId < entries[n2].runLength) {\n      return entries[n2];\n    }\n  }\n  return null;\n}\nvar FetchSource = class {\n  constructor(url) {\n    this.url = url;\n  }\n  getKey() {\n    return this.url;\n  }\n  getBytes(offset, length, signal) {\n    return __async2(this, null, function* () {\n      let controller;\n      if (!signal) {\n        controller = new AbortController();\n        signal = controller.signal;\n      }\n      let resp = yield fetch(this.url, {\n        signal,\n        headers: { Range: \"bytes=\" + offset + \"-\" + (offset + length - 1) }\n      });\n      if (resp.status === 416 && offset === 0) {\n        const content_range = resp.headers.get(\"Content-Range\");\n        if (!content_range || !content_range.startsWith(\"bytes */\")) {\n          throw Error(\"Missing content-length on 416 response\");\n        }\n        const actual_length = +content_range.substr(8);\n        resp = yield fetch(this.url, {\n          signal,\n          headers: { Range: \"bytes=0-\" + (actual_length - 1) }\n        });\n      }\n      if (resp.status >= 300) {\n        throw Error(\"Bad response code: \" + resp.status);\n      }\n      const content_length = resp.headers.get(\"Content-Length\");\n      if (resp.status === 200 && (!content_length || +content_length > length)) {\n        if (controller)\n          controller.abort();\n        throw Error(\"Server returned no content-length header or content-length exceeding request. Check that your storage backend supports HTTP Byte Serving.\");\n      }\n      const a2 = yield resp.arrayBuffer();\n      return {\n        data: a2,\n        etag: resp.headers.get(\"ETag\") || void 0,\n        cacheControl: resp.headers.get(\"Cache-Control\") || void 0,\n        expires: resp.headers.get(\"Expires\") || void 0\n      };\n    });\n  }\n};\nfunction getUint64(v, offset) {\n  const wh = v.getUint32(offset + 4, true);\n  const wl = v.getUint32(offset + 0, true);\n  return wh * Math.pow(2, 32) + wl;\n}\nfunction bytesToHeader(bytes, etag) {\n  const v = new DataView(bytes);\n  const spec_version = v.getUint8(7);\n  if (spec_version > 3) {\n    throw Error(`Archive is spec version ${spec_version} but this library supports up to spec version 3`);\n  }\n  return {\n    specVersion: spec_version,\n    rootDirectoryOffset: getUint64(v, 8),\n    rootDirectoryLength: getUint64(v, 16),\n    jsonMetadataOffset: getUint64(v, 24),\n    jsonMetadataLength: getUint64(v, 32),\n    leafDirectoryOffset: getUint64(v, 40),\n    leafDirectoryLength: getUint64(v, 48),\n    tileDataOffset: getUint64(v, 56),\n    tileDataLength: getUint64(v, 64),\n    numAddressedTiles: getUint64(v, 72),\n    numTileEntries: getUint64(v, 80),\n    numTileContents: getUint64(v, 88),\n    clustered: v.getUint8(96) === 1,\n    internalCompression: v.getUint8(97),\n    tileCompression: v.getUint8(98),\n    tileType: v.getUint8(99),\n    minZoom: v.getUint8(100),\n    maxZoom: v.getUint8(101),\n    minLon: v.getInt32(102, true) / 1e7,\n    minLat: v.getInt32(106, true) / 1e7,\n    maxLon: v.getInt32(110, true) / 1e7,\n    maxLat: v.getInt32(114, true) / 1e7,\n    centerZoom: v.getUint8(118),\n    centerLon: v.getInt32(119, true) / 1e7,\n    centerLat: v.getInt32(123, true) / 1e7,\n    etag\n  };\n}\nfunction deserializeIndex(buffer) {\n  const p2 = { buf: new Uint8Array(buffer), pos: 0 };\n  const numEntries = readVarint(p2);\n  const entries = [];\n  let lastId = 0;\n  for (let i3 = 0; i3 < numEntries; i3++) {\n    const v = readVarint(p2);\n    entries.push({ tileId: lastId + v, offset: 0, length: 0, runLength: 1 });\n    lastId += v;\n  }\n  for (let i3 = 0; i3 < numEntries; i3++) {\n    entries[i3].runLength = readVarint(p2);\n  }\n  for (let i3 = 0; i3 < numEntries; i3++) {\n    entries[i3].length = readVarint(p2);\n  }\n  for (let i3 = 0; i3 < numEntries; i3++) {\n    const v = readVarint(p2);\n    if (v === 0 && i3 > 0) {\n      entries[i3].offset = entries[i3 - 1].offset + entries[i3 - 1].length;\n    } else {\n      entries[i3].offset = v - 1;\n    }\n  }\n  return entries;\n}\nfunction detectVersion(a2) {\n  const v = new DataView(a2);\n  if (v.getUint16(2, true) === 2) {\n    console.warn(\"PMTiles spec version 2 has been deprecated; please see github.com/protomaps/PMTiles for tools to upgrade\");\n    return 2;\n  } else if (v.getUint16(2, true) === 1) {\n    console.warn(\"PMTiles spec version 1 has been deprecated; please see github.com/protomaps/PMTiles for tools to upgrade\");\n    return 1;\n  }\n  return 3;\n}\nvar EtagMismatch = class extends Error {\n};\nfunction getHeaderAndRoot(source, decompress, prefetch, current_etag) {\n  return __async2(this, null, function* () {\n    const resp = yield source.getBytes(0, 16384);\n    const v = new DataView(resp.data);\n    if (v.getUint16(0, true) !== 19792) {\n      throw new Error(\"Wrong magic number for PMTiles archive\");\n    }\n    if (detectVersion(resp.data) < 3) {\n      return [yield v2_default.getHeader(source)];\n    }\n    const headerData = resp.data.slice(0, HEADER_SIZE_BYTES);\n    let resp_etag = resp.etag;\n    if (current_etag && resp.etag != current_etag) {\n      console.warn(\"ETag conflict detected; your HTTP server might not support content-based ETag headers. ETags disabled for \" + source.getKey());\n      resp_etag = void 0;\n    }\n    const header = bytesToHeader(headerData, resp_etag);\n    if (prefetch) {\n      const rootDirData = resp.data.slice(header.rootDirectoryOffset, header.rootDirectoryOffset + header.rootDirectoryLength);\n      const dirKey = source.getKey() + \"|\" + (header.etag || \"\") + \"|\" + header.rootDirectoryOffset + \"|\" + header.rootDirectoryLength;\n      const rootDir = deserializeIndex(yield decompress(rootDirData, header.internalCompression));\n      return [header, [dirKey, rootDir.length, rootDir]];\n    }\n    return [header, void 0];\n  });\n}\nfunction getDirectory(source, decompress, offset, length, header) {\n  return __async2(this, null, function* () {\n    const resp = yield source.getBytes(offset, length);\n    if (header.etag && header.etag !== resp.etag) {\n      throw new EtagMismatch(resp.etag);\n    }\n    const data = yield decompress(resp.data, header.internalCompression);\n    const directory = deserializeIndex(data);\n    if (directory.length === 0) {\n      throw new Error(\"Empty directory is invalid\");\n    }\n    return directory;\n  });\n}\nvar SharedPromiseCache = class {\n  constructor(maxCacheEntries = 100, prefetch = true, decompress = fflateDecompress) {\n    this.cache = /* @__PURE__ */ new Map();\n    this.maxCacheEntries = maxCacheEntries;\n    this.counter = 1;\n    this.prefetch = prefetch;\n    this.decompress = decompress;\n  }\n  getHeader(source, current_etag) {\n    return __async2(this, null, function* () {\n      const cacheKey = source.getKey();\n      if (this.cache.has(cacheKey)) {\n        this.cache.get(cacheKey).lastUsed = this.counter++;\n        const data = yield this.cache.get(cacheKey).data;\n        return data;\n      }\n      const p2 = new Promise((resolve, reject) => {\n        getHeaderAndRoot(source, this.decompress, this.prefetch, current_etag).then((res) => {\n          if (res[1]) {\n            this.cache.set(res[1][0], {\n              lastUsed: this.counter++,\n              data: Promise.resolve(res[1][2])\n            });\n          }\n          resolve(res[0]);\n          this.prune();\n        }).catch((e2) => {\n          reject(e2);\n        });\n      });\n      this.cache.set(cacheKey, { lastUsed: this.counter++, data: p2 });\n      return p2;\n    });\n  }\n  getDirectory(source, offset, length, header) {\n    return __async2(this, null, function* () {\n      const cacheKey = source.getKey() + \"|\" + (header.etag || \"\") + \"|\" + offset + \"|\" + length;\n      if (this.cache.has(cacheKey)) {\n        this.cache.get(cacheKey).lastUsed = this.counter++;\n        const data = yield this.cache.get(cacheKey).data;\n        return data;\n      }\n      const p2 = new Promise((resolve, reject) => {\n        getDirectory(source, this.decompress, offset, length, header).then((directory) => {\n          resolve(directory);\n          this.prune();\n        }).catch((e2) => {\n          reject(e2);\n        });\n      });\n      this.cache.set(cacheKey, { lastUsed: this.counter++, data: p2 });\n      return p2;\n    });\n  }\n  getArrayBuffer(source, offset, length, header) {\n    return __async2(this, null, function* () {\n      const cacheKey = source.getKey() + \"|\" + (header.etag || \"\") + \"|\" + offset + \"|\" + length;\n      if (this.cache.has(cacheKey)) {\n        this.cache.get(cacheKey).lastUsed = this.counter++;\n        const data = yield this.cache.get(cacheKey).data;\n        return data;\n      }\n      const p2 = new Promise((resolve, reject) => {\n        source.getBytes(offset, length).then((resp) => {\n          if (header.etag && header.etag !== resp.etag) {\n            throw new EtagMismatch(resp.etag);\n          }\n          resolve(resp.data);\n          if (this.cache.has(cacheKey)) {\n          }\n          this.prune();\n        }).catch((e2) => {\n          reject(e2);\n        });\n      });\n      this.cache.set(cacheKey, { lastUsed: this.counter++, data: p2 });\n      return p2;\n    });\n  }\n  prune() {\n    if (this.cache.size >= this.maxCacheEntries) {\n      let minUsed = Infinity;\n      let minKey = void 0;\n      this.cache.forEach((cache_value, key) => {\n        if (cache_value.lastUsed < minUsed) {\n          minUsed = cache_value.lastUsed;\n          minKey = key;\n        }\n      });\n      if (minKey) {\n        this.cache.delete(minKey);\n      }\n    }\n  }\n  invalidate(source, current_etag) {\n    return __async2(this, null, function* () {\n      this.cache.delete(source.getKey());\n      yield this.getHeader(source, current_etag);\n    });\n  }\n};\nvar PMTiles = class {\n  constructor(source, cache, decompress) {\n    if (typeof source === \"string\") {\n      this.source = new FetchSource(source);\n    } else {\n      this.source = source;\n    }\n    if (decompress) {\n      this.decompress = decompress;\n    } else {\n      this.decompress = fflateDecompress;\n    }\n    if (cache) {\n      this.cache = cache;\n    } else {\n      this.cache = new SharedPromiseCache();\n    }\n  }\n  getHeader() {\n    return __async2(this, null, function* () {\n      return yield this.cache.getHeader(this.source);\n    });\n  }\n  getZxyAttempt(z2, x2, y, signal) {\n    return __async2(this, null, function* () {\n      const tile_id = zxyToTileId(z2, x2, y);\n      const header = yield this.cache.getHeader(this.source);\n      if (header.specVersion < 3) {\n        return v2_default.getZxy(header, this.source, this.cache, z2, x2, y, signal);\n      }\n      if (z2 < header.minZoom || z2 > header.maxZoom) {\n        return void 0;\n      }\n      let d_o = header.rootDirectoryOffset;\n      let d_l = header.rootDirectoryLength;\n      for (let depth = 0; depth <= 3; depth++) {\n        const directory = yield this.cache.getDirectory(this.source, d_o, d_l, header);\n        const entry = findTile(directory, tile_id);\n        if (entry) {\n          if (entry.runLength > 0) {\n            const resp = yield this.source.getBytes(header.tileDataOffset + entry.offset, entry.length, signal);\n            if (header.etag && header.etag !== resp.etag) {\n              throw new EtagMismatch(resp.etag);\n            }\n            return {\n              data: yield this.decompress(resp.data, header.tileCompression),\n              cacheControl: resp.cacheControl,\n              expires: resp.expires\n            };\n          } else {\n            d_o = header.leafDirectoryOffset + entry.offset;\n            d_l = entry.length;\n          }\n        } else {\n          return void 0;\n        }\n      }\n      throw Error(\"Maximum directory depth exceeded\");\n    });\n  }\n  getZxy(z2, x2, y, signal) {\n    return __async2(this, null, function* () {\n      try {\n        return yield this.getZxyAttempt(z2, x2, y, signal);\n      } catch (e2) {\n        if (e2 instanceof EtagMismatch) {\n          this.cache.invalidate(this.source, e2.message);\n          return yield this.getZxyAttempt(z2, x2, y, signal);\n        } else {\n          throw e2;\n        }\n      }\n    });\n  }\n  getMetadataAttempt() {\n    return __async2(this, null, function* () {\n      const header = yield this.cache.getHeader(this.source);\n      const resp = yield this.source.getBytes(header.jsonMetadataOffset, header.jsonMetadataLength);\n      if (header.etag && header.etag !== resp.etag) {\n        throw new EtagMismatch(resp.etag);\n      }\n      const decompressed = yield this.decompress(resp.data, header.internalCompression);\n      const dec = new TextDecoder(\"utf-8\");\n      return JSON.parse(dec.decode(decompressed));\n    });\n  }\n  getMetadata() {\n    return __async2(this, null, function* () {\n      try {\n        return yield this.getMetadataAttempt();\n      } catch (e2) {\n        if (e2 instanceof EtagMismatch) {\n          this.cache.invalidate(this.source, e2.message);\n          return yield this.getMetadataAttempt();\n        } else {\n          throw e2;\n        }\n      }\n    });\n  }\n};\n\n// src/tilecache.ts\nvar GeomType;\n(function(GeomType2) {\n  GeomType2[GeomType2[\"Point\"] = 1] = \"Point\";\n  GeomType2[GeomType2[\"Line\"] = 2] = \"Line\";\n  GeomType2[GeomType2[\"Polygon\"] = 3] = \"Polygon\";\n})(GeomType || (GeomType = {}));\nfunction toIndex(c2) {\n  return c2.x + \":\" + c2.y + \":\" + c2.z;\n}\nvar loadGeomAndBbox = (pbf, geometry, scale) => {\n  pbf.pos = geometry;\n  var end = pbf.readVarint() + pbf.pos, cmd = 1, length = 0, x2 = 0, y = 0, x1 = Infinity, x22 = -Infinity, y1 = Infinity, y2 = -Infinity;\n  var lines = [];\n  var line = [];\n  while (pbf.pos < end) {\n    if (length <= 0) {\n      var cmdLen = pbf.readVarint();\n      cmd = cmdLen & 7;\n      length = cmdLen >> 3;\n    }\n    length--;\n    if (cmd === 1 || cmd === 2) {\n      x2 += pbf.readSVarint() * scale;\n      y += pbf.readSVarint() * scale;\n      if (x2 < x1)\n        x1 = x2;\n      if (x2 > x22)\n        x22 = x2;\n      if (y < y1)\n        y1 = y;\n      if (y > y2)\n        y2 = y;\n      if (cmd === 1) {\n        if (line.length > 0)\n          lines.push(line);\n        line = [];\n      }\n      line.push(new import_point_geometry.default(x2, y));\n    } else if (cmd === 7) {\n      if (line)\n        line.push(line[0].clone());\n    } else\n      throw new Error(\"unknown command \" + cmd);\n  }\n  if (line)\n    lines.push(line);\n  return { geom: lines, bbox: { minX: x1, minY: y1, maxX: x22, maxY: y2 } };\n};\nfunction parseTile(buffer, tileSize) {\n  let v = new import_vector_tile.VectorTile(new import_pbf.default(buffer));\n  let result = new Map();\n  for (let [key, value] of Object.entries(v.layers)) {\n    let features = [];\n    let layer = value;\n    for (let i3 = 0; i3 < layer.length; i3++) {\n      let loaded = loadGeomAndBbox(layer.feature(i3)._pbf, layer.feature(i3)._geometry, tileSize / layer.extent);\n      let numVertices = 0;\n      for (let part of loaded.geom)\n        numVertices += part.length;\n      features.push({\n        id: layer.feature(i3).id,\n        geomType: layer.feature(i3).type,\n        geom: loaded.geom,\n        numVertices,\n        bbox: loaded.bbox,\n        props: layer.feature(i3).properties\n      });\n    }\n    result.set(key, features);\n  }\n  return result;\n}\nvar PmtilesSource = class {\n  constructor(url, shouldCancelZooms) {\n    if (typeof url == \"string\") {\n      this.p = new PMTiles(url);\n    } else {\n      this.p = url;\n    }\n    this.controllers = [];\n    this.shouldCancelZooms = shouldCancelZooms;\n  }\n  get(c2, tileSize) {\n    return __async(this, null, function* () {\n      if (this.shouldCancelZooms) {\n        this.controllers = this.controllers.filter((cont) => {\n          if (cont[0] != c2.z) {\n            cont[1].abort();\n            return false;\n          }\n          return true;\n        });\n      }\n      const controller = new AbortController();\n      this.controllers.push([c2.z, controller]);\n      const signal = controller.signal;\n      let result = yield this.p.getZxy(c2.z, c2.x, c2.y, signal);\n      if (result) {\n        return parseTile(result.data, tileSize);\n      } else {\n        return new Map();\n      }\n    });\n  }\n};\nvar ZxySource = class {\n  constructor(url, shouldCancelZooms) {\n    this.url = url;\n    this.controllers = [];\n    this.shouldCancelZooms = shouldCancelZooms;\n  }\n  get(c2, tileSize) {\n    return __async(this, null, function* () {\n      if (this.shouldCancelZooms) {\n        this.controllers = this.controllers.filter((cont) => {\n          if (cont[0] != c2.z) {\n            cont[1].abort();\n            return false;\n          }\n          return true;\n        });\n      }\n      let url = this.url.replace(\"{z}\", c2.z.toString()).replace(\"{x}\", c2.x.toString()).replace(\"{y}\", c2.y.toString());\n      const controller = new AbortController();\n      this.controllers.push([c2.z, controller]);\n      const signal = controller.signal;\n      return new Promise((resolve, reject) => {\n        fetch(url, { signal }).then((resp) => {\n          return resp.arrayBuffer();\n        }).then((buffer) => {\n          let result = parseTile(buffer, tileSize);\n          resolve(result);\n        }).catch((e2) => {\n          reject(e2);\n        });\n      });\n    });\n  }\n};\nvar R = 6378137;\nvar MAX_LATITUDE = 85.0511287798;\nvar MAXCOORD = R * Math.PI;\nvar project = (latlng) => {\n  let d = Math.PI / 180;\n  let constrained_lat = Math.max(Math.min(MAX_LATITUDE, latlng[0]), -MAX_LATITUDE);\n  let sin = Math.sin(constrained_lat * d);\n  return new import_point_geometry.default(R * latlng[1] * d, R * Math.log((1 + sin) / (1 - sin)) / 2);\n};\nfunction sqr(x2) {\n  return x2 * x2;\n}\nfunction dist2(v, w) {\n  return sqr(v.x - w.x) + sqr(v.y - w.y);\n}\nfunction distToSegmentSquared(p2, v, w) {\n  var l2 = dist2(v, w);\n  if (l2 === 0)\n    return dist2(p2, v);\n  var t2 = ((p2.x - v.x) * (w.x - v.x) + (p2.y - v.y) * (w.y - v.y)) / l2;\n  t2 = Math.max(0, Math.min(1, t2));\n  return dist2(p2, new import_point_geometry.default(v.x + t2 * (w.x - v.x), v.y + t2 * (w.y - v.y)));\n}\nfunction isInRing(point, ring) {\n  var inside = false;\n  for (var i3 = 0, j = ring.length - 1; i3 < ring.length; j = i3++) {\n    var xi = ring[i3].x, yi = ring[i3].y;\n    var xj = ring[j].x, yj = ring[j].y;\n    var intersect = yi > point.y != yj > point.y && point.x < (xj - xi) * (point.y - yi) / (yj - yi) + xi;\n    if (intersect)\n      inside = !inside;\n  }\n  return inside;\n}\nfunction isCCW(ring) {\n  var area = 0;\n  for (var i3 = 0; i3 < ring.length; i3++) {\n    let j = (i3 + 1) % ring.length;\n    area += ring[i3].x * ring[j].y;\n    area -= ring[j].x * ring[i3].y;\n  }\n  return area < 0;\n}\nfunction pointInPolygon(point, geom) {\n  var isInCurrentExterior = false;\n  for (let ring of geom) {\n    if (isCCW(ring)) {\n      if (isInRing(point, ring))\n        isInCurrentExterior = false;\n    } else {\n      if (isInCurrentExterior)\n        return true;\n      if (isInRing(point, ring))\n        isInCurrentExterior = true;\n    }\n  }\n  return isInCurrentExterior;\n}\nfunction pointMinDistToPoints(point, geom) {\n  let min = Infinity;\n  for (let l2 of geom) {\n    let dist = Math.sqrt(dist2(point, l2[0]));\n    if (dist < min)\n      min = dist;\n  }\n  return min;\n}\nfunction pointMinDistToLines(point, geom) {\n  let min = Infinity;\n  for (let l2 of geom) {\n    for (var i3 = 0; i3 < l2.length - 1; i3++) {\n      let dist = Math.sqrt(distToSegmentSquared(point, l2[i3], l2[i3 + 1]));\n      if (dist < min)\n        min = dist;\n    }\n  }\n  return min;\n}\nvar TileCache = class {\n  constructor(source, tileSize) {\n    this.source = source;\n    this.cache = new Map();\n    this.inflight = new Map();\n    this.tileSize = tileSize;\n  }\n  queryFeatures(lng, lat, zoom, brushSize) {\n    let projected = project([lat, lng]);\n    var normalized = new import_point_geometry.default((projected.x + MAXCOORD) / (MAXCOORD * 2), 1 - (projected.y + MAXCOORD) / (MAXCOORD * 2));\n    if (normalized.x > 1)\n      normalized.x = normalized.x - Math.floor(normalized.x);\n    let on_zoom = normalized.mult(1 << zoom);\n    let tile_x = Math.floor(on_zoom.x);\n    let tile_y = Math.floor(on_zoom.y);\n    const idx = toIndex({ z: zoom, x: tile_x, y: tile_y });\n    let retval = [];\n    let entry = this.cache.get(idx);\n    if (entry) {\n      const center = new import_point_geometry.default((on_zoom.x - tile_x) * this.tileSize, (on_zoom.y - tile_y) * this.tileSize);\n      for (let [layer_name, layer_arr] of entry.data.entries()) {\n        for (let feature of layer_arr) {\n          if (feature.geomType == 1) {\n            if (pointMinDistToPoints(center, feature.geom) < brushSize) {\n              retval.push({ feature, layerName: layer_name });\n            }\n          } else if (feature.geomType == 2) {\n            if (pointMinDistToLines(center, feature.geom) < brushSize) {\n              retval.push({ feature, layerName: layer_name });\n            }\n          } else {\n            if (pointInPolygon(center, feature.geom)) {\n              retval.push({ feature, layerName: layer_name });\n            }\n          }\n        }\n      }\n    }\n    return retval;\n  }\n  get(c2) {\n    return __async(this, null, function* () {\n      const idx = toIndex(c2);\n      return new Promise((resolve, reject) => {\n        let entry = this.cache.get(idx);\n        if (entry) {\n          entry.used = performance.now();\n          resolve(entry.data);\n        } else {\n          let ifentry = this.inflight.get(idx);\n          if (ifentry) {\n            ifentry.push([resolve, reject]);\n          } else {\n            this.inflight.set(idx, []);\n            this.source.get(c2, this.tileSize).then((tile) => {\n              this.cache.set(idx, { used: performance.now(), data: tile });\n              let ifentry2 = this.inflight.get(idx);\n              if (ifentry2)\n                ifentry2.forEach((f2) => f2[0](tile));\n              this.inflight.delete(idx);\n              resolve(tile);\n              if (this.cache.size >= 64) {\n                let min_used = Infinity;\n                let min_key = void 0;\n                this.cache.forEach((value, key) => {\n                  if (value.used < min_used) {\n                    min_used = value.used;\n                    min_key = key;\n                  }\n                });\n                if (min_key)\n                  this.cache.delete(min_key);\n              }\n            }).catch((e2) => {\n              let ifentry2 = this.inflight.get(idx);\n              if (ifentry2)\n                ifentry2.forEach((f2) => f2[1](e2));\n              this.inflight.delete(idx);\n              reject(e2);\n            });\n          }\n        }\n      });\n    });\n  }\n};\n\n// src/view.ts\nvar transformGeom = (geom, scale, translate) => {\n  let retval = [];\n  for (let arr2 of geom) {\n    let loop = [];\n    for (let coord of arr2) {\n      loop.push(coord.clone().mult(scale).add(translate));\n    }\n    retval.push(loop);\n  }\n  return retval;\n};\nvar wrap = (val, z2) => {\n  let dim = 1 << z2;\n  if (val < 0)\n    val = dim + val;\n  if (val >= dim)\n    val = val % dim;\n  return val;\n};\nvar View = class {\n  constructor(tileCache, maxDataLevel, levelDiff) {\n    this.tileCache = tileCache;\n    this.maxDataLevel = maxDataLevel;\n    this.levelDiff = levelDiff;\n  }\n  dataTilesForBounds(display_zoom, bounds) {\n    let fractional = Math.pow(2, display_zoom) / Math.pow(2, Math.ceil(display_zoom));\n    let needed = [];\n    var scale = 1;\n    var dim = this.tileCache.tileSize;\n    if (display_zoom < this.levelDiff) {\n      scale = 1 / (1 << this.levelDiff - display_zoom) * fractional;\n      needed.push({\n        data_tile: { z: 0, x: 0, y: 0 },\n        origin: new import_point_geometry2.default(0, 0),\n        scale,\n        dim: dim * scale\n      });\n    } else if (display_zoom <= this.levelDiff + this.maxDataLevel) {\n      let f2 = 1 << this.levelDiff;\n      let basetile_size = 256 * fractional;\n      let data_zoom = Math.ceil(display_zoom) - this.levelDiff;\n      let mintile_x = Math.floor(bounds.minX / f2 / basetile_size);\n      let mintile_y = Math.floor(bounds.minY / f2 / basetile_size);\n      let maxtile_x = Math.floor(bounds.maxX / f2 / basetile_size);\n      let maxtile_y = Math.floor(bounds.maxY / f2 / basetile_size);\n      for (var tx = mintile_x; tx <= maxtile_x; tx++) {\n        for (var ty = mintile_y; ty <= maxtile_y; ty++) {\n          let origin = new import_point_geometry2.default(tx * f2 * basetile_size, ty * f2 * basetile_size);\n          needed.push({\n            data_tile: {\n              z: data_zoom,\n              x: wrap(tx, data_zoom),\n              y: wrap(ty, data_zoom)\n            },\n            origin,\n            scale: fractional,\n            dim: dim * fractional\n          });\n        }\n      }\n    } else {\n      let f2 = 1 << this.levelDiff;\n      scale = (1 << Math.ceil(display_zoom) - this.maxDataLevel - this.levelDiff) * fractional;\n      let mintile_x = Math.floor(bounds.minX / f2 / 256 / scale);\n      let mintile_y = Math.floor(bounds.minY / f2 / 256 / scale);\n      let maxtile_x = Math.floor(bounds.maxX / f2 / 256 / scale);\n      let maxtile_y = Math.floor(bounds.maxY / f2 / 256 / scale);\n      for (var tx = mintile_x; tx <= maxtile_x; tx++) {\n        for (var ty = mintile_y; ty <= maxtile_y; ty++) {\n          let origin = new import_point_geometry2.default(tx * f2 * 256 * scale, ty * f2 * 256 * scale);\n          needed.push({\n            data_tile: {\n              z: this.maxDataLevel,\n              x: wrap(tx, this.maxDataLevel),\n              y: wrap(ty, this.maxDataLevel)\n            },\n            origin,\n            scale,\n            dim: dim * scale\n          });\n        }\n      }\n    }\n    return needed;\n  }\n  dataTileForDisplayTile(display_tile) {\n    var data_tile;\n    var scale = 1;\n    var dim = this.tileCache.tileSize;\n    var origin;\n    if (display_tile.z < this.levelDiff) {\n      data_tile = { z: 0, x: 0, y: 0 };\n      scale = 1 / (1 << this.levelDiff - display_tile.z);\n      origin = new import_point_geometry2.default(0, 0);\n      dim = dim * scale;\n    } else if (display_tile.z <= this.levelDiff + this.maxDataLevel) {\n      let f2 = 1 << this.levelDiff;\n      data_tile = {\n        z: display_tile.z - this.levelDiff,\n        x: Math.floor(display_tile.x / f2),\n        y: Math.floor(display_tile.y / f2)\n      };\n      origin = new import_point_geometry2.default(data_tile.x * f2 * 256, data_tile.y * f2 * 256);\n    } else {\n      scale = 1 << display_tile.z - this.maxDataLevel - this.levelDiff;\n      let f2 = 1 << this.levelDiff;\n      data_tile = {\n        z: this.maxDataLevel,\n        x: Math.floor(display_tile.x / f2 / scale),\n        y: Math.floor(display_tile.y / f2 / scale)\n      };\n      origin = new import_point_geometry2.default(data_tile.x * f2 * scale * 256, data_tile.y * f2 * scale * 256);\n      dim = dim * scale;\n    }\n    return { data_tile, scale, origin, dim };\n  }\n  getBbox(display_zoom, bounds) {\n    return __async(this, null, function* () {\n      let needed = this.dataTilesForBounds(display_zoom, bounds);\n      let result = yield Promise.all(needed.map((tt) => this.tileCache.get(tt.data_tile)));\n      return result.map((data, i3) => {\n        let tt = needed[i3];\n        return {\n          data,\n          z: display_zoom,\n          data_tile: tt.data_tile,\n          scale: tt.scale,\n          dim: tt.dim,\n          origin: tt.origin\n        };\n      });\n    });\n  }\n  getDisplayTile(display_tile) {\n    return __async(this, null, function* () {\n      let tt = this.dataTileForDisplayTile(display_tile);\n      const data = yield this.tileCache.get(tt.data_tile);\n      return {\n        data,\n        z: display_tile.z,\n        data_tile: tt.data_tile,\n        scale: tt.scale,\n        origin: tt.origin,\n        dim: tt.dim\n      };\n    });\n  }\n  queryFeatures(lng, lat, display_zoom) {\n    let rounded_zoom = Math.round(display_zoom);\n    let data_zoom = Math.min(rounded_zoom - this.levelDiff, this.maxDataLevel);\n    let brush_size = 16 / (1 << rounded_zoom - data_zoom);\n    return this.tileCache.queryFeatures(lng, lat, data_zoom, brush_size);\n  }\n};\nvar sourcesToViews = (options) => {\n  let sourceToViews = (o2) => {\n    let level_diff = o2.levelDiff === void 0 ? 2 : o2.levelDiff;\n    let maxDataZoom = o2.maxDataZoom || 14;\n    let source;\n    if (typeof o2.url === \"string\") {\n      if (o2.url.endsWith(\".pmtiles\")) {\n        source = new PmtilesSource(o2.url, true);\n      } else {\n        source = new ZxySource(o2.url, true);\n      }\n    } else {\n      source = new PmtilesSource(o2.url, true);\n    }\n    let cache = new TileCache(source, 256 * 1 << level_diff);\n    return new View(cache, maxDataZoom, level_diff);\n  };\n  let sources = new Map();\n  if (options.sources) {\n    for (const key in options.sources) {\n      sources.set(key, sourceToViews(options.sources[key]));\n    }\n  } else {\n    sources.set(\"\", sourceToViews(options));\n  }\n  return sources;\n};\n\n// src/painter.ts\nvar import_point_geometry3 = __toModule(require_point_geometry());\nfunction painter(ctx, z2, prepared_tilemap, label_data, rules, bbox, origin, clip, debug) {\n  let start = performance.now();\n  ctx.save();\n  ctx.miterLimit = 2;\n  for (var rule of rules) {\n    if (rule.minzoom && z2 < rule.minzoom)\n      continue;\n    if (rule.maxzoom && z2 > rule.maxzoom)\n      continue;\n    let prepared_tiles = prepared_tilemap.get(rule.dataSource || \"\");\n    if (!prepared_tiles)\n      continue;\n    for (let prepared_tile of prepared_tiles) {\n      var layer = prepared_tile.data.get(rule.dataLayer);\n      if (layer === void 0)\n        continue;\n      if (rule.symbolizer.before)\n        rule.symbolizer.before(ctx, prepared_tile.z);\n      let po = prepared_tile.origin;\n      let dim = prepared_tile.dim;\n      let ps = prepared_tile.scale;\n      ctx.save();\n      if (clip) {\n        ctx.beginPath();\n        let minX = Math.max(po.x - origin.x, bbox.minX - origin.x);\n        let minY = Math.max(po.y - origin.y, bbox.minY - origin.y);\n        let maxX = Math.min(po.x - origin.x + dim, bbox.maxX - origin.x);\n        let maxY = Math.min(po.y - origin.y + dim, bbox.maxY - origin.y);\n        ctx.rect(minX, minY, maxX - minX, maxY - minY);\n        ctx.clip();\n      }\n      ctx.translate(po.x - origin.x, po.y - origin.y);\n      for (var feature of layer) {\n        let geom = feature.geom;\n        let fbox = feature.bbox;\n        if (fbox.maxX * ps + po.x < bbox.minX || fbox.minX * ps + po.x > bbox.maxX || fbox.minY * ps + po.y > bbox.maxY || fbox.maxY * ps + po.y < bbox.minY) {\n          continue;\n        }\n        if (rule.filter && !rule.filter(prepared_tile.z, feature))\n          continue;\n        if (ps != 1) {\n          geom = transformGeom(geom, ps, new import_point_geometry3.default(0, 0));\n        }\n        rule.symbolizer.draw(ctx, geom, prepared_tile.z, feature);\n      }\n      ctx.restore();\n    }\n  }\n  if (clip) {\n    ctx.beginPath();\n    ctx.rect(bbox.minX - origin.x, bbox.minY - origin.y, bbox.maxX - bbox.minX, bbox.maxY - bbox.minY);\n    ctx.clip();\n  }\n  if (label_data) {\n    let matches = label_data.searchBbox(bbox, Infinity);\n    for (var label of matches) {\n      ctx.save();\n      ctx.translate(label.anchor.x - origin.x, label.anchor.y - origin.y);\n      label.draw(ctx);\n      ctx.restore();\n      if (debug) {\n        ctx.lineWidth = 0.5;\n        ctx.strokeStyle = debug;\n        ctx.fillStyle = debug;\n        ctx.globalAlpha = 1;\n        ctx.fillRect(label.anchor.x - origin.x - 2, label.anchor.y - origin.y - 2, 4, 4);\n        for (let bbox2 of label.bboxes) {\n          ctx.strokeRect(bbox2.minX - origin.x, bbox2.minY - origin.y, bbox2.maxX - bbox2.minX, bbox2.maxY - bbox2.minY);\n        }\n      }\n    }\n  }\n  ctx.restore();\n  return performance.now() - start;\n}\n\n// src/labeler.ts\nvar import_point_geometry4 = __toModule(require_point_geometry());\nvar import_rbush = __toModule(require_rbush_min());\nvar covering = (display_zoom, tile_width, bbox) => {\n  let res = 256;\n  let f2 = tile_width / res;\n  let minx = Math.floor(bbox.minX / res);\n  let miny = Math.floor(bbox.minY / res);\n  let maxx = Math.floor(bbox.maxX / res);\n  let maxy = Math.floor(bbox.maxY / res);\n  let leveldiff = Math.log2(f2);\n  let retval = [];\n  for (let x2 = minx; x2 <= maxx; x2++) {\n    let wrapped_x = x2 % (1 << display_zoom);\n    for (let y = miny; y <= maxy; y++) {\n      retval.push({\n        display: toIndex({ z: display_zoom, x: wrapped_x, y }),\n        key: toIndex({\n          z: display_zoom - leveldiff,\n          x: Math.floor(wrapped_x / f2),\n          y: Math.floor(y / f2)\n        })\n      });\n    }\n  }\n  return retval;\n};\nvar Index = class {\n  constructor(dim, maxLabeledTiles) {\n    this.tree = new import_rbush.default();\n    this.current = new Map();\n    this.dim = dim;\n    this.maxLabeledTiles = maxLabeledTiles;\n  }\n  hasPrefix(tileKey) {\n    for (let key of this.current.keys()) {\n      if (key.startsWith(tileKey))\n        return true;\n    }\n    return false;\n  }\n  has(tileKey) {\n    return this.current.has(tileKey);\n  }\n  size() {\n    return this.current.size;\n  }\n  keys() {\n    return this.current.keys();\n  }\n  searchBbox(bbox, order) {\n    let labels = new Set();\n    for (let match of this.tree.search(bbox)) {\n      if (match.indexed_label.order <= order) {\n        labels.add(match.indexed_label);\n      }\n    }\n    return labels;\n  }\n  searchLabel(label, order) {\n    let labels = new Set();\n    for (let bbox of label.bboxes) {\n      for (let match of this.tree.search(bbox)) {\n        if (match.indexed_label.order <= order) {\n          labels.add(match.indexed_label);\n        }\n      }\n    }\n    return labels;\n  }\n  bboxCollides(bbox, order) {\n    for (let match of this.tree.search(bbox)) {\n      if (match.indexed_label.order <= order)\n        return true;\n    }\n    return false;\n  }\n  labelCollides(label, order) {\n    for (let bbox of label.bboxes) {\n      for (let match of this.tree.search(bbox)) {\n        if (match.indexed_label.order <= order)\n          return true;\n      }\n    }\n    return false;\n  }\n  deduplicationCollides(label) {\n    if (!label.deduplicationKey || !label.deduplicationDistance)\n      return false;\n    let dist = label.deduplicationDistance;\n    let test_bbox = {\n      minX: label.anchor.x - dist,\n      minY: label.anchor.y - dist,\n      maxX: label.anchor.x + dist,\n      maxY: label.anchor.y + dist\n    };\n    for (let collision of this.tree.search(test_bbox)) {\n      if (collision.indexed_label.deduplicationKey === label.deduplicationKey) {\n        if (collision.indexed_label.anchor.dist(label.anchor) < dist) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n  makeEntry(tileKey) {\n    if (this.current.get(tileKey)) {\n      console.log(\"consistency error 1\");\n    }\n    let newSet = new Set();\n    this.current.set(tileKey, newSet);\n  }\n  insert(label, order, tileKey) {\n    let indexed_label = {\n      anchor: label.anchor,\n      bboxes: label.bboxes,\n      draw: label.draw,\n      order,\n      tileKey,\n      deduplicationKey: label.deduplicationKey,\n      deduplicationDistance: label.deduplicationDistance\n    };\n    let entry = this.current.get(tileKey);\n    if (!entry) {\n      let newSet = new Set();\n      this.current.set(tileKey, newSet);\n      entry = newSet;\n    }\n    entry.add(indexed_label);\n    var wrapsLeft = false;\n    var wrapsRight = false;\n    for (let bbox of label.bboxes) {\n      var b = bbox;\n      b.indexed_label = indexed_label;\n      this.tree.insert(b);\n      if (bbox.minX < 0)\n        wrapsLeft = true;\n      if (bbox.maxX > this.dim)\n        wrapsRight = true;\n    }\n    if (wrapsLeft || wrapsRight) {\n      var shift2 = wrapsLeft ? this.dim : -this.dim;\n      var new_bboxes = [];\n      for (let bbox of label.bboxes) {\n        new_bboxes.push({\n          minX: bbox.minX + shift2,\n          minY: bbox.minY,\n          maxX: bbox.maxX + shift2,\n          maxY: bbox.maxY\n        });\n      }\n      let duplicate_label = {\n        anchor: new import_point_geometry4.default(label.anchor.x + shift2, label.anchor.y),\n        bboxes: new_bboxes,\n        draw: label.draw,\n        order,\n        tileKey\n      };\n      let entry2 = this.current.get(tileKey);\n      if (entry2)\n        entry2.add(duplicate_label);\n      for (let bbox of new_bboxes) {\n        var b = bbox;\n        b.indexed_label = duplicate_label;\n        this.tree.insert(b);\n      }\n    }\n  }\n  pruneOrNoop(key_added) {\n    let added = key_added.split(\":\");\n    let max_key = void 0;\n    let max_dist = 0;\n    let keys_for_ds = 0;\n    for (var existing_key of this.current.keys()) {\n      let existing = existing_key.split(\":\");\n      if (existing[3] === added[3]) {\n        keys_for_ds++;\n        let dist = Math.sqrt(Math.pow(+existing[0] - +added[0], 2) + Math.pow(+existing[1] - +added[1], 2));\n        if (dist > max_dist) {\n          max_dist = dist;\n          max_key = existing_key;\n        }\n      }\n      if (max_key && keys_for_ds > this.maxLabeledTiles) {\n        this.pruneKey(max_key);\n      }\n    }\n  }\n  pruneKey(keyToRemove) {\n    let indexed_labels = this.current.get(keyToRemove);\n    if (!indexed_labels)\n      return;\n    let entries_to_delete = [];\n    for (let entry of this.tree.all()) {\n      if (indexed_labels.has(entry.indexed_label)) {\n        entries_to_delete.push(entry);\n      }\n    }\n    entries_to_delete.forEach((entry) => {\n      this.tree.remove(entry);\n    });\n    this.current.delete(keyToRemove);\n  }\n  removeLabel(labelToRemove) {\n    let entries_to_delete = [];\n    for (let entry of this.tree.all()) {\n      if (labelToRemove == entry.indexed_label) {\n        entries_to_delete.push(entry);\n      }\n    }\n    entries_to_delete.forEach((entry) => {\n      this.tree.remove(entry);\n    });\n    let c2 = this.current.get(labelToRemove.tileKey);\n    if (c2)\n      c2.delete(labelToRemove);\n  }\n};\nvar Labeler = class {\n  constructor(z2, scratch, labelRules2, maxLabeledTiles, callback) {\n    this.index = new Index(256 * 1 << z2, maxLabeledTiles);\n    this.z = z2;\n    this.scratch = scratch;\n    this.labelRules = labelRules2;\n    this.callback = callback;\n  }\n  layout(prepared_tilemap) {\n    let start = performance.now();\n    let keys_adding = new Set();\n    for (let [k, prepared_tiles] of prepared_tilemap) {\n      for (let prepared_tile of prepared_tiles) {\n        let key2 = toIndex(prepared_tile.data_tile) + \":\" + k;\n        if (!this.index.has(key2)) {\n          this.index.makeEntry(key2);\n          keys_adding.add(key2);\n        }\n      }\n    }\n    let tiles_invalidated = new Set();\n    for (let [order, rule] of this.labelRules.entries()) {\n      if (rule.visible == false)\n        continue;\n      if (rule.minzoom && this.z < rule.minzoom)\n        continue;\n      if (rule.maxzoom && this.z > rule.maxzoom)\n        continue;\n      let dsName = rule.dataSource || \"\";\n      let prepared_tiles = prepared_tilemap.get(dsName);\n      if (!prepared_tiles)\n        continue;\n      for (let prepared_tile of prepared_tiles) {\n        let key2 = toIndex(prepared_tile.data_tile) + \":\" + dsName;\n        if (!keys_adding.has(key2))\n          continue;\n        let layer = prepared_tile.data.get(rule.dataLayer);\n        if (layer === void 0)\n          continue;\n        let feats = layer;\n        if (rule.sort)\n          feats.sort((a2, b) => {\n            if (rule.sort) {\n              return rule.sort(a2.props, b.props);\n            }\n            return 0;\n          });\n        let layout = {\n          index: this.index,\n          zoom: this.z,\n          scratch: this.scratch,\n          order,\n          overzoom: this.z - prepared_tile.data_tile.z\n        };\n        for (let feature of feats) {\n          if (rule.filter && !rule.filter(this.z, feature))\n            continue;\n          let transformed = transformGeom(feature.geom, prepared_tile.scale, prepared_tile.origin);\n          let labels = rule.symbolizer.place(layout, transformed, feature);\n          if (!labels)\n            continue;\n          for (let label of labels) {\n            var label_added = false;\n            if (label.deduplicationKey && this.index.deduplicationCollides(label)) {\n              continue;\n            }\n            if (this.index.labelCollides(label, Infinity)) {\n              if (!this.index.labelCollides(label, order)) {\n                let conflicts = this.index.searchLabel(label, Infinity);\n                for (let conflict of conflicts) {\n                  this.index.removeLabel(conflict);\n                  for (let bbox of conflict.bboxes) {\n                    this.findInvalidatedTiles(tiles_invalidated, prepared_tile.dim, bbox, key2);\n                  }\n                }\n                this.index.insert(label, order, key2);\n                label_added = true;\n              }\n            } else {\n              this.index.insert(label, order, key2);\n              label_added = true;\n            }\n            if (label_added) {\n              for (let bbox of label.bboxes) {\n                if (bbox.maxX > prepared_tile.origin.x + prepared_tile.dim || bbox.minX < prepared_tile.origin.x || bbox.minY < prepared_tile.origin.y || bbox.maxY > prepared_tile.origin.y + prepared_tile.dim) {\n                  this.findInvalidatedTiles(tiles_invalidated, prepared_tile.dim, bbox, key2);\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    for (var key of keys_adding) {\n      this.index.pruneOrNoop(key);\n    }\n    if (tiles_invalidated.size > 0 && this.callback) {\n      this.callback(tiles_invalidated);\n    }\n    return performance.now() - start;\n  }\n  findInvalidatedTiles(tiles_invalidated, dim, bbox, key) {\n    let touched = covering(this.z, dim, bbox);\n    for (let s2 of touched) {\n      if (s2.key != key && this.index.hasPrefix(s2.key)) {\n        tiles_invalidated.add(s2.display);\n      }\n    }\n  }\n  add(prepared_tilemap) {\n    var all_added = true;\n    for (let [k, prepared_tiles] of prepared_tilemap) {\n      for (let prepared_tile of prepared_tiles) {\n        if (!this.index.has(toIndex(prepared_tile.data_tile) + \":\" + k))\n          all_added = false;\n      }\n    }\n    if (all_added) {\n      return 0;\n    } else {\n      let timing = this.layout(prepared_tilemap);\n      return timing;\n    }\n  }\n};\nvar Labelers = class {\n  constructor(scratch, labelRules2, maxLabeledTiles, callback) {\n    this.labelers = new Map();\n    this.scratch = scratch;\n    this.labelRules = labelRules2;\n    this.maxLabeledTiles = maxLabeledTiles;\n    this.callback = callback;\n  }\n  add(z2, prepared_tilemap) {\n    var labeler = this.labelers.get(z2);\n    if (labeler) {\n      return labeler.add(prepared_tilemap);\n    } else {\n      labeler = new Labeler(z2, this.scratch, this.labelRules, this.maxLabeledTiles, this.callback);\n      this.labelers.set(z2, labeler);\n      return labeler.add(prepared_tilemap);\n    }\n  }\n  getIndex(z2) {\n    let labeler = this.labelers.get(z2);\n    if (labeler)\n      return labeler.index;\n  }\n};\n\n// src/default_style/light.ts\nvar light = {\n  earth: \"#FFFBF6\",\n  glacier: \"#ffffff\",\n  residential: \"#F4F4F8\",\n  hospital: \"#FFF6F6\",\n  cemetery: \"#EFF2EE\",\n  school: \"#F7F6FF\",\n  industrial: \"#FFF9EF\",\n  wood: \"#F4F9EF\",\n  grass: \"#EBF9E3\",\n  park: \"#E5F9D5\",\n  water: \"#B7DFF2\",\n  sand: \"#ebebeb\",\n  buildings: \"#F2EDE8\",\n  highwayCasing: \"#FFC3C3\",\n  majorRoadCasing: \"#FFB9B9\",\n  mediumRoadCasing: \"#FFCE8E\",\n  minorRoadCasing: \"#cccccc\",\n  highway: \"#FFCEBB\",\n  majorRoad: \"#FFE4B3\",\n  mediumRoad: \"#FFF2C8\",\n  minorRoad: \"#ffffff\",\n  boundaries: \"#9e9e9e\",\n  mask: \"#dddddd\",\n  countryLabel: \"#aaaaaa\",\n  cityLabel: \"#6C6C6C\",\n  stateLabel: \"#999999\",\n  neighbourhoodLabel: \"#888888\",\n  landuseLabel: \"#898989\",\n  waterLabel: \"#41ABDC\",\n  naturalLabel: \"#4B8F14\",\n  roadsLabel: \"#888888\",\n  poisLabel: \"#606060\"\n};\n\n// src/default_style/dark.ts\nvar dark = {\n  earth: \"#151515\",\n  glacier: \"#1c1c1c\",\n  residential: \"#252B2F\",\n  hospital: \"#3E2C2C\",\n  cemetery: \"#36483D\",\n  school: \"#2C3440\",\n  industrial: \"#33312C\",\n  wood: \"#3A3E38\",\n  grass: \"#4E604D\",\n  park: \"#2C4034\",\n  water: \"#4D5B73\",\n  sand: \"#777777\",\n  buildings: \"#464545\",\n  highwayCasing: \"#000000\",\n  majorRoadCasing: \"#1C1B1B\",\n  mediumRoadCasing: \"#3E3E3E\",\n  minorRoadCasing: \"#000000\",\n  highway: \"#5B5B5B\",\n  majorRoad: \"#595959\",\n  mediumRoad: \"#4F4F4F\",\n  minorRoad: \"#393939\",\n  boundaries: \"#666666\",\n  mask: \"#dddddd\",\n  countryLabel: \"#ffffff\",\n  cityLabel: \"#FFFFFF\",\n  stateLabel: \"#ffffff\",\n  neighbourhoodLabel: \"#FDFDFD\",\n  landuseLabel: \"#DDDDDD\",\n  waterLabel: \"#707E95\",\n  naturalLabel: \"#4c4c4c\",\n  roadsLabel: \"#C4C4C4\",\n  poisLabel: \"#959393\"\n};\n\n// node_modules/color2k/dist/index.module.js\nfunction t(t2, n2, r2) {\n  return Math.min(Math.max(t2, r2), n2);\n}\nvar n = class extends Error {\n  constructor(t2) {\n    super(`Failed to parse color: \"${t2}\"`);\n  }\n};\nfunction r(r2) {\n  if (typeof r2 != \"string\")\n    throw new n(r2);\n  if (r2.trim().toLowerCase() === \"transparent\")\n    return [0, 0, 0, 0];\n  let e2 = r2.trim();\n  e2 = u.test(r2) ? function(t2) {\n    const r3 = t2.toLowerCase().trim(), e3 = o[function(t3) {\n      let n2 = 5381, r4 = t3.length;\n      for (; r4; )\n        n2 = 33 * n2 ^ t3.charCodeAt(--r4);\n      return (n2 >>> 0) % 2341;\n    }(r3)];\n    if (!e3)\n      throw new n(t2);\n    return `#${e3}`;\n  }(r2) : r2;\n  const f2 = s.exec(e2);\n  if (f2) {\n    const t2 = Array.from(f2).slice(1);\n    return [...t2.slice(0, 3).map((t3) => parseInt(_(t3, 2), 16)), parseInt(_(t2[3] || \"f\", 2), 16) / 255];\n  }\n  const p2 = i2.exec(e2);\n  if (p2) {\n    const t2 = Array.from(p2).slice(1);\n    return [...t2.slice(0, 3).map((t3) => parseInt(t3, 16)), parseInt(t2[3] || \"ff\", 16) / 255];\n  }\n  const z2 = a.exec(e2);\n  if (z2) {\n    const t2 = Array.from(z2).slice(1);\n    return [...t2.slice(0, 3).map((t3) => parseInt(t3, 10)), parseFloat(t2[3] || \"1\")];\n  }\n  const h = c.exec(e2);\n  if (h) {\n    const [e3, o2, _2, s2] = Array.from(h).slice(1).map(parseFloat);\n    if (t(0, 100, o2) !== o2)\n      throw new n(r2);\n    if (t(0, 100, _2) !== _2)\n      throw new n(r2);\n    return [...l(e3, o2, _2), s2 || 1];\n  }\n  throw new n(r2);\n}\nvar e = (t2) => parseInt(t2.replace(/_/g, \"\"), 36);\nvar o = \"1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm\".split(\" \").reduce((t2, n2) => {\n  const r2 = e(n2.substring(0, 3)), o2 = e(n2.substring(3)).toString(16);\n  let _2 = \"\";\n  for (let t3 = 0; t3 < 6 - o2.length; t3++)\n    _2 += \"0\";\n  return t2[r2] = `${_2}${o2}`, t2;\n}, {});\nvar _ = (t2, n2) => Array.from(Array(n2)).map(() => t2).join(\"\");\nvar s = new RegExp(`^#${_(\"([a-f0-9])\", 3)}([a-f0-9])?$`, \"i\");\nvar i2 = new RegExp(`^#${_(\"([a-f0-9]{2})\", 3)}([a-f0-9]{2})?$`, \"i\");\nvar a = new RegExp(`^rgba?\\\\(\\\\s*(\\\\d+)\\\\s*${_(\",\\\\s*(\\\\d+)\\\\s*\", 2)}(?:,\\\\s*([\\\\d.]+))?\\\\s*\\\\)$`, \"i\");\nvar c = /^hsla?\\(\\s*([\\d.]+)\\s*,\\s*([\\d.]+)%\\s*,\\s*([\\d.]+)%(?:\\s*,\\s*([\\d.]+))?\\s*\\)$/i;\nvar u = /^[a-z]+$/i;\nvar f = (t2) => Math.round(255 * t2);\nvar l = (t2, n2, r2) => {\n  let e2 = r2 / 100;\n  if (n2 === 0)\n    return [e2, e2, e2].map(f);\n  const o2 = (t2 % 360 + 360) % 360 / 60, _2 = (1 - Math.abs(2 * e2 - 1)) * (n2 / 100), s2 = _2 * (1 - Math.abs(o2 % 2 - 1));\n  let i3 = 0, a2 = 0, c2 = 0;\n  o2 >= 0 && o2 < 1 ? (i3 = _2, a2 = s2) : o2 >= 1 && o2 < 2 ? (i3 = s2, a2 = _2) : o2 >= 2 && o2 < 3 ? (a2 = _2, c2 = s2) : o2 >= 3 && o2 < 4 ? (a2 = s2, c2 = _2) : o2 >= 4 && o2 < 5 ? (i3 = s2, c2 = _2) : o2 >= 5 && o2 < 6 && (i3 = _2, c2 = s2);\n  const u2 = e2 - _2 / 2;\n  return [i3 + u2, a2 + u2, c2 + u2].map(f);\n};\nfunction p(t2) {\n  const [n2, e2, o2, _2] = r(t2).map((t3, n3) => n3 === 3 ? t3 : t3 / 255), s2 = Math.max(n2, e2, o2), i3 = Math.min(n2, e2, o2), a2 = (s2 + i3) / 2;\n  if (s2 === i3)\n    return [0, 0, a2, _2];\n  const c2 = s2 - i3;\n  return [60 * (n2 === s2 ? (e2 - o2) / c2 + (e2 < o2 ? 6 : 0) : e2 === s2 ? (o2 - n2) / c2 + 2 : (n2 - e2) / c2 + 4), a2 > 0.5 ? c2 / (2 - s2 - i3) : c2 / (s2 + i3), a2, _2];\n}\nfunction z(n2, r2, e2, o2) {\n  return `hsla(${(n2 % 360).toFixed()}, ${t(0, 100, 100 * r2).toFixed()}%, ${t(0, 100, 100 * e2).toFixed()}%, ${parseFloat(t(0, 1, o2).toFixed(3))})`;\n}\n\n// src/symbolizer.ts\nvar import_point_geometry6 = __toModule(require_point_geometry());\nvar import_unitbezier = __toModule(require_unitbezier_d());\nvar import_polylabel = __toModule(require_polylabel());\n\n// src/attribute.ts\nvar StringAttr = class {\n  constructor(c2, defaultValue) {\n    this.str = c2 != null ? c2 : defaultValue;\n    this.per_feature = typeof this.str == \"function\" && this.str.length == 2;\n  }\n  get(z2, f2) {\n    if (typeof this.str === \"function\") {\n      return this.str(z2, f2);\n    } else {\n      return this.str;\n    }\n  }\n};\nvar NumberAttr = class {\n  constructor(c2, defaultValue = 1) {\n    this.value = c2 != null ? c2 : defaultValue;\n    this.per_feature = typeof this.value == \"function\" && this.value.length == 2;\n  }\n  get(z2, f2) {\n    if (typeof this.value == \"function\") {\n      return this.value(z2, f2);\n    } else {\n      return this.value;\n    }\n  }\n};\nvar TextAttr = class {\n  constructor(options) {\n    var _a2;\n    this.label_props = (_a2 = options == null ? void 0 : options.label_props) != null ? _a2 : [\"name\"];\n    this.textTransform = options == null ? void 0 : options.textTransform;\n  }\n  get(z2, f2) {\n    let retval;\n    let label_props;\n    if (typeof this.label_props == \"function\") {\n      label_props = this.label_props(z2, f2);\n    } else {\n      label_props = this.label_props;\n    }\n    for (let property of label_props) {\n      if (f2.props.hasOwnProperty(property) && typeof f2.props[property] === \"string\") {\n        retval = f2.props[property];\n        break;\n      }\n    }\n    let transform;\n    if (typeof this.textTransform === \"function\") {\n      transform = this.textTransform(z2, f2);\n    } else {\n      transform = this.textTransform;\n    }\n    if (retval && transform === \"uppercase\")\n      retval = retval.toUpperCase();\n    else if (retval && transform === \"lowercase\")\n      retval = retval.toLowerCase();\n    else if (retval && transform === \"capitalize\") {\n      const wordsArray = retval.toLowerCase().split(\" \");\n      const capsArray = wordsArray.map((word) => {\n        return word[0].toUpperCase() + word.slice(1);\n      });\n      retval = capsArray.join(\" \");\n    }\n    return retval;\n  }\n};\nvar FontAttr = class {\n  constructor(options) {\n    var _a2, _b2;\n    if (options == null ? void 0 : options.font) {\n      this.font = options.font;\n    } else {\n      this.family = (_a2 = options == null ? void 0 : options.fontFamily) != null ? _a2 : \"sans-serif\";\n      this.size = (_b2 = options == null ? void 0 : options.fontSize) != null ? _b2 : 12;\n      this.weight = options == null ? void 0 : options.fontWeight;\n      this.style = options == null ? void 0 : options.fontStyle;\n    }\n  }\n  get(z2, f2) {\n    if (this.font) {\n      if (typeof this.font === \"function\") {\n        return this.font(z2, f2);\n      } else {\n        return this.font;\n      }\n    } else {\n      var style = \"\";\n      if (this.style) {\n        if (typeof this.style === \"function\") {\n          style = this.style(z2, f2) + \" \";\n        } else {\n          style = this.style + \" \";\n        }\n      }\n      var weight = \"\";\n      if (this.weight) {\n        if (typeof this.weight === \"function\") {\n          weight = this.weight(z2, f2) + \" \";\n        } else {\n          weight = this.weight + \" \";\n        }\n      }\n      var size;\n      if (typeof this.size === \"function\") {\n        size = this.size(z2, f2);\n      } else {\n        size = this.size;\n      }\n      var family;\n      if (typeof this.family === \"function\") {\n        family = this.family(z2, f2);\n      } else {\n        family = this.family;\n      }\n      return `${style}${weight}${size}px ${family}`;\n    }\n  }\n};\nvar ArrayAttr = class {\n  constructor(c2, defaultValue = []) {\n    this.value = c2 != null ? c2 : defaultValue;\n    this.per_feature = typeof this.value == \"function\" && this.value.length == 2;\n  }\n  get(z2, f2) {\n    if (typeof this.value == \"function\") {\n      return this.value(z2, f2);\n    } else {\n      return this.value;\n    }\n  }\n};\n\n// src/line.ts\nvar import_point_geometry5 = __toModule(require_point_geometry());\nvar linelabel = (pts, max_angle_delta, targetLen) => {\n  var chunks = [];\n  var a2, b, c2, i3 = 0, n2 = 0, d = 0;\n  var abmag = 0, bcmag = 0;\n  var abx = 0, aby = 0;\n  var bcx = 0, bcy = 0;\n  var dt = 0;\n  var i_start = 0;\n  var d_start = 0;\n  if (pts.length < 2)\n    return [];\n  if (pts.length === 2) {\n    d = Math.sqrt(Math.pow(pts[1].x - pts[0].x, 2) + Math.pow(pts[1].y - pts[0].y, 2));\n    return [\n      {\n        length: d,\n        beginIndex: 0,\n        beginDistance: 0,\n        endIndex: 2,\n        endDistance: d\n      }\n    ];\n  }\n  abmag = Math.sqrt(Math.pow(pts[1].x - pts[0].x, 2) + Math.pow(pts[1].y - pts[0].y, 2));\n  for (i3 = 1, n2 = pts.length - 1; i3 < n2; i3++) {\n    a2 = pts[i3 - 1];\n    b = pts[i3];\n    c2 = pts[i3 + 1];\n    abx = b.x - a2.x;\n    aby = b.y - a2.y;\n    bcx = c2.x - b.x;\n    bcy = c2.y - b.y;\n    bcmag = Math.sqrt(bcx * bcx + bcy * bcy);\n    d += abmag;\n    dt = Math.acos((abx * bcx + aby * bcy) / (abmag * bcmag));\n    if (dt > max_angle_delta || d - d_start > targetLen) {\n      chunks.push({\n        length: d - d_start,\n        beginDistance: d_start,\n        beginIndex: i_start,\n        endIndex: i3 + 1,\n        endDistance: d\n      });\n      i_start = i3;\n      d_start = d;\n    }\n    abmag = bcmag;\n  }\n  if (i3 - i_start > 0) {\n    chunks.push({\n      length: d - d_start + bcmag,\n      beginIndex: i_start,\n      beginDistance: d_start,\n      endIndex: i3 + 1,\n      endDistance: d + bcmag\n    });\n  }\n  return chunks;\n};\nfunction simpleLabel(mls, minimum, repeatDistance, cellSize) {\n  let longestStart;\n  let longestEnd;\n  let longestLength = 0;\n  let candidates = [];\n  var lastLabeledDistance = -Infinity;\n  for (let ls of mls) {\n    let segments = linelabel(ls, Math.PI / 45, minimum);\n    for (let segment of segments) {\n      if (segment.length >= minimum + cellSize) {\n        let start = new import_point_geometry5.default(ls[segment.beginIndex].x, ls[segment.beginIndex].y);\n        let end = ls[segment.endIndex - 1];\n        let normalized = new import_point_geometry5.default((end.x - start.x) / segment.length, (end.y - start.y) / segment.length);\n        for (var i3 = cellSize; i3 < segment.length - minimum; i3 += repeatDistance) {\n          candidates.push({\n            start: start.add(normalized.mult(i3)),\n            end: start.add(normalized.mult(i3 + minimum))\n          });\n        }\n      }\n    }\n  }\n  return candidates;\n}\nfunction lineCells(a2, b, length, spacing) {\n  let dx = b.x - a2.x;\n  let dy = b.y - a2.y;\n  let dist = Math.sqrt(Math.pow(b.x - a2.x, 2) + Math.pow(b.y - a2.y, 2));\n  let retval = [];\n  for (var i3 = 0; i3 < length + spacing; i3 += 2 * spacing) {\n    let factor = i3 * 1 / dist;\n    retval.push({ x: a2.x + factor * dx, y: a2.y + factor * dy });\n  }\n  return retval;\n}\n\n// src/text.ts\nfunction linebreak(str, maxUnits) {\n  if (str.length <= maxUnits)\n    return [str];\n  let endIndex = maxUnits - 1;\n  let space_before = str.lastIndexOf(\" \", endIndex);\n  let space_after = str.indexOf(\" \", endIndex);\n  if (space_before == -1 && space_after == -1) {\n    return [str];\n  }\n  let first;\n  let after;\n  if (space_after == -1 || space_before >= 0 && endIndex - space_before < space_after - endIndex) {\n    first = str.substring(0, space_before);\n    after = str.substring(space_before + 1, str.length);\n  } else {\n    first = str.substring(0, space_after);\n    after = str.substring(space_after + 1, str.length);\n  }\n  return [first, ...linebreak(after, maxUnits)];\n}\nvar CJK_CHARS = \"\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3220-\\u3229\\u3248-\\u324F\\u3251-\\u325F\\u3280-\\u3289\\u32B1-\\u32BF\\u3400-\\u4DB5\\u4E00-\\u9FEA\\uF900-\\uFA6D\\uFA70-\\uFAD9\\u2000\";\nvar cjk_test = new RegExp(\"^[\" + CJK_CHARS + \"]+$\");\n\n// src/symbolizer.ts\nvar MAX_VERTICES_PER_DRAW_CALL = 5400;\nvar Justify;\n(function(Justify2) {\n  Justify2[Justify2[\"Left\"] = 1] = \"Left\";\n  Justify2[Justify2[\"Center\"] = 2] = \"Center\";\n  Justify2[Justify2[\"Right\"] = 3] = \"Right\";\n})(Justify || (Justify = {}));\nvar TextPlacements;\n(function(TextPlacements2) {\n  TextPlacements2[TextPlacements2[\"N\"] = 1] = \"N\";\n  TextPlacements2[TextPlacements2[\"NE\"] = 2] = \"NE\";\n  TextPlacements2[TextPlacements2[\"E\"] = 3] = \"E\";\n  TextPlacements2[TextPlacements2[\"SE\"] = 4] = \"SE\";\n  TextPlacements2[TextPlacements2[\"S\"] = 5] = \"S\";\n  TextPlacements2[TextPlacements2[\"SW\"] = 6] = \"SW\";\n  TextPlacements2[TextPlacements2[\"W\"] = 7] = \"W\";\n  TextPlacements2[TextPlacements2[\"NW\"] = 8] = \"NW\";\n})(TextPlacements || (TextPlacements = {}));\nvar createPattern = (width, height, fn) => {\n  const canvas = document.createElement(\"canvas\");\n  const ctx = canvas.getContext(\"2d\");\n  canvas.width = width;\n  canvas.height = height;\n  if (ctx !== null)\n    fn(canvas, ctx);\n  return canvas;\n};\nvar PolygonSymbolizer = class {\n  constructor(options) {\n    var _a2;\n    this.pattern = options.pattern;\n    this.fill = new StringAttr(options.fill, \"black\");\n    this.opacity = new NumberAttr(options.opacity, 1);\n    this.stroke = new StringAttr(options.stroke, \"black\");\n    this.width = new NumberAttr(options.width, 0);\n    this.per_feature = (_a2 = this.fill.per_feature || this.opacity.per_feature || this.stroke.per_feature || this.width.per_feature || options.per_feature) != null ? _a2 : false;\n    this.do_stroke = false;\n  }\n  before(ctx, z2) {\n    if (!this.per_feature) {\n      ctx.globalAlpha = this.opacity.get(z2);\n      ctx.fillStyle = this.fill.get(z2);\n      ctx.strokeStyle = this.stroke.get(z2);\n      let width = this.width.get(z2);\n      if (width > 0)\n        this.do_stroke = true;\n      ctx.lineWidth = width;\n    }\n    if (this.pattern) {\n      const patten = ctx.createPattern(this.pattern, \"repeat\");\n      if (patten)\n        ctx.fillStyle = patten;\n    }\n  }\n  draw(ctx, geom, z2, f2) {\n    var do_stroke = false;\n    if (this.per_feature) {\n      ctx.globalAlpha = this.opacity.get(z2, f2);\n      ctx.fillStyle = this.fill.get(z2, f2);\n      var width = this.width.get(z2, f2);\n      if (width) {\n        do_stroke = true;\n        ctx.strokeStyle = this.stroke.get(z2, f2);\n        ctx.lineWidth = width;\n      }\n    }\n    let drawPath = () => {\n      ctx.fill();\n      if (do_stroke || this.do_stroke) {\n        ctx.stroke();\n      }\n    };\n    var vertices_in_path = 0;\n    ctx.beginPath();\n    for (var poly of geom) {\n      if (vertices_in_path + poly.length > MAX_VERTICES_PER_DRAW_CALL) {\n        drawPath();\n        vertices_in_path = 0;\n        ctx.beginPath();\n      }\n      for (var p2 = 0; p2 < poly.length; p2++) {\n        let pt = poly[p2];\n        if (p2 == 0)\n          ctx.moveTo(pt.x, pt.y);\n        else\n          ctx.lineTo(pt.x, pt.y);\n      }\n      vertices_in_path += poly.length;\n    }\n    if (vertices_in_path > 0)\n      drawPath();\n  }\n};\nfunction arr(base, a2) {\n  return (z2) => {\n    let b = z2 - base;\n    if (b >= 0 && b < a2.length) {\n      return a2[b];\n    }\n    return 0;\n  };\n}\nfunction getStopIndex(input, stops) {\n  let idx = 0;\n  while (stops[idx + 1][0] < input)\n    idx++;\n  return idx;\n}\nfunction interpolate(factor, start, end) {\n  return factor * (end - start) + start;\n}\nfunction computeInterpolationFactor(z2, idx, base, stops) {\n  const difference = stops[idx + 1][0] - stops[idx][0];\n  const progress = z2 - stops[idx][0];\n  if (difference === 0)\n    return 0;\n  else if (base === 1)\n    return progress / difference;\n  else\n    return (Math.pow(base, progress) - 1) / (Math.pow(base, difference) - 1);\n}\nfunction exp(base, stops) {\n  return (z2) => {\n    if (stops.length < 1)\n      return 0;\n    if (z2 <= stops[0][0])\n      return stops[0][1];\n    if (z2 >= stops[stops.length - 1][0])\n      return stops[stops.length - 1][1];\n    const idx = getStopIndex(z2, stops);\n    const factor = computeInterpolationFactor(z2, idx, base, stops);\n    return interpolate(factor, stops[idx][1], stops[idx + 1][1]);\n  };\n}\nfunction step(output0, stops) {\n  return (z2) => {\n    if (stops.length < 1)\n      return 0;\n    let retval = output0;\n    for (let i3 = 0; i3 < stops.length; i3++) {\n      if (z2 >= stops[i3][0])\n        retval = stops[i3][1];\n    }\n    return retval;\n  };\n}\nfunction linear(stops) {\n  return exp(1, stops);\n}\nfunction cubicBezier(x1, y1, x2, y2, stops) {\n  return (z2) => {\n    if (stops.length < 1)\n      return 0;\n    const bezier = new import_unitbezier.default(x1, y1, x2, y2);\n    const idx = getStopIndex(z2, stops);\n    const factor = bezier.solve(computeInterpolationFactor(z2, idx, 1, stops));\n    return interpolate(factor, stops[idx][1], stops[idx + 1][1]);\n  };\n}\nvar LineSymbolizer = class {\n  constructor(options) {\n    var _a2;\n    this.color = new StringAttr(options.color, \"black\");\n    this.width = new NumberAttr(options.width);\n    this.opacity = new NumberAttr(options.opacity);\n    this.dash = options.dash ? new ArrayAttr(options.dash) : null;\n    this.dashColor = new StringAttr(options.dashColor, \"black\");\n    this.dashWidth = new NumberAttr(options.dashWidth, 1);\n    this.lineCap = new StringAttr(options.lineCap, \"butt\");\n    this.lineJoin = new StringAttr(options.lineJoin, \"miter\");\n    this.skip = false;\n    this.per_feature = !!(((_a2 = this.dash) == null ? void 0 : _a2.per_feature) || this.color.per_feature || this.opacity.per_feature || this.width.per_feature || this.lineCap.per_feature || this.lineJoin.per_feature || options.per_feature);\n  }\n  before(ctx, z2) {\n    if (!this.per_feature) {\n      ctx.strokeStyle = this.color.get(z2);\n      ctx.lineWidth = this.width.get(z2);\n      ctx.globalAlpha = this.opacity.get(z2);\n      ctx.lineCap = this.lineCap.get(z2);\n      ctx.lineJoin = this.lineJoin.get(z2);\n    }\n  }\n  draw(ctx, geom, z2, f2) {\n    if (this.skip)\n      return;\n    let strokePath = () => {\n      if (this.per_feature) {\n        ctx.globalAlpha = this.opacity.get(z2, f2);\n        ctx.lineCap = this.lineCap.get(z2, f2);\n        ctx.lineJoin = this.lineJoin.get(z2, f2);\n      }\n      if (this.dash) {\n        ctx.save();\n        if (this.per_feature) {\n          ctx.lineWidth = this.dashWidth.get(z2, f2);\n          ctx.strokeStyle = this.dashColor.get(z2, f2);\n          ctx.setLineDash(this.dash.get(z2, f2));\n        } else {\n          ctx.setLineDash(this.dash.get(z2));\n        }\n        ctx.stroke();\n        ctx.restore();\n      } else {\n        ctx.save();\n        if (this.per_feature) {\n          ctx.lineWidth = this.width.get(z2, f2);\n          ctx.strokeStyle = this.color.get(z2, f2);\n        }\n        ctx.stroke();\n        ctx.restore();\n      }\n    };\n    var vertices_in_path = 0;\n    ctx.beginPath();\n    for (var ls of geom) {\n      if (vertices_in_path + ls.length > MAX_VERTICES_PER_DRAW_CALL) {\n        strokePath();\n        vertices_in_path = 0;\n        ctx.beginPath();\n      }\n      for (var p2 = 0; p2 < ls.length; p2++) {\n        let pt = ls[p2];\n        if (p2 == 0)\n          ctx.moveTo(pt.x, pt.y);\n        else\n          ctx.lineTo(pt.x, pt.y);\n      }\n      vertices_in_path += ls.length;\n    }\n    if (vertices_in_path > 0)\n      strokePath();\n  }\n};\nvar IconSymbolizer = class {\n  constructor(options) {\n    this.name = options.name;\n    this.sheet = options.sheet;\n    this.dpr = window.devicePixelRatio;\n  }\n  place(layout, geom, feature) {\n    let pt = geom[0];\n    let a2 = new import_point_geometry6.default(geom[0][0].x, geom[0][0].y);\n    let loc = this.sheet.get(this.name);\n    let width = loc.w / this.dpr;\n    let height = loc.h / this.dpr;\n    let bbox = {\n      minX: a2.x - width / 2,\n      minY: a2.y - height / 2,\n      maxX: a2.x + width / 2,\n      maxY: a2.y + height / 2\n    };\n    let draw = (ctx) => {\n      ctx.globalAlpha = 1;\n      ctx.drawImage(this.sheet.canvas, loc.x, loc.y, loc.w, loc.h, -loc.w / 2 / this.dpr, -loc.h / 2 / this.dpr, loc.w / 2, loc.h / 2);\n    };\n    return [{ anchor: a2, bboxes: [bbox], draw }];\n  }\n};\nvar CircleSymbolizer = class {\n  constructor(options) {\n    this.radius = new NumberAttr(options.radius, 3);\n    this.fill = new StringAttr(options.fill, \"black\");\n    this.stroke = new StringAttr(options.stroke, \"white\");\n    this.width = new NumberAttr(options.width, 0);\n    this.opacity = new NumberAttr(options.opacity);\n  }\n  draw(ctx, geom, z2, f2) {\n    ctx.globalAlpha = this.opacity.get(z2, f2);\n    let radius = this.radius.get(z2, f2);\n    let width = this.width.get(z2, f2);\n    if (width > 0) {\n      ctx.strokeStyle = this.stroke.get(z2, f2);\n      ctx.lineWidth = width;\n      ctx.beginPath();\n      ctx.arc(geom[0][0].x, geom[0][0].y, radius + width / 2, 0, 2 * Math.PI);\n      ctx.stroke();\n    }\n    ctx.fillStyle = this.fill.get(z2, f2);\n    ctx.beginPath();\n    ctx.arc(geom[0][0].x, geom[0][0].y, radius, 0, 2 * Math.PI);\n    ctx.fill();\n  }\n  place(layout, geom, feature) {\n    let pt = geom[0];\n    let a2 = new import_point_geometry6.default(geom[0][0].x, geom[0][0].y);\n    let radius = this.radius.get(layout.zoom, feature);\n    let bbox = {\n      minX: a2.x - radius,\n      minY: a2.y - radius,\n      maxX: a2.x + radius,\n      maxY: a2.y + radius\n    };\n    let draw = (ctx) => {\n      this.draw(ctx, [[new import_point_geometry6.default(0, 0)]], layout.zoom, feature);\n    };\n    return [{ anchor: a2, bboxes: [bbox], draw }];\n  }\n};\nvar ShieldSymbolizer = class {\n  constructor(options) {\n    this.font = new FontAttr(options);\n    this.text = new TextAttr(options);\n    this.fill = new StringAttr(options.fill, \"black\");\n    this.background = new StringAttr(options.background, \"white\");\n    this.padding = new NumberAttr(options.padding, 0);\n  }\n  place(layout, geom, f2) {\n    let property = this.text.get(layout.zoom, f2);\n    if (!property)\n      return void 0;\n    let font = this.font.get(layout.zoom, f2);\n    layout.scratch.font = font;\n    let metrics = layout.scratch.measureText(property);\n    let width = metrics.width;\n    let ascent = metrics.actualBoundingBoxAscent;\n    let descent = metrics.actualBoundingBoxDescent;\n    let pt = geom[0];\n    let a2 = new import_point_geometry6.default(geom[0][0].x, geom[0][0].y);\n    let p2 = this.padding.get(layout.zoom, f2);\n    let bbox = {\n      minX: a2.x - width / 2 - p2,\n      minY: a2.y - ascent - p2,\n      maxX: a2.x + width / 2 + p2,\n      maxY: a2.y + descent + p2\n    };\n    let draw = (ctx) => {\n      ctx.globalAlpha = 1;\n      ctx.fillStyle = this.background.get(layout.zoom, f2);\n      ctx.fillRect(-width / 2 - p2, -ascent - p2, width + 2 * p2, ascent + descent + 2 * p2);\n      ctx.fillStyle = this.fill.get(layout.zoom, f2);\n      ctx.font = font;\n      ctx.fillText(property, -width / 2, 0);\n    };\n    return [{ anchor: a2, bboxes: [bbox], draw }];\n  }\n};\nvar FlexSymbolizer = class {\n  constructor(list) {\n    this.list = list;\n  }\n  place(layout, geom, feature) {\n    var labels = this.list[0].place(layout, geom, feature);\n    if (!labels)\n      return void 0;\n    var label = labels[0];\n    let anchor = label.anchor;\n    let bbox = label.bboxes[0];\n    let height = bbox.maxY - bbox.minY;\n    let draws = [{ draw: label.draw, translate: { x: 0, y: 0 } }];\n    let newGeom = [[new import_point_geometry6.default(geom[0][0].x, geom[0][0].y + height)]];\n    for (let i3 = 1; i3 < this.list.length; i3++) {\n      labels = this.list[i3].place(layout, newGeom, feature);\n      if (labels) {\n        label = labels[0];\n        bbox = mergeBbox(bbox, label.bboxes[0]);\n        draws.push({ draw: label.draw, translate: { x: 0, y: height } });\n      }\n    }\n    let draw = (ctx) => {\n      for (let sub of draws) {\n        ctx.save();\n        ctx.translate(sub.translate.x, sub.translate.y);\n        sub.draw(ctx);\n        ctx.restore();\n      }\n    };\n    return [{ anchor, bboxes: [bbox], draw }];\n  }\n};\nvar mergeBbox = (b1, b2) => {\n  return {\n    minX: Math.min(b1.minX, b2.minX),\n    minY: Math.min(b1.minY, b2.minY),\n    maxX: Math.max(b1.maxX, b2.maxX),\n    maxY: Math.max(b1.maxY, b2.maxY)\n  };\n};\nvar GroupSymbolizer = class {\n  constructor(list) {\n    this.list = list;\n  }\n  place(layout, geom, feature) {\n    let first = this.list[0];\n    if (!first)\n      return void 0;\n    var labels = first.place(layout, geom, feature);\n    if (!labels)\n      return void 0;\n    var label = labels[0];\n    let anchor = label.anchor;\n    let bbox = label.bboxes[0];\n    let draws = [label.draw];\n    for (let i3 = 1; i3 < this.list.length; i3++) {\n      labels = this.list[i3].place(layout, geom, feature);\n      if (!labels)\n        return void 0;\n      label = labels[0];\n      bbox = mergeBbox(bbox, label.bboxes[0]);\n      draws.push(label.draw);\n    }\n    let draw = (ctx) => {\n      draws.forEach((d) => d(ctx));\n    };\n    return [{ anchor, bboxes: [bbox], draw }];\n  }\n};\nvar CenteredSymbolizer = class {\n  constructor(symbolizer) {\n    this.symbolizer = symbolizer;\n  }\n  place(layout, geom, feature) {\n    let a2 = geom[0][0];\n    let placed = this.symbolizer.place(layout, [[new import_point_geometry6.default(0, 0)]], feature);\n    if (!placed || placed.length == 0)\n      return void 0;\n    let first_label = placed[0];\n    let bbox = first_label.bboxes[0];\n    let width = bbox.maxX - bbox.minX;\n    let height = bbox.maxY - bbox.minY;\n    let centered = {\n      minX: a2.x - width / 2,\n      maxX: a2.x + width / 2,\n      minY: a2.y - height / 2,\n      maxY: a2.y + height / 2\n    };\n    let draw = (ctx) => {\n      ctx.translate(-width / 2, height / 2 - bbox.maxY);\n      first_label.draw(ctx, { justify: 2 });\n    };\n    return [{ anchor: a2, bboxes: [centered], draw }];\n  }\n};\nvar Padding = class {\n  constructor(padding, symbolizer) {\n    this.padding = new NumberAttr(padding, 0);\n    this.symbolizer = symbolizer;\n  }\n  place(layout, geom, feature) {\n    let placed = this.symbolizer.place(layout, geom, feature);\n    if (!placed || placed.length == 0)\n      return void 0;\n    let padding = this.padding.get(layout.zoom, feature);\n    for (var label of placed) {\n      for (var bbox of label.bboxes) {\n        bbox.minX -= padding;\n        bbox.minY -= padding;\n        bbox.maxX += padding;\n        bbox.maxY += padding;\n      }\n    }\n    return placed;\n  }\n};\nvar TextSymbolizer = class {\n  constructor(options) {\n    this.font = new FontAttr(options);\n    this.text = new TextAttr(options);\n    this.fill = new StringAttr(options.fill, \"black\");\n    this.stroke = new StringAttr(options.stroke, \"black\");\n    this.width = new NumberAttr(options.width, 0);\n    this.lineHeight = new NumberAttr(options.lineHeight, 1);\n    this.letterSpacing = new NumberAttr(options.letterSpacing, 0);\n    this.maxLineCodeUnits = new NumberAttr(options.maxLineChars, 15);\n    this.justify = options.justify;\n  }\n  place(layout, geom, feature) {\n    let property = this.text.get(layout.zoom, feature);\n    if (!property)\n      return void 0;\n    let font = this.font.get(layout.zoom, feature);\n    layout.scratch.font = font;\n    let letterSpacing = this.letterSpacing.get(layout.zoom, feature);\n    let lines = linebreak(property, this.maxLineCodeUnits.get(layout.zoom, feature));\n    var longestLine = \"\";\n    var longestLineLen = 0;\n    for (let line of lines) {\n      if (line.length > longestLineLen) {\n        longestLineLen = line.length;\n        longestLine = line;\n      }\n    }\n    let metrics = layout.scratch.measureText(longestLine);\n    let width = metrics.width + letterSpacing * (longestLineLen - 1);\n    let ascent = metrics.actualBoundingBoxAscent;\n    let descent = metrics.actualBoundingBoxDescent;\n    let lineHeight = (ascent + descent) * this.lineHeight.get(layout.zoom, feature);\n    let a2 = new import_point_geometry6.default(geom[0][0].x, geom[0][0].y);\n    let bbox = {\n      minX: a2.x,\n      minY: a2.y - ascent,\n      maxX: a2.x + width,\n      maxY: a2.y + descent + (lines.length - 1) * lineHeight\n    };\n    let draw = (ctx, extra) => {\n      ctx.globalAlpha = 1;\n      ctx.font = font;\n      ctx.fillStyle = this.fill.get(layout.zoom, feature);\n      let textStrokeWidth = this.width.get(layout.zoom, feature);\n      var y = 0;\n      for (let line of lines) {\n        var startX = 0;\n        if (this.justify == 2 || extra && extra.justify == 2) {\n          startX = (width - ctx.measureText(line).width) / 2;\n        } else if (this.justify == 3 || extra && extra.justify == 3) {\n          startX = width - ctx.measureText(line).width;\n        }\n        if (textStrokeWidth) {\n          ctx.lineWidth = textStrokeWidth * 2;\n          ctx.strokeStyle = this.stroke.get(layout.zoom, feature);\n          if (letterSpacing > 0) {\n            var xPos = startX;\n            for (var letter of line) {\n              ctx.strokeText(letter, xPos, y);\n              xPos += ctx.measureText(letter).width + letterSpacing;\n            }\n          } else {\n            ctx.strokeText(line, startX, y);\n          }\n        }\n        if (letterSpacing > 0) {\n          var xPos = startX;\n          for (var letter of line) {\n            ctx.fillText(letter, xPos, y);\n            xPos += ctx.measureText(letter).width + letterSpacing;\n          }\n        } else {\n          ctx.fillText(line, startX, y);\n        }\n        y += lineHeight;\n      }\n    };\n    return [{ anchor: a2, bboxes: [bbox], draw }];\n  }\n};\nvar CenteredTextSymbolizer = class {\n  constructor(options) {\n    this.centered = new CenteredSymbolizer(new TextSymbolizer(options));\n  }\n  place(layout, geom, feature) {\n    return this.centered.place(layout, geom, feature);\n  }\n};\nvar OffsetSymbolizer = class {\n  constructor(symbolizer, options) {\n    var _a2, _b2, _c;\n    this.symbolizer = symbolizer;\n    this.offsetX = new NumberAttr(options.offsetX, 0);\n    this.offsetY = new NumberAttr(options.offsetY, 0);\n    this.justify = (_a2 = options.justify) != null ? _a2 : void 0;\n    this.placements = (_b2 = options.placements) != null ? _b2 : [\n      2,\n      6,\n      8,\n      4,\n      1,\n      3,\n      5,\n      7\n    ];\n    this.ddValues = (_c = options.ddValues) != null ? _c : () => {\n      return {};\n    };\n  }\n  place(layout, geom, feature) {\n    if (feature.geomType !== GeomType.Point)\n      return void 0;\n    let anchor = geom[0][0];\n    let placed = this.symbolizer.place(layout, [[new import_point_geometry6.default(0, 0)]], feature);\n    if (!placed || placed.length == 0)\n      return void 0;\n    let first_label = placed[0];\n    let fb = first_label.bboxes[0];\n    let offsetXValue = this.offsetX;\n    let offsetYValue = this.offsetY;\n    let justifyValue = this.justify;\n    let placements = this.placements;\n    const {\n      offsetX: ddOffsetX,\n      offsetY: ddOffsetY,\n      justify: ddJustify,\n      placements: ddPlacements\n    } = this.ddValues(layout.zoom, feature) || {};\n    if (ddOffsetX)\n      offsetXValue = new NumberAttr(ddOffsetX, 0);\n    if (ddOffsetY)\n      offsetYValue = new NumberAttr(ddOffsetY, 0);\n    if (ddJustify)\n      justifyValue = ddJustify;\n    if (ddPlacements)\n      placements = ddPlacements;\n    const offsetX = offsetXValue.get(layout.zoom, feature);\n    const offsetY = offsetYValue.get(layout.zoom, feature);\n    let getBbox = (a2, o2) => {\n      return {\n        minX: a2.x + o2.x + fb.minX,\n        minY: a2.y + o2.y + fb.minY,\n        maxX: a2.x + o2.x + fb.maxX,\n        maxY: a2.y + o2.y + fb.maxY\n      };\n    };\n    var origin = new import_point_geometry6.default(offsetX, offsetY);\n    var justify;\n    let draw = (ctx) => {\n      ctx.translate(origin.x, origin.y);\n      first_label.draw(ctx, { justify });\n    };\n    const placeLabelInPoint = (a2, o2) => {\n      const bbox = getBbox(a2, o2);\n      if (!layout.index.bboxCollides(bbox, layout.order))\n        return [{ anchor, bboxes: [bbox], draw }];\n    };\n    for (let placement of placements) {\n      const xAxisOffset = this.computeXAxisOffset(offsetX, fb, placement);\n      const yAxisOffset = this.computeYAxisOffset(offsetY, fb, placement);\n      justify = this.computeJustify(justifyValue, placement);\n      origin = new import_point_geometry6.default(xAxisOffset, yAxisOffset);\n      return placeLabelInPoint(anchor, origin);\n    }\n    return void 0;\n  }\n  computeXAxisOffset(offsetX, fb, placement) {\n    const labelWidth = fb.maxX;\n    const labelHalfWidth = labelWidth / 2;\n    if ([1, 5].includes(placement))\n      return offsetX - labelHalfWidth;\n    if ([8, 7, 6].includes(placement))\n      return offsetX - labelWidth;\n    return offsetX;\n  }\n  computeYAxisOffset(offsetY, fb, placement) {\n    const labelHalfHeight = Math.abs(fb.minY);\n    const labelBottom = fb.maxY;\n    const labelCenterHeight = (fb.minY + fb.maxY) / 2;\n    if ([3, 7].includes(placement))\n      return offsetY - labelCenterHeight;\n    if ([8, 2, 1].includes(placement))\n      return offsetY - labelBottom;\n    if ([6, 4, 5].includes(placement))\n      return offsetY + labelHalfHeight;\n    return offsetY;\n  }\n  computeJustify(fixedJustify, placement) {\n    if (fixedJustify)\n      return fixedJustify;\n    if ([1, 5].includes(placement))\n      return 2;\n    if ([2, 3, 4].includes(placement))\n      return 1;\n    return 3;\n  }\n};\nvar OffsetTextSymbolizer = class {\n  constructor(options) {\n    this.symbolizer = new OffsetSymbolizer(new TextSymbolizer(options), options);\n  }\n  place(layout, geom, feature) {\n    return this.symbolizer.place(layout, geom, feature);\n  }\n};\nvar LineLabelPlacement;\n(function(LineLabelPlacement2) {\n  LineLabelPlacement2[LineLabelPlacement2[\"Above\"] = 1] = \"Above\";\n  LineLabelPlacement2[LineLabelPlacement2[\"Center\"] = 2] = \"Center\";\n  LineLabelPlacement2[LineLabelPlacement2[\"Below\"] = 3] = \"Below\";\n})(LineLabelPlacement || (LineLabelPlacement = {}));\nvar LineLabelSymbolizer = class {\n  constructor(options) {\n    var _a2;\n    this.font = new FontAttr(options);\n    this.text = new TextAttr(options);\n    this.fill = new StringAttr(options.fill, \"black\");\n    this.stroke = new StringAttr(options.stroke, \"black\");\n    this.width = new NumberAttr(options.width, 0);\n    this.offset = new NumberAttr(options.offset, 0);\n    this.position = (_a2 = options.position) != null ? _a2 : 1;\n    this.maxLabelCodeUnits = new NumberAttr(options.maxLabelChars, 40);\n    this.repeatDistance = new NumberAttr(options.repeatDistance, 250);\n  }\n  place(layout, geom, feature) {\n    let name = this.text.get(layout.zoom, feature);\n    if (!name)\n      return void 0;\n    if (name.length > this.maxLabelCodeUnits.get(layout.zoom, feature))\n      return void 0;\n    let MIN_LABELABLE_DIM = 20;\n    let fbbox = feature.bbox;\n    if (fbbox.maxY - fbbox.minY < MIN_LABELABLE_DIM && fbbox.maxX - fbbox.minX < MIN_LABELABLE_DIM)\n      return void 0;\n    let font = this.font.get(layout.zoom, feature);\n    layout.scratch.font = font;\n    let metrics = layout.scratch.measureText(name);\n    let width = metrics.width;\n    let height = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;\n    var repeatDistance = this.repeatDistance.get(layout.zoom, feature);\n    if (layout.overzoom > 4)\n      repeatDistance *= 1 << layout.overzoom - 4;\n    let cell_size = height * 2;\n    let label_candidates = simpleLabel(geom, width, repeatDistance, cell_size);\n    if (label_candidates.length == 0)\n      return void 0;\n    let labels = [];\n    for (let candidate of label_candidates) {\n      let dx = candidate.end.x - candidate.start.x;\n      let dy = candidate.end.y - candidate.start.y;\n      let cells = lineCells(candidate.start, candidate.end, width, cell_size / 2);\n      let bboxes = cells.map((c2) => {\n        return {\n          minX: c2.x - cell_size / 2,\n          minY: c2.y - cell_size / 2,\n          maxX: c2.x + cell_size / 2,\n          maxY: c2.y + cell_size / 2\n        };\n      });\n      let draw = (ctx) => {\n        ctx.globalAlpha = 1;\n        ctx.rotate(Math.atan2(dy, dx));\n        if (dx < 0) {\n          ctx.scale(-1, -1);\n          ctx.translate(-width, 0);\n        }\n        let heightPlacement = 0;\n        if (this.position === 3)\n          heightPlacement += height;\n        else if (this.position === 2)\n          heightPlacement += height / 2;\n        ctx.translate(0, heightPlacement - this.offset.get(layout.zoom, feature));\n        ctx.font = font;\n        let lineWidth = this.width.get(layout.zoom, feature);\n        if (lineWidth) {\n          ctx.lineWidth = lineWidth;\n          ctx.strokeStyle = this.stroke.get(layout.zoom, feature);\n          ctx.strokeText(name, 0, 0);\n        }\n        ctx.fillStyle = this.fill.get(layout.zoom, feature);\n        ctx.fillText(name, 0, 0);\n      };\n      labels.push({\n        anchor: candidate.start,\n        bboxes,\n        draw,\n        deduplicationKey: name,\n        deduplicationDistance: repeatDistance\n      });\n    }\n    return labels;\n  }\n};\nvar PolygonLabelSymbolizer = class {\n  constructor(options) {\n    this.symbolizer = new TextSymbolizer(options);\n  }\n  place(layout, geom, feature) {\n    let fbbox = feature.bbox;\n    let area = (fbbox.maxY - fbbox.minY) * (fbbox.maxX - fbbox.minX);\n    if (area < 2e4)\n      return void 0;\n    let placed = this.symbolizer.place(layout, [[new import_point_geometry6.default(0, 0)]], feature);\n    if (!placed || placed.length == 0)\n      return void 0;\n    let first_label = placed[0];\n    let fb = first_label.bboxes[0];\n    let first_poly = geom[0];\n    let found = (0, import_polylabel.default)([first_poly.map((c2) => [c2.x, c2.y])]);\n    let a2 = new import_point_geometry6.default(found[0], found[1]);\n    let bbox = {\n      minX: a2.x - (fb.maxX - fb.minX) / 2,\n      minY: a2.y - (fb.maxY - fb.minY) / 2,\n      maxX: a2.x + (fb.maxX - fb.minX) / 2,\n      maxY: a2.y + (fb.maxY - fb.minY) / 2\n    };\n    let draw = (ctx) => {\n      ctx.translate(first_label.anchor.x - (fb.maxX - fb.minX) / 2, first_label.anchor.y);\n      first_label.draw(ctx);\n    };\n    return [{ anchor: a2, bboxes: [bbox], draw }];\n  }\n};\n\n// src/default_style/style.ts\nvar doShading = (params, shade) => {\n  let shadeHsl = p(shade);\n  let outParams = __spreadValues({}, params);\n  for (const [key, value] of Object.entries(params)) {\n    let o2 = p(value);\n    outParams[key] = z(shadeHsl[0], shadeHsl[1], o2[2], o2[3]);\n  }\n  return outParams;\n};\nvar paintRules = (params, shade) => {\n  if (shade)\n    params = doShading(params, shade);\n  return [\n    {\n      dataLayer: \"earth\",\n      symbolizer: new PolygonSymbolizer({\n        fill: params.earth\n      })\n    },\n    {\n      dataLayer: \"natural\",\n      symbolizer: new PolygonSymbolizer({\n        fill: params.glacier\n      }),\n      filter: (z2, f2) => {\n        return f2.props.natural == \"glacier\";\n      }\n    },\n    {\n      dataLayer: \"landuse\",\n      symbolizer: new PolygonSymbolizer({\n        fill: params.residential\n      }),\n      filter: (z2, f2) => {\n        return f2.props.landuse == \"residential\" || f2.props.place == \"neighbourhood\";\n      }\n    },\n    {\n      dataLayer: \"landuse\",\n      symbolizer: new PolygonSymbolizer({\n        fill: params.hospital\n      }),\n      filter: (z2, f2) => {\n        return f2.props.amenity == \"hospital\";\n      }\n    },\n    {\n      dataLayer: \"landuse\",\n      symbolizer: new PolygonSymbolizer({\n        fill: params.cemetery\n      }),\n      filter: (z2, f2) => {\n        return f2.props.landuse == \"cemetery\";\n      }\n    },\n    {\n      dataLayer: \"landuse\",\n      symbolizer: new PolygonSymbolizer({\n        fill: params.school\n      }),\n      filter: (z2, f2) => {\n        return f2.props.amenity == \"school\" || f2.props.amenity == \"kindergarten\" || f2.props.amenity == \"university\" || f2.props.amenity == \"college\";\n      }\n    },\n    {\n      dataLayer: \"landuse\",\n      symbolizer: new PolygonSymbolizer({\n        fill: params.industrial\n      }),\n      filter: (z2, f2) => {\n        return f2.props.landuse == \"industrial\";\n      }\n    },\n    {\n      dataLayer: \"natural\",\n      symbolizer: new PolygonSymbolizer({\n        fill: params.wood\n      }),\n      filter: (z2, f2) => {\n        return f2.props.natural == \"wood\";\n      }\n    },\n    {\n      dataLayer: \"landuse\",\n      symbolizer: new PolygonSymbolizer({\n        fill: params.grass\n      }),\n      filter: (z2, f2) => {\n        return f2.props.landuse == \"grass\";\n      }\n    },\n    {\n      dataLayer: \"landuse\",\n      symbolizer: new PolygonSymbolizer({\n        fill: params.park\n      }),\n      filter: (z2, f2) => {\n        return f2.props.leisure == \"park\";\n      }\n    },\n    {\n      dataLayer: \"water\",\n      symbolizer: new PolygonSymbolizer({\n        fill: params.water\n      })\n    },\n    {\n      dataLayer: \"natural\",\n      symbolizer: new PolygonSymbolizer({\n        fill: params.sand\n      }),\n      filter: (z2, f2) => {\n        return f2.props.natural == \"sand\";\n      }\n    },\n    {\n      dataLayer: \"buildings\",\n      symbolizer: new PolygonSymbolizer({\n        fill: params.buildings\n      })\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: new LineSymbolizer({\n        color: params.highwayCasing,\n        width: exp(1.4, [\n          [5, 1.5],\n          [11, 4],\n          [16, 9],\n          [20, 40]\n        ])\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] == \"highway\";\n      }\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: new LineSymbolizer({\n        color: params.majorRoadCasing,\n        width: exp(1.4, [\n          [9, 3],\n          [12, 4],\n          [17, 8],\n          [20, 22]\n        ])\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] == \"major_road\";\n      }\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: new LineSymbolizer({\n        color: params.mediumRoadCasing,\n        width: exp(1.4, [\n          [13, 3],\n          [17, 6],\n          [20, 18]\n        ])\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] == \"medium_road\";\n      }\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: new LineSymbolizer({\n        color: params.minorRoadCasing,\n        width: exp(1.4, [\n          [14, 2],\n          [17, 5],\n          [20, 15]\n        ])\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] == \"minor_road\";\n      }\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: new LineSymbolizer({\n        color: params.minorRoad,\n        width: exp(1.4, [\n          [14, 1],\n          [17, 3],\n          [20, 13]\n        ])\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] == \"minor_road\";\n      }\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: new LineSymbolizer({\n        color: params.mediumRoad,\n        width: exp(1.4, [\n          [13, 2],\n          [17, 4],\n          [20, 15]\n        ])\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] == \"medium_road\";\n      }\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: new LineSymbolizer({\n        color: params.majorRoad,\n        width: exp(1.4, [\n          [9, 2],\n          [12, 3],\n          [17, 6],\n          [20, 20]\n        ])\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] == \"major_road\";\n      }\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: new LineSymbolizer({\n        color: params.highway,\n        width: exp(1.4, [\n          [5, 0.5],\n          [11, 2.5],\n          [16, 7],\n          [20, 30]\n        ])\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] == \"highway\";\n      }\n    },\n    {\n      dataLayer: \"boundaries\",\n      symbolizer: new LineSymbolizer({\n        color: params.boundaries,\n        width: 2,\n        opacity: 0.4\n      })\n    },\n    {\n      dataLayer: \"mask\",\n      symbolizer: new PolygonSymbolizer({\n        fill: params.mask\n      })\n    }\n  ];\n};\nvar labelRules = (params, shade, language1, language2) => {\n  if (shade)\n    params = doShading(params, shade);\n  var nametags = [\"name\"];\n  if (language1)\n    nametags = language1;\n  let languageStack = (symbolizer, fill) => {\n    if (!language2)\n      return symbolizer;\n    if (symbolizer instanceof OffsetTextSymbolizer) {\n      return new FlexSymbolizer([\n        symbolizer,\n        new OffsetTextSymbolizer({\n          fill,\n          label_props: language2\n        })\n      ]);\n    } else {\n      return new FlexSymbolizer([\n        symbolizer,\n        new CenteredTextSymbolizer({\n          fill,\n          label_props: language2\n        })\n      ]);\n    }\n  };\n  return [\n    {\n      dataLayer: \"places\",\n      symbolizer: languageStack(new CenteredTextSymbolizer({\n        label_props: nametags,\n        fill: params.countryLabel,\n        lineHeight: 1.5,\n        font: (z2, f2) => {\n          if (z2 < 6)\n            return \"200 14px sans-serif\";\n          return \"200 20px sans-serif\";\n        },\n        textTransform: \"uppercase\"\n      }), params.countryLabel),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] == \"country\";\n      }\n    },\n    {\n      dataLayer: \"places\",\n      symbolizer: languageStack(new CenteredTextSymbolizer({\n        label_props: nametags,\n        fill: params.stateLabel,\n        font: \"300 16px sans-serif\"\n      }), params.stateLabel),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] == \"state\";\n      }\n    },\n    {\n      id: \"cities_high\",\n      dataLayer: \"places\",\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] == \"city\";\n      },\n      minzoom: 7,\n      symbolizer: languageStack(new CenteredTextSymbolizer({\n        label_props: nametags,\n        fill: params.cityLabel,\n        font: (z2, f2) => {\n          if ((f2 == null ? void 0 : f2.props[\"pmap:rank\"]) === 1) {\n            if (z2 > 8)\n              return \"600 20px sans-serif\";\n            return \"600 12px sans-serif\";\n          } else {\n            if (z2 > 8)\n              return \"600 16px sans-serif\";\n            return \"600 10px sans-serif\";\n          }\n        }\n      }), params.cityLabel),\n      sort: (a2, b) => {\n        return a2[\"pmap:rank\"] - b[\"pmap:rank\"];\n      }\n    },\n    {\n      id: \"cities_low\",\n      dataLayer: \"places\",\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] == \"city\";\n      },\n      maxzoom: 6,\n      symbolizer: new GroupSymbolizer([\n        new CircleSymbolizer({\n          radius: 2,\n          fill: params.cityLabel\n        }),\n        languageStack(new OffsetTextSymbolizer({\n          label_props: nametags,\n          fill: params.cityLabel,\n          offsetX: 2,\n          offsetY: 2,\n          font: (z2, f2) => {\n            if ((f2 == null ? void 0 : f2.props[\"pmap:rank\"]) === 1) {\n              if (z2 > 8)\n                return \"600 20px sans-serif\";\n              return \"600 12px sans-serif\";\n            } else {\n              if (z2 > 8)\n                return \"600 16px sans-serif\";\n              return \"600 10px sans-serif\";\n            }\n          }\n        }), params.cityLabel)\n      ]),\n      sort: (a2, b) => {\n        return a2[\"pmap:rank\"] - b[\"pmap:rank\"];\n      }\n    },\n    {\n      id: \"neighbourhood\",\n      dataLayer: \"places\",\n      symbolizer: languageStack(new CenteredTextSymbolizer({\n        label_props: nametags,\n        fill: params.neighbourhoodLabel,\n        font: \"500 10px sans-serif\",\n        textTransform: \"uppercase\"\n      }), params.neighbourhoodLabel),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] == \"neighbourhood\";\n      }\n    },\n    {\n      dataLayer: \"landuse\",\n      symbolizer: languageStack(new PolygonLabelSymbolizer({\n        label_props: nametags,\n        fill: params.landuseLabel,\n        font: \"300 12px sans-serif\"\n      }), params.landuseLabel)\n    },\n    {\n      dataLayer: \"water\",\n      symbolizer: languageStack(new PolygonLabelSymbolizer({\n        label_props: nametags,\n        fill: params.waterLabel,\n        font: \"italic 600 12px sans-serif\"\n      }), params.waterLabel)\n    },\n    {\n      dataLayer: \"natural\",\n      symbolizer: languageStack(new PolygonLabelSymbolizer({\n        label_props: nametags,\n        fill: params.naturalLabel,\n        font: \"italic 300 12px sans-serif\"\n      }), params.naturalLabel)\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: languageStack(new LineLabelSymbolizer({\n        label_props: nametags,\n        fill: params.roadsLabel,\n        font: \"500 12px sans-serif\"\n      }), params.roadsLabel),\n      minzoom: 12\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: new ShieldSymbolizer({\n        label_props: [\"ref\"],\n        font: \"600 9px sans-serif\",\n        background: params.highway,\n        padding: 2,\n        fill: params.neighbourhoodLabel\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] == \"highway\";\n      }\n    },\n    {\n      dataLayer: \"pois\",\n      symbolizer: new GroupSymbolizer([\n        new CircleSymbolizer({\n          radius: 2,\n          fill: params.poisLabel\n        }),\n        languageStack(new OffsetTextSymbolizer({\n          label_props: nametags,\n          fill: params.poisLabel,\n          offsetX: 2,\n          offsetY: 2,\n          font: \"300 10px sans-serif\"\n        }), params.poisLabel)\n      ])\n    }\n  ];\n};\n\n// src/xray.ts\nvar xray_symbolizers = (dataSource, dataLayer, color) => {\n  return [\n    {\n      dataSource,\n      dataLayer,\n      symbolizer: new CircleSymbolizer({\n        opacity: 0.2,\n        fill: color,\n        radius: 4\n      }),\n      filter: (z2, f2) => {\n        return f2.geomType == GeomType.Point;\n      }\n    },\n    {\n      dataSource,\n      dataLayer,\n      symbolizer: new LineSymbolizer({\n        opacity: 0.2,\n        color,\n        width: 2\n      }),\n      filter: (z2, f2) => {\n        return f2.geomType == GeomType.Line;\n      }\n    },\n    {\n      dataSource,\n      dataLayer,\n      symbolizer: new PolygonSymbolizer({\n        opacity: 0.2,\n        fill: color,\n        stroke: color,\n        width: 1\n      }),\n      filter: (z2, f2) => {\n        return f2.geomType == GeomType.Polygon;\n      }\n    }\n  ];\n};\nvar xray_rules = (prepared_tilemap, xray) => {\n  var rules = [];\n  for (var [dataSource, tiles] of prepared_tilemap) {\n    for (var tile of tiles) {\n      for (var dataLayer of tile.data.keys()) {\n        if (dataSource === xray.dataSource && dataLayer === xray.dataLayer) {\n        } else {\n          rules = rules.concat(xray_symbolizers(dataSource, dataLayer, \"steelblue\"));\n        }\n      }\n    }\n  }\n  rules = rules.concat(xray_symbolizers(xray.dataSource || \"\", xray.dataLayer, \"red\"));\n  return rules;\n};\n\n// src/frontends/static.ts\nvar R2 = 6378137;\nvar MAX_LATITUDE2 = 85.0511287798;\nvar MAXCOORD2 = R2 * Math.PI;\nvar project2 = (latlng) => {\n  let d = Math.PI / 180;\n  let constrained_lat = Math.max(Math.min(MAX_LATITUDE2, latlng.y), -MAX_LATITUDE2);\n  let sin = Math.sin(constrained_lat * d);\n  return new import_point_geometry7.default(R2 * latlng.x * d, R2 * Math.log((1 + sin) / (1 - sin)) / 2);\n};\nvar unproject = (point) => {\n  var d = 180 / Math.PI;\n  return {\n    lat: (2 * Math.atan(Math.exp(point.y / R2)) - Math.PI / 2) * d,\n    lng: point.x * d / R2\n  };\n};\nvar instancedProject = (origin, display_zoom) => {\n  return (latlng) => {\n    let projected = project2(latlng);\n    let normalized = new import_point_geometry7.default((projected.x + MAXCOORD2) / (MAXCOORD2 * 2), 1 - (projected.y + MAXCOORD2) / (MAXCOORD2 * 2));\n    return normalized.mult((1 << display_zoom) * 256).sub(origin);\n  };\n};\nvar instancedUnproject = (origin, display_zoom) => {\n  return (point) => {\n    let normalized = new import_point_geometry7.default(point.x, point.y).add(origin).div((1 << display_zoom) * 256);\n    let projected = new import_point_geometry7.default(normalized.x * (MAXCOORD2 * 2) - MAXCOORD2, (1 - normalized.y) * (MAXCOORD2 * 2) - MAXCOORD2);\n    return unproject(projected);\n  };\n};\nvar getZoom = (degrees_lng, css_pixels) => {\n  let d = css_pixels * (360 / degrees_lng);\n  return Math.log2(d / 256);\n};\nvar Static = class {\n  constructor(options) {\n    let theme = options.dark ? dark : light;\n    this.paint_rules = options.paint_rules || paintRules(theme, options.shade);\n    this.label_rules = options.label_rules || labelRules(theme, options.shade, options.language1, options.language2);\n    this.backgroundColor = options.backgroundColor;\n    this.views = sourcesToViews(options);\n    this.debug = options.debug || \"\";\n    this.xray = options.xray;\n  }\n  drawContext(ctx, width, height, latlng, display_zoom) {\n    return __async(this, null, function* () {\n      let center = project2(latlng);\n      let normalized_center = new import_point_geometry7.default((center.x + MAXCOORD2) / (MAXCOORD2 * 2), 1 - (center.y + MAXCOORD2) / (MAXCOORD2 * 2));\n      let origin = normalized_center.clone().mult(Math.pow(2, display_zoom) * 256).sub(new import_point_geometry7.default(width / 2, height / 2));\n      let bbox = {\n        minX: origin.x,\n        minY: origin.y,\n        maxX: origin.x + width,\n        maxY: origin.y + height\n      };\n      let promises = [];\n      for (const [k, v] of this.views) {\n        let promise = v.getBbox(display_zoom, bbox);\n        promises.push({ key: k, promise });\n      }\n      let tile_responses = yield Promise.all(promises.map((o2) => {\n        return o2.promise.then((v) => {\n          return { status: \"fulfilled\", value: v, key: o2.key };\n        }, (error) => {\n          return { status: \"rejected\", value: [], reason: error, key: o2.key };\n        });\n      }));\n      let prepared_tilemap = new Map();\n      for (const tile_response of tile_responses) {\n        if (tile_response.status === \"fulfilled\") {\n          prepared_tilemap.set(tile_response.key, tile_response.value);\n        }\n      }\n      let start = performance.now();\n      let labeler = new Labeler(display_zoom, ctx, this.label_rules, 16, void 0);\n      let layout_time = labeler.add(prepared_tilemap);\n      if (this.backgroundColor) {\n        ctx.save();\n        ctx.fillStyle = this.backgroundColor;\n        ctx.fillRect(0, 0, width, height);\n        ctx.restore();\n      }\n      let paint_rules = this.paint_rules;\n      if (this.xray) {\n        paint_rules = xray_rules(prepared_tilemap, this.xray);\n      }\n      let p2 = painter(ctx, display_zoom, prepared_tilemap, this.xray ? null : labeler.index, paint_rules, bbox, origin, true, this.debug);\n      if (this.debug) {\n        ctx.save();\n        ctx.translate(-origin.x, -origin.y);\n        ctx.strokeStyle = this.debug;\n        ctx.fillStyle = this.debug;\n        ctx.font = \"12px sans-serif\";\n        let idx = 0;\n        for (const [k, v] of prepared_tilemap) {\n          for (let prepared_tile of v) {\n            ctx.strokeRect(prepared_tile.origin.x, prepared_tile.origin.y, prepared_tile.dim, prepared_tile.dim);\n            let dt = prepared_tile.data_tile;\n            ctx.fillText(k + (k ? \" \" : \"\") + dt.z + \" \" + dt.x + \" \" + dt.y, prepared_tile.origin.x + 4, prepared_tile.origin.y + 14 * (1 + idx));\n          }\n          idx++;\n        }\n        ctx.restore();\n      }\n      return {\n        elapsed: performance.now() - start,\n        project: instancedProject(origin, display_zoom),\n        unproject: instancedUnproject(origin, display_zoom)\n      };\n    });\n  }\n  drawCanvas(_0, _1, _2) {\n    return __async(this, arguments, function* (canvas, latlng, display_zoom, options = {}) {\n      let dpr = window.devicePixelRatio;\n      let width = canvas.clientWidth;\n      let height = canvas.clientHeight;\n      if (!(canvas.width == width * dpr && canvas.height == height * dpr)) {\n        canvas.width = width * dpr;\n        canvas.height = height * dpr;\n      }\n      if (options.lang)\n        canvas.lang = options.lang;\n      let ctx = canvas.getContext(\"2d\");\n      ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\n      return this.drawContext(ctx, width, height, latlng, display_zoom);\n    });\n  }\n  drawContextBounds(ctx, top_left, bottom_right, width, height) {\n    return __async(this, null, function* () {\n      let delta_degrees = bottom_right.x - top_left.x;\n      let center = new import_point_geometry7.default((top_left.x + bottom_right.x) / 2, (top_left.y + bottom_right.y) / 2);\n      return this.drawContext(ctx, width, height, center, getZoom(delta_degrees, width));\n    });\n  }\n  drawCanvasBounds(_0, _1, _2, _3) {\n    return __async(this, arguments, function* (canvas, top_left, bottom_right, width, options = {}) {\n      let delta_degrees = bottom_right.x - top_left.x;\n      let center = new import_point_geometry7.default((top_left.x + bottom_right.x) / 2, (top_left.y + bottom_right.y) / 2);\n      return this.drawCanvas(canvas, center, getZoom(delta_degrees, width), options);\n    });\n  }\n};\n\n// src/frontends/leaflet.ts\nvar import_point_geometry8 = __toModule(require_point_geometry());\nvar timer = (duration) => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve();\n    }, duration);\n  });\n};\nvar reflect = (promise) => {\n  return promise.then((v) => {\n    return { status: \"fulfilled\", value: v };\n  }, (error) => {\n    return { status: \"rejected\", reason: error };\n  });\n};\nvar leafletLayer = (options = {}) => {\n  class LeafletLayer extends L.GridLayer {\n    constructor(options2 = {}) {\n      if (options2.noWrap && !options2.bounds)\n        options2.bounds = [\n          [-90, -180],\n          [90, 180]\n        ];\n      if (options2.attribution == null)\n        options2.attribution = '<a href=\"https://protomaps.com\">Protomaps</a> \\xA9 <a href=\"https://openstreetmap.org/copyright\">OpenStreetMap</a>';\n      super(options2);\n      let theme = options2.dark ? dark : light;\n      this.paint_rules = options2.paint_rules || paintRules(theme, options2.shade);\n      this.label_rules = options2.label_rules || labelRules(theme, options2.shade, options2.language1, options2.language2);\n      this.backgroundColor = options2.backgroundColor;\n      this.lastRequestedZ = void 0;\n      this.xray = options2.xray;\n      this.tasks = options2.tasks || [];\n      this.views = sourcesToViews(options2);\n      this.debug = options2.debug;\n      let scratch = document.createElement(\"canvas\").getContext(\"2d\");\n      this.scratch = scratch;\n      this.onTilesInvalidated = (tiles) => {\n        tiles.forEach((t2) => {\n          this.rerenderTile(t2);\n        });\n      };\n      this.labelers = new Labelers(this.scratch, this.label_rules, 16, this.onTilesInvalidated);\n      this.tile_size = 256 * window.devicePixelRatio;\n      this.tileDelay = options2.tileDelay || 3;\n      this.lang = options2.lang;\n      this.inspector = this.inspect(this);\n    }\n    setDefaultStyle(darkOption, shade, language1, language2) {\n      let theme = darkOption ? dark : light;\n      this.paint_rules = paintRules(theme, shade);\n      this.label_rules = labelRules(theme, shade, language1, language2);\n    }\n    renderTile(coords, element, key, done = () => {\n    }) {\n      return __async(this, null, function* () {\n        this.lastRequestedZ = coords.z;\n        let promises = [];\n        for (const [k, v] of this.views) {\n          let promise = v.getDisplayTile(coords);\n          promises.push({ key: k, promise });\n        }\n        let tile_responses = yield Promise.all(promises.map((o2) => {\n          return o2.promise.then((v) => {\n            return { status: \"fulfilled\", value: v, key: o2.key };\n          }, (error) => {\n            return { status: \"rejected\", reason: error, key: o2.key };\n          });\n        }));\n        let prepared_tilemap = new Map();\n        for (const tile_response of tile_responses) {\n          if (tile_response.status === \"fulfilled\") {\n            prepared_tilemap.set(tile_response.key, [tile_response.value]);\n          } else {\n            if (tile_response.reason.name === \"AbortError\") {\n            } else {\n              console.error(tile_response.reason);\n            }\n          }\n        }\n        if (element.key != key)\n          return;\n        if (this.lastRequestedZ !== coords.z)\n          return;\n        yield Promise.all(this.tasks.map(reflect));\n        if (element.key != key)\n          return;\n        if (this.lastRequestedZ !== coords.z)\n          return;\n        let layout_time = this.labelers.add(coords.z, prepared_tilemap);\n        if (element.key != key)\n          return;\n        if (this.lastRequestedZ !== coords.z)\n          return;\n        let label_data = this.labelers.getIndex(coords.z);\n        if (!this._map)\n          return;\n        let center = this._map.getCenter().wrap();\n        let pixelBounds = this._getTiledPixelBounds(center), tileRange = this._pxBoundsToTileRange(pixelBounds), tileCenter = tileRange.getCenter();\n        let priority = coords.distanceTo(tileCenter) * this.tileDelay;\n        yield timer(priority);\n        if (element.key != key)\n          return;\n        if (this.lastRequestedZ !== coords.z)\n          return;\n        let BUF = 16;\n        let bbox = {\n          minX: 256 * coords.x - BUF,\n          minY: 256 * coords.y - BUF,\n          maxX: 256 * (coords.x + 1) + BUF,\n          maxY: 256 * (coords.y + 1) + BUF\n        };\n        let origin = new import_point_geometry8.default(256 * coords.x, 256 * coords.y);\n        element.width = this.tile_size;\n        element.height = this.tile_size;\n        let ctx = element.getContext(\"2d\");\n        ctx.setTransform(this.tile_size / 256, 0, 0, this.tile_size / 256, 0, 0);\n        ctx.clearRect(0, 0, 256, 256);\n        if (this.backgroundColor) {\n          ctx.save();\n          ctx.fillStyle = this.backgroundColor;\n          ctx.fillRect(0, 0, 256, 256);\n          ctx.restore();\n        }\n        var painting_time = 0;\n        let paint_rules = this.paint_rules;\n        if (this.xray) {\n          paint_rules = xray_rules(prepared_tilemap, this.xray);\n        }\n        painting_time = painter(ctx, coords.z, prepared_tilemap, this.xray ? null : label_data, paint_rules, bbox, origin, false, this.debug);\n        if (this.debug) {\n          ctx.save();\n          ctx.fillStyle = this.debug;\n          ctx.font = \"600 12px sans-serif\";\n          ctx.fillText(coords.z + \" \" + coords.x + \" \" + coords.y, 4, 14);\n          ctx.font = \"12px sans-serif\";\n          let ypos = 28;\n          for (let [k, v] of prepared_tilemap) {\n            let dt = v[0].data_tile;\n            ctx.fillText(k + (k ? \" \" : \"\") + dt.z + \" \" + dt.x + \" \" + dt.y, 4, ypos);\n            ypos += 14;\n          }\n          ctx.font = \"600 10px sans-serif\";\n          if (painting_time > 8) {\n            ctx.fillText(painting_time.toFixed() + \" ms paint\", 4, ypos);\n            ypos += 14;\n          }\n          if (layout_time > 8) {\n            ctx.fillText(layout_time.toFixed() + \" ms layout\", 4, ypos);\n          }\n          ctx.strokeStyle = this.debug;\n          ctx.lineWidth = 0.5;\n          ctx.beginPath();\n          ctx.moveTo(0, 0);\n          ctx.lineTo(0, 256);\n          ctx.stroke();\n          ctx.lineWidth = 0.5;\n          ctx.beginPath();\n          ctx.moveTo(0, 0);\n          ctx.lineTo(256, 0);\n          ctx.stroke();\n          ctx.restore();\n        }\n        done();\n      });\n    }\n    rerenderTile(key) {\n      for (let unwrapped_k in this._tiles) {\n        let wrapped_coord = this._wrapCoords(this._keyToTileCoords(unwrapped_k));\n        if (key === this._tileCoordsToKey(wrapped_coord)) {\n          this.renderTile(wrapped_coord, this._tiles[unwrapped_k].el, key);\n        }\n      }\n    }\n    clearLayout() {\n      this.labelers = new Labelers(this.scratch, this.label_rules, 16, this.onTilesInvalidated);\n    }\n    rerenderTiles() {\n      for (let unwrapped_k in this._tiles) {\n        let wrapped_coord = this._wrapCoords(this._keyToTileCoords(unwrapped_k));\n        let key = this._tileCoordsToKey(wrapped_coord);\n        this.renderTile(wrapped_coord, this._tiles[unwrapped_k].el, key);\n      }\n    }\n    createTile(coords, showTile) {\n      let element = L.DomUtil.create(\"canvas\", \"leaflet-tile\");\n      element.lang = this.lang;\n      let key = this._tileCoordsToKey(coords);\n      element.key = key;\n      this.renderTile(coords, element, key, () => {\n        showTile(null, element);\n      });\n      return element;\n    }\n    _removeTile(key) {\n      let tile = this._tiles[key];\n      if (!tile) {\n        return;\n      }\n      tile.el.removed = true;\n      tile.el.key = void 0;\n      L.DomUtil.removeClass(tile.el, \"leaflet-tile-loaded\");\n      tile.el.width = tile.el.height = 0;\n      L.DomUtil.remove(tile.el);\n      delete this._tiles[key];\n      this.fire(\"tileunload\", {\n        tile: tile.el,\n        coords: this._keyToTileCoords(key)\n      });\n    }\n    queryFeatures(lng, lat) {\n      let featuresBySourceName = new Map();\n      for (var [sourceName, view] of this.views) {\n        featuresBySourceName.set(sourceName, view.queryFeatures(lng, lat, this._map.getZoom()));\n      }\n      return featuresBySourceName;\n    }\n    inspect(layer) {\n      return (ev) => {\n        let typeGlyphs = [\"\\u25CE\", \"\\u27CD\", \"\\u25FB\"];\n        let wrapped = layer._map.wrapLatLng(ev.latlng);\n        let resultsBySourceName = layer.queryFeatures(wrapped.lng, wrapped.lat);\n        var content = \"\";\n        let firstRow = true;\n        for (var [sourceName, results] of resultsBySourceName) {\n          for (var result of results) {\n            if (this.xray && this.xray !== true) {\n              if (!((this.xray.dataSource || \"\") === sourceName && this.xray.dataLayer === result.layerName)) {\n                continue;\n              }\n            }\n            content = content + `<div style=\"margin-top:${firstRow ? 0 : 0.5}em\">${typeGlyphs[result.feature.geomType - 1]} <b>${sourceName} ${sourceName ? \"/\" : \"\"} ${result.layerName}</b> ${result.feature.id || \"\"}</div>`;\n            for (const prop in result.feature.props) {\n              content = content + `<div style=\"font-size:0.9em\">${prop} = ${result.feature.props[prop]}</div>`;\n            }\n            firstRow = false;\n          }\n        }\n        if (firstRow) {\n          content = \"No features.\";\n        }\n        L.popup().setLatLng(ev.latlng).setContent('<div style=\"max-height:400px;overflow-y:scroll;padding-right:8px\">' + content + \"</div>\").openOn(layer._map);\n      };\n    }\n    addInspector(map) {\n      return map.on(\"click\", this.inspector);\n    }\n    removeInspector(map) {\n      return map.off(\"click\", this.inspector);\n    }\n  }\n  return new LeafletLayer(options);\n};\n\n// node_modules/potpack/index.mjs\nfunction potpack(boxes) {\n  let area = 0;\n  let maxWidth = 0;\n  for (const box of boxes) {\n    area += box.w * box.h;\n    maxWidth = Math.max(maxWidth, box.w);\n  }\n  boxes.sort((a2, b) => b.h - a2.h);\n  const startWidth = Math.max(Math.ceil(Math.sqrt(area / 0.95)), maxWidth);\n  const spaces = [{ x: 0, y: 0, w: startWidth, h: Infinity }];\n  let width = 0;\n  let height = 0;\n  for (const box of boxes) {\n    for (let i3 = spaces.length - 1; i3 >= 0; i3--) {\n      const space = spaces[i3];\n      if (box.w > space.w || box.h > space.h)\n        continue;\n      box.x = space.x;\n      box.y = space.y;\n      height = Math.max(height, box.y + box.h);\n      width = Math.max(width, box.x + box.w);\n      if (box.w === space.w && box.h === space.h) {\n        const last = spaces.pop();\n        if (i3 < spaces.length)\n          spaces[i3] = last;\n      } else if (box.h === space.h) {\n        space.x += box.w;\n        space.w -= box.w;\n      } else if (box.w === space.w) {\n        space.y += box.h;\n        space.h -= box.h;\n      } else {\n        spaces.push({\n          x: space.x + box.w,\n          y: space.y,\n          w: space.w - box.w,\n          h: box.h\n        });\n        space.y += box.h;\n        space.h -= box.h;\n      }\n      break;\n    }\n  }\n  return {\n    w: width,\n    h: height,\n    fill: area / (width * height) || 0\n  };\n}\n\n// src/task.ts\nvar Font = (name, url, weight) => {\n  let ff = new FontFace(name, \"url(\" + url + \")\", { weight });\n  document.fonts.add(ff);\n  return ff.load();\n};\nvar mkimg = (src) => __async(void 0, null, function* () {\n  return new Promise((resolve, reject) => {\n    let img = new Image();\n    img.onload = () => resolve(img);\n    img.onerror = () => reject(\"Invalid SVG\");\n    img.src = src;\n  });\n});\nvar MISSING = `\n<svg width=\"20px\" height=\"20px\" viewBox=\"0 0 50 50\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n    <rect width=\"50\" height=\"50\" fill=\"#cccccc\"/>\n    <g transform=\"translate(5,5)\">\n        <path fill=\"none\" stroke=\"#666666\" stroke-width=\"7\" d=\"m11,12a8.5,8 0 1,1 17,0q0,4-4,6t-4.5,4.5-.4,4v.2m0,3v7\"/>\n    </g>\n</svg>\n`;\nvar Sheet = class {\n  constructor(src) {\n    this.src = src;\n    this.canvas = document.createElement(\"canvas\");\n    this.mapping = new Map();\n    this.missingBox = { x: 0, y: 0, w: 0, h: 0 };\n  }\n  load() {\n    return __async(this, null, function* () {\n      let src = this.src;\n      let scale = window.devicePixelRatio;\n      if (src.endsWith(\".html\")) {\n        let c2 = yield fetch(src);\n        src = yield c2.text();\n      }\n      let tree = new window.DOMParser().parseFromString(src, \"text/html\");\n      let icons = Array.from(tree.body.children);\n      let missingImg = yield mkimg(\"data:image/svg+xml;base64,\" + btoa(MISSING));\n      let boxes = [\n        {\n          w: missingImg.width * scale,\n          h: missingImg.height * scale,\n          img: missingImg,\n          id: \"\"\n        }\n      ];\n      let serializer = new XMLSerializer();\n      for (let ps of icons) {\n        var svg64 = btoa(serializer.serializeToString(ps));\n        var image64 = \"data:image/svg+xml;base64,\" + svg64;\n        let img = yield mkimg(image64);\n        boxes.push({\n          w: img.width * scale,\n          h: img.height * scale,\n          img,\n          id: ps.id\n        });\n      }\n      let packresult = potpack(boxes);\n      this.canvas.width = packresult.w;\n      this.canvas.height = packresult.h;\n      let ctx = this.canvas.getContext(\"2d\");\n      if (ctx) {\n        for (let box of boxes) {\n          if (box.x !== void 0 && box.y !== void 0) {\n            ctx.drawImage(box.img, box.x, box.y, box.w, box.h);\n            if (box.id)\n              this.mapping.set(box.id, {\n                x: box.x,\n                y: box.y,\n                w: box.w,\n                h: box.h\n              });\n            else\n              this.missingBox = { x: box.x, y: box.y, w: box.w, h: box.h };\n          }\n        }\n      }\n      return this;\n    });\n  }\n  get(name) {\n    let result = this.mapping.get(name);\n    if (!result)\n      result = this.missingBox;\n    return result;\n  }\n};\n\n// src/compat/json_style.ts\nfunction number(val, defaultValue) {\n  return typeof val === \"number\" ? val : defaultValue;\n}\nfunction filterFn(arr2) {\n  if (arr2.includes(\"$type\")) {\n    return (z2) => true;\n  } else if (arr2[0] == \"==\") {\n    return (z2, f2) => f2.props[arr2[1]] === arr2[2];\n  } else if (arr2[0] == \"!=\") {\n    return (z2, f2) => f2.props[arr2[1]] !== arr2[2];\n  } else if (arr2[0] == \"!\") {\n    let sub = filterFn(arr2[1]);\n    return (z2, f2) => !sub(z2, f2);\n  } else if (arr2[0] === \"<\") {\n    return (z2, f2) => number(f2.props[arr2[1]], Infinity) < arr2[2];\n  } else if (arr2[0] === \"<=\") {\n    return (z2, f2) => number(f2.props[arr2[1]], Infinity) <= arr2[2];\n  } else if (arr2[0] === \">\") {\n    return (z2, f2) => number(f2.props[arr2[1]], -Infinity) > arr2[2];\n  } else if (arr2[0] === \">=\") {\n    return (z2, f2) => number(f2.props[arr2[1]], -Infinity) >= arr2[2];\n  } else if (arr2[0] === \"in\") {\n    return (z2, f2) => arr2.slice(2, arr2.length).includes(f2.props[arr2[1]]);\n  } else if (arr2[0] === \"!in\") {\n    return (z2, f2) => !arr2.slice(2, arr2.length).includes(f2.props[arr2[1]]);\n  } else if (arr2[0] === \"has\") {\n    return (z2, f2) => f2.props.hasOwnProperty(arr2[1]);\n  } else if (arr2[0] === \"!has\") {\n    return (z2, f2) => !f2.props.hasOwnProperty(arr2[1]);\n  } else if (arr2[0] === \"all\") {\n    let parts = arr2.slice(1, arr2.length).map((e2) => filterFn(e2));\n    return (z2, f2) => parts.every((p2) => {\n      return p2(z2, f2);\n    });\n  } else if (arr2[0] === \"any\") {\n    let parts = arr2.slice(1, arr2.length).map((e2) => filterFn(e2));\n    return (z2, f2) => parts.some((p2) => {\n      return p2(z2, f2);\n    });\n  } else {\n    console.log(\"Unimplemented filter: \", arr2[0]);\n    return (f2) => false;\n  }\n}\nfunction numberFn(obj) {\n  if (obj.base && obj.stops) {\n    return (z2) => {\n      return exp(obj.base, obj.stops)(z2 - 1);\n    };\n  } else if (obj[0] == \"interpolate\" && obj[1][0] == \"exponential\" && obj[2] == \"zoom\") {\n    let slice = obj.slice(3);\n    let stops = [];\n    for (var i3 = 0; i3 < slice.length; i3 += 2) {\n      stops.push([slice[i3], slice[i3 + 1]]);\n    }\n    return (z2) => {\n      return exp(obj[1][1], stops)(z2 - 1);\n    };\n  } else if (obj[0] == \"step\" && obj[1][0] == \"get\") {\n    let slice = obj.slice(2);\n    let prop = obj[1][1];\n    return (z2, f2) => {\n      let val = f2 == null ? void 0 : f2.props[prop];\n      if (typeof val === \"number\") {\n        if (val < slice[1])\n          return slice[0];\n        for (i3 = 1; i3 < slice.length; i3 += 2) {\n          if (val <= slice[i3])\n            return slice[i3 + 1];\n        }\n      }\n      return slice[slice.length - 1];\n    };\n  } else {\n    console.log(\"Unimplemented numeric fn: \", obj);\n    return (z2) => 1;\n  }\n}\nfunction numberOrFn(obj, defaultValue = 0) {\n  if (!obj)\n    return defaultValue;\n  if (typeof obj == \"number\") {\n    return obj;\n  }\n  return (z2, f2) => f2 ? numberFn(obj)(z2, f2) : defaultValue;\n}\nfunction widthFn(width_obj, gap_obj) {\n  let w = numberOrFn(width_obj, 1);\n  let g = numberOrFn(gap_obj);\n  return (z2, f2) => {\n    let tmp = typeof w == \"number\" ? w : w(z2, f2);\n    if (g) {\n      return tmp + (typeof g == \"number\" ? g : g(z2, f2));\n    }\n    return tmp;\n  };\n}\nfunction getFont(obj, fontsubmap) {\n  let fontfaces = [];\n  for (let wanted_face of obj[\"text-font\"]) {\n    if (fontsubmap.hasOwnProperty(wanted_face)) {\n      fontfaces.push(fontsubmap[wanted_face]);\n    }\n  }\n  if (fontfaces.length === 0)\n    fontfaces.push({ face: \"sans-serif\" });\n  let text_size = obj[\"text-size\"];\n  var weight = \"\";\n  if (fontfaces.length && fontfaces[0].weight)\n    weight = fontfaces[0].weight + \" \";\n  var style = \"\";\n  if (fontfaces.length && fontfaces[0].style)\n    style = fontfaces[0].style + \" \";\n  if (typeof text_size == \"number\") {\n    return (z2) => `${style}${weight}${text_size}px ${fontfaces.map((f2) => f2.face).join(\", \")}`;\n  } else if (text_size.stops) {\n    var base = 1.4;\n    if (text_size.base)\n      base = text_size.base;\n    else\n      text_size.base = base;\n    let t2 = numberFn(text_size);\n    return (z2, f2) => {\n      return `${style}${weight}${t2(z2, f2)}px ${fontfaces.map((f3) => f3.face).join(\", \")}`;\n    };\n  } else if (text_size[0] == \"step\") {\n    let t2 = numberFn(text_size);\n    return (z2, f2) => {\n      return `${style}${weight}${t2(z2, f2)}px ${fontfaces.map((f3) => f3.face).join(\", \")}`;\n    };\n  } else {\n    console.log(\"Can't parse font: \", obj);\n    return (z2) => \"12px sans-serif\";\n  }\n}\nfunction json_style(obj, fontsubmap) {\n  let paint_rules = [];\n  let label_rules = [];\n  let refs = new Map();\n  for (var layer of obj.layers) {\n    refs.set(layer.id, layer);\n    if (layer.layout && layer.layout.visibility == \"none\") {\n      continue;\n    }\n    if (layer.ref) {\n      let referenced = refs.get(layer.ref);\n      layer.type = referenced.type;\n      layer.filter = referenced.filter;\n      layer.source = referenced[\"source\"];\n      layer[\"source-layer\"] = referenced[\"source-layer\"];\n    }\n    let sourceLayer = layer[\"source-layer\"];\n    var symbolizer;\n    var filter = void 0;\n    if (layer.filter) {\n      filter = filterFn(layer.filter);\n    }\n    if (layer.type == \"fill\") {\n      paint_rules.push({\n        dataLayer: layer[\"source-layer\"],\n        filter,\n        symbolizer: new PolygonSymbolizer({\n          fill: layer.paint[\"fill-color\"],\n          opacity: layer.paint[\"fill-opacity\"]\n        })\n      });\n    } else if (layer.type == \"fill-extrusion\") {\n      paint_rules.push({\n        dataLayer: layer[\"source-layer\"],\n        filter,\n        symbolizer: new PolygonSymbolizer({\n          fill: layer.paint[\"fill-extrusion-color\"],\n          opacity: layer.paint[\"fill-extrusion-opacity\"]\n        })\n      });\n    } else if (layer.type == \"line\") {\n      if (layer.paint[\"line-dasharray\"]) {\n        paint_rules.push({\n          dataLayer: layer[\"source-layer\"],\n          filter,\n          symbolizer: new LineSymbolizer({\n            width: widthFn(layer.paint[\"line-width\"], layer.paint[\"line-gap-width\"]),\n            dash: layer.paint[\"line-dasharray\"],\n            dashColor: layer.paint[\"line-color\"]\n          })\n        });\n      } else {\n        paint_rules.push({\n          dataLayer: layer[\"source-layer\"],\n          filter,\n          symbolizer: new LineSymbolizer({\n            color: layer.paint[\"line-color\"],\n            width: widthFn(layer.paint[\"line-width\"], layer.paint[\"line-gap-width\"])\n          })\n        });\n      }\n    } else if (layer.type == \"symbol\") {\n      if (layer.layout[\"symbol-placement\"] == \"line\") {\n        label_rules.push({\n          dataLayer: layer[\"source-layer\"],\n          filter,\n          symbolizer: new LineLabelSymbolizer({\n            font: getFont(layer.layout, fontsubmap),\n            fill: layer.paint[\"text-color\"],\n            width: layer.paint[\"text-halo-width\"],\n            stroke: layer.paint[\"text-halo-color\"],\n            textTransform: layer.layout[\"text-transform\"],\n            label_props: layer.layout[\"text-field\"] ? [layer.layout[\"text-field\"]] : void 0\n          })\n        });\n      } else {\n        label_rules.push({\n          dataLayer: layer[\"source-layer\"],\n          filter,\n          symbolizer: new CenteredTextSymbolizer({\n            font: getFont(layer.layout, fontsubmap),\n            fill: layer.paint[\"text-color\"],\n            stroke: layer.paint[\"text-halo-color\"],\n            width: layer.paint[\"text-halo-width\"],\n            textTransform: layer.layout[\"text-transform\"],\n            label_props: layer.layout[\"text-field\"] ? [layer.layout[\"text-field\"]] : void 0\n          })\n        });\n      }\n    } else if (layer.type == \"circle\") {\n      paint_rules.push({\n        dataLayer: layer[\"source-layer\"],\n        filter,\n        symbolizer: new CircleSymbolizer({\n          radius: layer.paint[\"circle-radius\"],\n          fill: layer.paint[\"circle-color\"],\n          stroke: layer.paint[\"circle-stroke-color\"],\n          width: layer.paint[\"circle-stroke-width\"]\n        })\n      });\n    }\n  }\n  label_rules.reverse();\n  return { paint_rules, label_rules, tasks: [] };\n}\n\n// src/extra_styles/toner.ts\nvar Toner = (variant) => {\n  let halftone = createPattern(4, 4, (c2) => {\n    var ctx = c2.getContext(\"2d\");\n    if (ctx) {\n      ctx.beginPath();\n      ctx.rect(0, 0, 1, 1);\n      ctx.rect(2, 2, 1, 1);\n      ctx.fillStyle = \"black\";\n      ctx.fill();\n    }\n  });\n  var background = \"black\";\n  if (variant === \"lite\") {\n    background = \"#d9d9d9\";\n  }\n  let lang = [\"name:en\", \"name\"];\n  let paint_rules = [\n    {\n      dataLayer: \"earth\",\n      symbolizer: new PolygonSymbolizer({\n        fill: \"white\"\n      })\n    },\n    {\n      dataLayer: \"landuse\",\n      symbolizer: new PolygonSymbolizer({\n        pattern: halftone\n      }),\n      filter: (z2, f2) => {\n        return f2.props.leisure == \"park\";\n      }\n    },\n    {\n      dataLayer: \"water\",\n      symbolizer: new PolygonSymbolizer({\n        fill: background\n      })\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: new LineSymbolizer({\n        color: \"#dddddd\"\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"minor_road\";\n      }\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: new LineSymbolizer({\n        color: \"white\",\n        width: arr(16, [7, 9, 17, 20])\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"medium_road\";\n      }\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: new LineSymbolizer({\n        color: \"#cccccc\",\n        width: arr(10, [0.2, 0.2, 0.2, 0.4, 0.8, 1.5, 4, 7, 13, 16])\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"medium_road\";\n      }\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: new LineSymbolizer({\n        color: \"white\",\n        width: arr(11, [1.25, 5, 5, 5, 8, 11, 18, 22, 30])\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"major_road\";\n      }\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: new LineSymbolizer({\n        color: \"black\",\n        width: arr(9, [0.15, 0.5, 0.7, 1, 1.5, 1.9, 5, 7, 12, 18, 26])\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"major_road\";\n      }\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: new LineSymbolizer({\n        color: \"white\",\n        width: arr(7, [2.25, 3.25, 4.25, 5, 6, 7, 8, 9, 11, 14, 24, 42, 49])\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"highway\";\n      }\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: new LineSymbolizer({\n        color: \"black\",\n        width: arr(6, [0.1, 1.5, 1.5, 1.5, 2, 2.5, 3, 3, 4, 6, 9, 15, 28, 35])\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"highway\";\n      }\n    },\n    {\n      dataLayer: \"transit\",\n      symbolizer: new LineSymbolizer({\n        color: \"#888888\",\n        dashColor: \"#888888\",\n        dash: [1, 4],\n        dashWidth: 3\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"railway\";\n      },\n      minzoom: 14\n    },\n    {\n      dataLayer: \"transit\",\n      symbolizer: new LineSymbolizer({\n        color: \"#888888\"\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] === \"railway\";\n      },\n      minzoom: 14\n    },\n    {\n      dataLayer: \"buildings\",\n      symbolizer: new LineSymbolizer({\n        color: \"#888888\",\n        width: 0.5\n      })\n    },\n    {\n      dataLayer: \"boundaries\",\n      symbolizer: new LineSymbolizer({\n        color: \"black\",\n        width: 1\n      }),\n      maxzoom: 6\n    },\n    {\n      dataLayer: \"boundaries\",\n      symbolizer: new LineSymbolizer({\n        color: \"white\",\n        width: 2.5,\n        dash: [3, 1],\n        dashWidth: 0.3,\n        dashColor: \"black\"\n      }),\n      minzoom: 7\n    }\n  ];\n  let label_rules = [\n    {\n      dataLayer: \"places\",\n      symbolizer: new CenteredTextSymbolizer({\n        label_props: lang,\n        fill: \"black\",\n        stroke: \"white\",\n        width: 1.5,\n        fontFamily: \"Inter\",\n        fontWeight: 300,\n        fontSize: 15,\n        justify: Justify.Center\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] == \"country\";\n      }\n    },\n    {\n      dataLayer: \"places\",\n      symbolizer: new CenteredTextSymbolizer({\n        label_props: lang,\n        fill: \"black\",\n        stroke: \"white\",\n        width: 2,\n        fontFamily: \"Inter\",\n        fontWeight: 300,\n        fontSize: 12,\n        justify: Justify.Center\n      }),\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] == \"state\";\n      }\n    },\n    {\n      dataLayer: \"places\",\n      symbolizer: new GroupSymbolizer([\n        new CircleSymbolizer({\n          radius: 2,\n          fill: \"black\",\n          stroke: \"white\",\n          width: 2\n        }),\n        new OffsetTextSymbolizer({\n          label_props: lang,\n          offsetX: 3,\n          fill: \"black\",\n          stroke: \"white\",\n          width: 1.5,\n          fontFamily: \"Inter\",\n          fontWeight: 600,\n          fontSize: (z2, f2) => {\n            if (f2.props[\"pmap:rank\"] == 1)\n              return 15;\n            return 13;\n          }\n        })\n      ]),\n      sort: (a2, b) => {\n        return a2[\"pmap:rank\"] - b[\"pmap:rank\"];\n      },\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] == \"city\";\n      },\n      maxzoom: 8\n    },\n    {\n      dataLayer: \"places\",\n      symbolizer: new CenteredTextSymbolizer({\n        label_props: lang,\n        justify: Justify.Center,\n        fill: \"black\",\n        stroke: \"white\",\n        width: 2,\n        fontFamily: \"Inter\",\n        fontWeight: 600,\n        fontSize: (z2, f2) => {\n          if (f2.props[\"pmap:rank\"] == 1)\n            return 15;\n          return 13;\n        }\n      }),\n      sort: (a2, b) => {\n        return a2[\"pmap:rank\"] - b[\"pmap:rank\"];\n      },\n      filter: (z2, f2) => {\n        return f2.props[\"pmap:kind\"] == \"city\";\n      },\n      minzoom: 9\n    },\n    {\n      dataLayer: \"water\",\n      symbolizer: new PolygonLabelSymbolizer({\n        label_props: lang,\n        fill: \"white\",\n        stroke: \"black\",\n        width: 3,\n        font: \"italic 400 12px Inter\"\n      })\n    },\n    {\n      dataLayer: \"landuse\",\n      symbolizer: new PolygonLabelSymbolizer({\n        fill: \"black\",\n        stroke: \"white\",\n        width: 2,\n        font: \"italic 400 12px Inter\"\n      })\n    },\n    {\n      dataLayer: \"physical_point\",\n      symbolizer: new CenteredTextSymbolizer({\n        label_props: lang,\n        fill: \"white\",\n        stroke: \"black\",\n        width: 3,\n        font: \"italic 600 12px Inter\",\n        textTransform: \"uppercase\",\n        justify: Justify.Center\n      }),\n      filter: (z2, f2) => {\n        return [\"ocean\", \"sea\"].includes(f2.props.place);\n      }\n    },\n    {\n      dataLayer: \"roads\",\n      symbolizer: new LineLabelSymbolizer({\n        fill: \"black\",\n        stroke: \"white\",\n        width: 2,\n        font: \"600 14px Inter\",\n        offset: 4\n      })\n    }\n  ];\n  return {\n    tasks: [\n      Font(\"Inter\", \"https://cdn.protomaps.com/fonts/woff2/Inter.var.woff2\", \"100 900\")\n    ],\n    paint_rules,\n    label_rules,\n    attribution: 'Map tiles by <a href=\"http://stamen.com\">Stamen Design</a>, under <a href=\"http://creativecommons.org/licenses/by/3.0\">CC BY 3.0</a>.'\n  };\n};\nexport {\n  CenteredSymbolizer,\n  CenteredTextSymbolizer,\n  CircleSymbolizer,\n  FlexSymbolizer,\n  Font,\n  GeomType,\n  GroupSymbolizer,\n  IconSymbolizer,\n  Index,\n  Justify,\n  Labeler,\n  Labelers,\n  LineLabelPlacement,\n  LineLabelSymbolizer,\n  LineSymbolizer,\n  OffsetSymbolizer,\n  OffsetTextSymbolizer,\n  PMTiles,\n  Padding,\n  PmtilesSource,\n  PolygonLabelSymbolizer,\n  PolygonSymbolizer,\n  Sheet,\n  ShieldSymbolizer,\n  Static,\n  TextPlacements,\n  TextSymbolizer,\n  TileCache,\n  Toner,\n  View,\n  ZxySource,\n  arr,\n  covering,\n  createPattern,\n  cubicBezier,\n  dark,\n  exp,\n  filterFn,\n  getFont,\n  getZoom,\n  isCCW,\n  isInRing,\n  json_style,\n  labelRules,\n  leafletLayer,\n  light,\n  linear,\n  numberFn,\n  numberOrFn,\n  paintRules,\n  painter,\n  pointInPolygon,\n  pointMinDistToLines,\n  pointMinDistToPoints,\n  sourcesToViews,\n  step,\n  toIndex,\n  transformGeom,\n  widthFn,\n  wrap\n};\n/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\n", "import { init, getOptions } from \"./Modules/Leaflet.mjs\";\nimport { leafletLayer } from \"protomaps-leaflet\";\n\nfunction setLayerStyle(layer, style) {\n    switch (style) {\n        case \"dark\":\n            layer.setDefaultStyle(true);\n            break;\n        case \"grayscale\":\n        case \"white\":\n            layer.setDefaultStyle(false, \"white\");\n            break;\n        case \"black\":\n            layer.setDefaultStyle(true, \"black\");\n            break;\n        default:\n            layer.setDefaultStyle();\n            break;\n    }\n    layer.clearLayout();\n    layer.rerenderTiles();\n}\n\nasync function setOptions() {\n    const options = await getOptions();\n    const layerOptions = {\n        url: options.service.options.url,\n        attribution: options.service.options.attribution,\n        //dark,\n    };\n    init({ layerFunction: leafletLayer, layerOptions, options, setLayerStyle });\n}\n\nsetOptions();\n"],
  "mappings": "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",
  "names": ["__create", "__defProp", "__getOwnPropDesc", "__getOwnPropNames", "__getOwnPropSymbols", "__getProtoOf", "__hasOwnProp", "__propIsEnum", "__defNormalProp", "obj", "key", "value", "__spreadValues", "a2", "b", "prop", "__markAsModule", "target", "__commonJS", "cb", "mod", "__reExport", "module", "desc", "__toModule", "__async", "__this", "__arguments", "generator", "resolve", "reject", "fulfilled", "step2", "e2", "rejected", "x2", "require_point_geometry", "exports", "Point9", "y", "p2", "k", "m", "other", "dx", "dy", "angle", "cos", "sin", "require_vectortilefeature", "VectorTileFeature", "pbf", "end", "extent", "keys", "values", "readFeature", "tag", "feature", "readTag", "cmd", "length", "lines", "line", "cmdLen", "x1", "x22", "y1", "y2", "z2", "size", "x0", "y0", "coords", "type", "i3", "j", "project3", "j2", "points", "classifyRings", "result", "rings", "len", "polygons", "polygon", "ccw", "area", "signedArea", "ring", "sum", "p1", "require_vectortilelayer", "VectorTileLayer", "readLayer", "layer", "readValueMessage", "require_vectortile", "VectorTile2", "readTile", "layers", "require_vector_tile", "require_ieee754", "buffer", "offset", "isLE", "mLen", "nBytes", "eLen", "eMax", "eBias", "nBits", "d", "s2", "c2", "rt", "require_pbf", "Pbf", "ieee754", "buf", "SHIFT_LEFT_32", "SHIFT_RIGHT_32", "TEXT_DECODER_MIN_LENGTH", "utf8TextDecoder", "readField", "val", "startPos", "readUInt32", "readInt32", "isSigned", "readVarintRemainder2", "num", "pos", "readUtf8TextDecoder", "readUtf8", "arr2", "readPackedEnd", "min", "writeInt32", "writeBigVarint", "str", "writeUtf8", "makeRoomForExtraLength", "fn", "writePackedVarint", "writePackedSVarint", "writePackedBoolean", "writePackedFloat", "writePackedDouble", "writePackedFixed32", "writePackedSFixed32", "writePackedFixed64", "writePackedSFixed64", "l2", "h", "toNum2", "low", "high", "writeBigVarintLow", "writeBigVarintHigh", "lsb", "extraLen", "b0", "bytesPerSequence", "b1", "b2", "b3", "lead", "require_rbush_min", "t2", "t3", "r3", "e3", "a3", "h2", "t4", "n3", "r4", "e4", "a4", "h3", "o3", "s3", "l3", "f3", "u3", "m2", "c3", "p3", "d2", "n2", "i4", "r2", "o2", "f2", "u2", "v", "M", "require_unitbezier_d", "require_tinyqueue", "global", "factory", "TinyQueue", "data", "compare2", "defaultCompare", "item", "top", "bottom", "ref", "parent", "current", "halfLength", "left", "best", "right", "require_polylabel", "Queue", "polylabel2", "precision", "debug", "minX", "minY", "maxX", "maxY", "width", "height", "cellSize", "degeneratePoleOfInaccessibility", "cellQueue", "compareMax", "Cell", "bestCell", "getCentroidCell", "bboxCell", "numProbes", "cell", "poleOfInaccessibility", "pointToPolygonDist", "inside", "minDistSq", "getSegDistSq", "px", "py", "import_point_geometry7", "import_point_geometry2", "import_point_geometry", "import_vector_tile", "import_pbf", "__async2", "u8", "u16", "u32", "fleb", "fdeb", "clim", "freb", "eb", "start", "_a", "fl", "revfl", "_b", "fd", "revfd", "rev", "i", "x", "hMap", "cd", "mb", "le", "co", "rvb", "sv", "r_1", "flt", "fdt", "flrm", "fdrm", "max", "bits", "bits16", "shft", "slc", "ec", "err", "ind", "msg", "nt", "inflt", "dat", "st", "sl", "noBuf", "noSt", "cbuf", "l22", "bl", "nbuf", "final", "bt", "lm", "dm", "lbt", "dbt", "tbts", "hLit", "hcLen", "tl", "ldt", "clt", "clb", "clbmsk", "clm", "lt", "dt", "lms", "dms", "lpos", "sym", "add", "dsym", "et", "gzs", "flg", "zs", "gzl", "zlv", "inflateSync", "out", "gunzipSync", "unzlibSync", "decompressSync", "td", "tds", "shift", "shift2", "unshift", "getUint24", "view", "getUint48", "compare", "tz", "tx", "ty", "queryLeafdir", "offset_len", "queryView", "queryTile", "cmp", "entrySort", "parseEntry", "dataview", "z_raw", "sortDir", "entries", "createDirectory", "entry", "deriveLeaf", "tile", "numEntries", "leaf_level", "level_diff", "leaf_x", "leaf_y", "getHeader", "source", "resp", "json_size", "root_entries", "dec", "json_metadata", "tile_compression", "minzoom", "maxzoom", "center_lon", "center_lat", "center_zoom", "min_lon", "min_lat", "max_lon", "max_lat", "split", "getZxy", "header", "cache", "signal", "root_dir", "tile_data", "leafcoords", "leafdir_entry", "leaf_dir", "tile_entry", "v2_default", "toNum", "readVarintRemainder", "readVarint", "rotate", "xy", "rx", "ry", "zxyToTileId", "acc", "fflateDecompress", "compression", "HEADER_SIZE_BYTES", "findTile", "tileId", "FetchSource", "url", "controller", "content_range", "actual_length", "content_length", "getUint64", "wh", "wl", "bytesToHeader", "bytes", "etag", "spec_version", "deserializeIndex", "lastId", "detectVersion", "EtagMismatch", "getHeaderAndRoot", "decompress", "prefetch", "current_etag", "headerData", "resp_etag", "rootDirData", "dirKey", "rootDir", "getDirectory", "directory", "SharedPromiseCache", "maxCacheEntries", "cacheKey", "res", "minUsed", "minKey", "cache_value", "PMTiles", "tile_id", "d_o", "d_l", "depth", "decompressed", "GeomType", "GeomType2", "toIndex", "loadGeomAndBbox", "geometry", "scale", "parseTile", "tileSize", "features", "loaded", "numVertices", "part", "PmtilesSource", "shouldCancelZooms", "cont", "ZxySource", "R", "MAX_LATITUDE", "MAXCOORD", "project", "latlng", "constrained_lat", "sqr", "dist2", "w", "distToSegmentSquared", "isInRing", "point", "xi", "yi", "xj", "yj", "intersect", "isCCW", "pointInPolygon", "geom", "isInCurrentExterior", "pointMinDistToPoints", "dist", "pointMinDistToLines", "TileCache", "lng", "lat", "zoom", "brushSize", "projected", "normalized", "on_zoom", "tile_x", "tile_y", "idx", "retval", "center", "layer_name", "layer_arr", "ifentry", "ifentry2", "min_used", "min_key", "transformGeom", "translate", "loop", "coord", "wrap", "dim", "View", "tileCache", "maxDataLevel", "levelDiff", "display_zoom", "bounds", "fractional", "needed", "basetile_size", "data_zoom", "mintile_x", "mintile_y", "maxtile_x", "maxtile_y", "origin", "display_tile", "data_tile", "tt", "rounded_zoom", "brush_size", "sourcesToViews", "options", "sourceToViews", "maxDataZoom", "sources", "import_point_geometry3", "painter", "ctx", "prepared_tilemap", "label_data", "rules", "bbox", "clip", "rule", "prepared_tiles", "prepared_tile", "po", "ps", "fbox", "matches", "label", "bbox2", "import_point_geometry4", "import_rbush", "covering", "tile_width", "minx", "miny", "maxx", "maxy", "leveldiff", "wrapped_x", "Index", "maxLabeledTiles", "tileKey", "order", "labels", "match", "test_bbox", "collision", "newSet", "indexed_label", "wrapsLeft", "wrapsRight", "new_bboxes", "duplicate_label", "entry2", "key_added", "added", "max_key", "max_dist", "keys_for_ds", "existing_key", "existing", "keyToRemove", "indexed_labels", "entries_to_delete", "labelToRemove", "Labeler", "scratch", "labelRules2", "callback", "keys_adding", "key2", "tiles_invalidated", "dsName", "feats", "layout", "transformed", "label_added", "conflicts", "conflict", "touched", "all_added", "Labelers", "labeler", "light", "dark", "t", "n", "r", "u", "o", "s", "_", "i2", "a", "c", "_2", "l", "e", "f", "p", "z", "import_point_geometry6", "import_unitbezier", "import_polylabel", "StringAttr", "defaultValue", "NumberAttr", "TextAttr", "_a2", "label_props", "property", "transform", "word", "FontAttr", "_b2", "style", "weight", "family", "ArrayAttr", "import_point_geometry5", "linelabel", "pts", "max_angle_delta", "targetLen", "chunks", "abmag", "bcmag", "abx", "aby", "bcx", "bcy", "i_start", "d_start", "simpleLabel", "mls", "minimum", "repeatDistance", "longestStart", "longestEnd", "longestLength", "candidates", "lastLabeledDistance", "ls", "segments", "segment", "lineCells", "spacing", "factor", "linebreak", "maxUnits", "endIndex", "space_before", "space_after", "first", "after", "CJK_CHARS", "cjk_test", "MAX_VERTICES_PER_DRAW_CALL", "Justify", "Justify2", "TextPlacements", "TextPlacements2", "PolygonSymbolizer", "options", "_a2", "StringAttr", "NumberAttr", "ctx", "z2", "width", "patten", "geom", "f2", "do_stroke", "drawPath", "vertices_in_path", "poly", "MAX_VERTICES_PER_DRAW_CALL", "p2", "pt", "getStopIndex", "input", "stops", "idx", "interpolate", "factor", "start", "end", "computeInterpolationFactor", "z2", "base", "difference", "progress", "exp", "LineSymbolizer", "options", "_a2", "StringAttr", "NumberAttr", "ArrayAttr", "ctx", "z2", "geom", "f2", "strokePath", "vertices_in_path", "ls", "MAX_VERTICES_PER_DRAW_CALL", "p2", "pt", "CircleSymbolizer", "options", "NumberAttr", "StringAttr", "ctx", "geom", "z2", "f2", "radius", "width", "layout", "feature", "pt", "a2", "import_point_geometry6", "bbox", "ShieldSymbolizer", "FontAttr", "TextAttr", "property", "font", "metrics", "ascent", "descent", "p2", "FlexSymbolizer", "list", "labels", "label", "anchor", "height", "draws", "newGeom", "i3", "mergeBbox", "sub", "b1", "b2", "GroupSymbolizer", "first", "d", "CenteredSymbolizer", "symbolizer", "placed", "first_label", "centered", "TextSymbolizer", "options", "FontAttr", "TextAttr", "StringAttr", "NumberAttr", "layout", "geom", "feature", "property", "font", "letterSpacing", "lines", "linebreak", "longestLine", "longestLineLen", "line", "metrics", "width", "ascent", "descent", "lineHeight", "a2", "import_point_geometry6", "bbox", "ctx", "extra", "textStrokeWidth", "startX", "xPos", "letter", "CenteredTextSymbolizer", "CenteredSymbolizer", "OffsetSymbolizer", "symbolizer", "_a2", "_b2", "_c", "GeomType", "anchor", "placed", "first_label", "fb", "offsetXValue", "offsetYValue", "justifyValue", "placements", "ddOffsetX", "ddOffsetY", "ddJustify", "ddPlacements", "offsetX", "offsetY", "getBbox", "o2", "origin", "justify", "draw", "placeLabelInPoint", "placement", "xAxisOffset", "yAxisOffset", "labelWidth", "labelHalfWidth", "labelHalfHeight", "labelBottom", "labelCenterHeight", "fixedJustify", "OffsetTextSymbolizer", "LineLabelPlacement", "LineLabelPlacement2", "LineLabelSymbolizer", "name", "MIN_LABELABLE_DIM", "fbbox", "height", "repeatDistance", "cell_size", "label_candidates", "simpleLabel", "labels", "candidate", "dx", "dy", "bboxes", "lineCells", "c2", "heightPlacement", "lineWidth", "PolygonLabelSymbolizer", "first_poly", "found", "import_polylabel", "doShading", "params", "shade", "shadeHsl", "p", "outParams", "__spreadValues", "key", "value", "z", "paintRules", "PolygonSymbolizer", "z2", "f2", "LineSymbolizer", "exp", "labelRules", "language1", "language2", "nametags", "languageStack", "fill", "FlexSymbolizer", "b", "GroupSymbolizer", "CircleSymbolizer", "ShieldSymbolizer", "xray_symbolizers", "dataSource", "dataLayer", "color", "xray_rules", "prepared_tilemap", "xray", "rules", "tiles", "tile", "R2", "MAXCOORD2", "R2", "import_point_geometry8", "__toModule", "require_point_geometry", "timer", "duration", "resolve", "reject", "reflect", "promise", "v", "error", "leafletLayer", "options", "LeafletLayer", "options2", "theme", "dark", "light", "paintRules", "labelRules", "sourcesToViews", "scratch", "tiles", "t2", "Labelers", "darkOption", "shade", "language1", "language2", "coords", "element", "key", "done", "__async", "promises", "k", "tile_responses", "o2", "prepared_tilemap", "tile_response", "layout_time", "label_data", "center", "pixelBounds", "tileRange", "tileCenter", "priority", "BUF", "bbox", "origin", "ctx", "painting_time", "paint_rules", "xray_rules", "painter", "ypos", "dt", "unwrapped_k", "wrapped_coord", "showTile", "tile", "lng", "lat", "featuresBySourceName", "sourceName", "view", "layer", "ev", "typeGlyphs", "wrapped", "resultsBySourceName", "content", "firstRow", "results", "result", "prop", "map", "setLayerStyle", "layer", "style", "setOptions", "options", "getOptions", "layerOptions", "init", "leafletLayer"]
}
